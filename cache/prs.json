[{"number": 48626, "title": "fix: capture Vercel API errors in PostHog error tracking", "body": "## Problem\n\nVercel integration errors on EU were completely invisible \u2014 no alerts, no error tracking, nothing in PostHog. When `VERCEL_CLIENT_INTEGRATION_SECRET` was missing from EU's AWS Secrets Manager, users got silent failures with no way for us to know.\n\nThree root causes:\n1. `VercelErrorResponseMixin` bypassed the global `drf-exceptions-hog` exception handler by calling bare DRF `exception_handler()` directly, so non-DRF exceptions never hit `capture_exception`\n2. `authenticate_sso`'s catch-all converts all exceptions to `AuthenticationFailed` (an `APIException`), which the global handler intentionally skips for `capture_exception`\n3. `_proxy_to_eu` forwarded the original `Host: us.posthog.com` header when proxying to EU, which could cause EU's ingress to reject or misroute the request \u2014 and the proxy failure was silently swallowed, causing the upsert to execute on US instead of EU\n\n## Changes\n\n- **Refactor `VercelErrorResponseMixin`** to delegate to `super().handle_exception()` (global handler) for reporting, then reformat the response for Vercel's error schema. Follows the same pattern as the SCIM integration.\n- **Add `capture_exception(e)`** to `authenticate_sso`'s catch-all handler so errors like missing config are sent to PostHog error tracking before being re-raised as `AuthenticationFailed`\n- **Change `_validate_client_credentials`** to raise `RuntimeError` instead of `NotFound` \u2014 missing server config is a runtime error, not a client 404\n- **Fix Host header in `_proxy_to_eu`** \u2014 set `Host` to `eu.posthog.com` when proxying, so EU's ingress routes the request correctly\n- **Add warning log** for silently swallowed auth failures in `_extract_installation_id`\n\n## How did you test this code?\n\n**Automated tests** (150 pass, 10 new):\n- Unit tests: Vercel error format for DRF and non-DRF exceptions, `capture_exception` called/not-called correctly\n- Integration tests: Hit actual `/login/vercel/` URL through Django's full request stack with missing env vars, verify response format AND `capture_exception` invocation\n- Proxy test: Verify Host header is set to `eu.posthog.com` when proxying\n\n**Manual local test:**\n```bash\nVERCEL_CLIENT_INTEGRATION_ID=test_id python manage.py runserver 8234\ncurl \"http://localhost:8234/login/vercel/?mode=sso&code=fake&state=fake\"\n```\nResponse: `{\"error\":{\"code\":\"request_failed\",\"message\":\"Authentication failed\",...}}`\nServer logs confirm both the `RuntimeError` traceback AND `capture_exception` firing with an `event_id`.\n\n## Changelog\n\nNo \u2014 this is an internal observability fix, not a user-facing feature.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "MattBro"}, "createdAt": "2026-02-20T18:33:34Z", "mergedAt": "2026-02-20T19:51:00Z", "additions": 123, "deletions": 58, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/api/vercel/test/test_error_mixin_bug.py"}, {"path": "ee/api/vercel/test/test_vercel_region_proxy_mixin.py"}, {"path": "ee/api/vercel/vercel_error_mixin.py"}, {"path": "ee/api/vercel/vercel_region_proxy_mixin.py"}, {"path": "ee/vercel/integration.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "fercgomes"}, "state": "COMMENTED", "submittedAt": "2026-02-20T19:21:03Z"}, {"author": {"login": "fercgomes"}, "state": "COMMENTED", "submittedAt": "2026-02-20T19:22:34Z"}, {"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-20T19:26:31Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T18:10:02Z", "additions": 52, "deletions": 56}}, {"commit": {"committedDate": "2026-02-20T18:19:05Z", "additions": 38, "deletions": 0}}, {"commit": {"committedDate": "2026-02-20T18:49:00Z", "additions": 14, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T19:26:39Z", "additions": 37, "deletions": 19}}]}}, {"number": 48624, "title": "fix: Use a different key than workflow_id", "body": "## Problem\r\n\r\nWhen adding logs to backfills, I overrode the `workflow_id` key with the value for the currently running backfill run (what a mouthful). This makes filtering logs a bit awkward, as one must look for a different global filter than just the backfill workflow id. \r\n\r\nSo let's use a different key.\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nUse `backfill_run_id` instead of `workflow_id` for the current backfill run, so that the top level `workflow_id` can be the backfill workflow itself.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "tomasfarias"}, "createdAt": "2026-02-20T17:34:57Z", "mergedAt": "2026-02-20T18:09:50Z", "additions": 21, "deletions": 10, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/batch_exports/backend/temporal/backfill_batch_export.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "veryayskiy"}, "state": "APPROVED", "submittedAt": "2026-02-20T17:40:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T17:34:36Z", "additions": 5, "deletions": 5}}, {"commit": {"committedDate": "2026-02-20T17:36:01Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-20T17:46:03Z", "additions": 18, "deletions": 7}}]}}, {"number": 48622, "title": "chore: prom metrics for event values API", "body": "this API endpoint lets you trivially query the events table without any specified events\n\nthat is a thirsty query and so no bueno\n\nlet's add a metric so we can see if people are doing this with an API key\n\nand can track / alert on spikes ", "author": {"login": "pauldambra"}, "createdAt": "2026-02-20T17:15:59Z", "mergedAt": "2026-02-20T18:14:30Z", "additions": 17, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/event.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "bciaraldi"}, "state": "APPROVED", "submittedAt": "2026-02-20T17:22:23Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T17:15:25Z", "additions": 17, "deletions": 1}}]}}, {"number": 48614, "title": "chore: support product restore cleaning", "body": "support product restore cleaning", "author": {"login": "veryayskiy"}, "createdAt": "2026-02-20T16:06:08Z", "mergedAt": "2026-02-20T16:46:34Z", "additions": 14, "deletions": 13, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/conversations/backend/api/restore.py"}, {"path": "products/conversations/backend/api/tests/test_restore.py"}, {"path": "products/conversations/backend/services/restore.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "georgemunyoro"}, "state": "APPROVED", "submittedAt": "2026-02-20T16:28:41Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T16:04:53Z", "additions": 14, "deletions": 13}}, {"commit": {"committedDate": "2026-02-20T16:23:27Z", "additions": 411, "deletions": 103}}]}}, {"number": 48613, "title": "chore(ci): update uv version check to enforce workflow pins", "body": "The script previously flagged workflow `version:` pins as errors, based on the assumption that `setup-uv` reads `required-version` from `pyproject.toml` automatically. That's true, but when the constraint is a range (`~=0.10.2`), `setup-uv` still queries the GitHub API to resolve it \u2014 which burns through the shared installation token rate limit under concurrent load.\n\nCheck 2 is flipped: instead of \"no pins allowed\", it now verifies every `setup-uv` usage has an exact pin matching `pyproject.toml`. This catches future uv bumps that forget to update the pins (which caused today's rate limit outage).", "author": {"login": "webjunkie"}, "createdAt": "2026-02-20T15:58:55Z", "mergedAt": "2026-02-20T16:00:29Z", "additions": 52, "deletions": 27, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "bin/check_uv_python_compatibility.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T16:00:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T15:58:35Z", "additions": 52, "deletions": 27}}]}}, {"number": 48610, "title": "fix(ci): pin setup-uv to 0.10.2 across all workflows", "body": "Unpinned `setup-uv` makes a GitHub API call on every job to resolve the latest release version. With 60 backend shards + 16 other workflows all firing concurrently, this burns through the shared installation token budget (5000 req/hr) and causes rate limit failures in unrelated jobs (e.g. `dorny/paths-filter` failing with \"API rate limit exceeded for installation\").\n\nRoot cause: #48557 removed the `version:` pins to bump from 0.9.9 \u2192 0.10.2 but left them unpinned instead of re-pinning to the new version.\n\nRe-pins all 24 usages across 16 workflow files to `0.10.2` with a comment explaining why the pin matters.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-20T15:38:09Z", "mergedAt": "2026-02-20T15:40:57Z", "additions": 30, "deletions": 0, "changedFiles": 16, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/build-hogql-parser.yml"}, {"path": ".github/workflows/ci-agent-skills.yml"}, {"path": ".github/workflows/ci-ai.yml"}, {"path": ".github/workflows/ci-backend-update-test-timing.yml"}, {"path": ".github/workflows/ci-backend.yml"}, {"path": ".github/workflows/ci-dagster.yml"}, {"path": ".github/workflows/ci-e2e-playwright.yml"}, {"path": ".github/workflows/ci-hobby.yml"}, {"path": ".github/workflows/ci-hog.yml"}, {"path": ".github/workflows/ci-mcp.yml"}, {"path": ".github/workflows/ci-nodejs.yml"}, {"path": ".github/workflows/ci-python.yml"}, {"path": ".github/workflows/ci-rust.yml"}, {"path": ".github/workflows/ci-turbo.yml"}, {"path": ".github/workflows/container-images-cd.yml"}, {"path": ".github/workflows/pr-cleanup.yml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T15:44:35Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T15:39:35Z", "additions": 30, "deletions": 0}}]}}, {"number": 48604, "title": "chore: Add logging to backfill workflow", "body": "## Problem\r\n\r\nWe don't have much visibility into what happens in a batch export backfill workflow.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nAdd log lines all over. May remove some later.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "tomasfarias"}, "createdAt": "2026-02-20T14:38:41Z", "mergedAt": "2026-02-20T15:44:26Z", "additions": 31, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/batch_exports/backend/temporal/backfill_batch_export.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "veryayskiy"}, "state": "APPROVED", "submittedAt": "2026-02-20T15:43:23Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T14:38:35Z", "additions": 31, "deletions": 2}}]}}, {"number": 48601, "title": "feat: add filtering and clean up of page and put behind a FF", "body": "## Problem\r\n\r\nThe Pipeline status page needs a lot of ironing out and not customer ready in it's current state. Would love to iterate on this more\r\n\r\n## Changes\r\n\r\nI've cleaned up the page, added filtering and summaries of results. Also hid this behind a Feature flag 'pipeline-status-page'\r\n\r\nBeen a bit cheeky and added both in this one PR for awareness ^ \r\n\r\n<img width=\"1513\" height=\"828\" alt=\"Screenshot 2026-02-20 at 13 58 34\" src=\"https://github.com/user-attachments/assets/10ea5301-f34f-4011-8757-a853180f1362\" />\r\n\r\n\r\n## How did you test this code?\r\n\r\nRan locally and hard coded some debug values to check displays, created the FF in local and i[n proj 2 ](https://us.posthog.com/project/2/feature_flags/591479)\r\n\r\n## Publish to changelog?\r\nno", "author": {"login": "clr182"}, "createdAt": "2026-02-20T14:03:25Z", "mergedAt": "2026-02-20T16:14:30Z", "additions": 358, "deletions": 75, "changedFiles": 11, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation-3000/sidepanel/panels/SidePanelHealth.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/panels/sidePanelHealthLogic.ts"}, {"path": "frontend/src/lib/components/Alerts/views/InlineAlertNotifications.tsx"}, {"path": "frontend/src/lib/components/HealthMenu/HealthMenu.tsx"}, {"path": "frontend/src/lib/constants.tsx"}, {"path": "frontend/src/scenes/health/HealthScene.tsx"}, {"path": "frontend/src/scenes/health/pipelineStatus/PipelineStatusScene.tsx"}, {"path": "frontend/src/scenes/health/pipelineStatus/PipelineStatusSummary.tsx"}, {"path": "frontend/src/scenes/health/pipelineStatus/PipelineStatusToolbar.tsx"}, {"path": "frontend/src/scenes/health/pipelineStatus/pipelineStatusSceneLogic.tsx"}, {"path": "products/data_warehouse/backend/api/data_warehouse.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T14:06:13Z"}, {"author": {"login": "meikelmosby"}, "state": "APPROVED", "submittedAt": "2026-02-20T16:04:49Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T14:00:21Z", "additions": 358, "deletions": 77}}, {"commit": {"committedDate": "2026-02-20T15:45:49Z", "additions": 7158, "deletions": 242}}]}}, {"number": 48595, "title": "chore(cdp): handle null message and missing stringBody in Vercel log drain", "body": "## Summary\n\n- Fix crash when `log.message` is null \u2014 Hog's `and` operator does not short-circuit, so `length(log.message)` was always evaluated even when the type guard failed\n- Fall back to `request.body` (parsed JSON) when `request.stringBody` is unavailable, which happens when the webhook infrastructure consumes the raw body for JSON parsing\n- Switch debug logging from truncated `stringBody` to the reliable `request.body` field (matching the incoming webhook template pattern)\n\n## Test plan\n\n- [x] Existing tests still pass (15/15)\n- [x] New test: null message doesn't crash\n- [x] New test: logs without proxy field work\n- [x] New test: falls back to `request.body` when `stringBody` is empty (single + array)\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "lricoy"}, "createdAt": "2026-02-20T13:36:24Z", "mergedAt": "2026-02-20T15:13:47Z", "additions": 99, "deletions": 11, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/cdp/templates/_sources/vercel/vercel_log_drain.template.test.ts"}, {"path": "nodejs/src/cdp/templates/_sources/vercel/vercel_log_drain.template.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": []}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T13:25:31Z", "additions": 99, "deletions": 11}}, {"commit": {"committedDate": "2026-02-20T13:38:13Z", "additions": 56, "deletions": 4}}, {"commit": {"committedDate": "2026-02-20T14:39:27Z", "additions": 6868, "deletions": 182}}]}}, {"number": 48584, "title": "fix(docker): bump uv in Dockerfile.llm-analytics", "body": "## Summary\n\n- Bump `uv` from `0.9.9` to `0.10.4` in `Dockerfile.llm-analytics` to satisfy the `required-version = \"~=0.10.2\"` constraint added in PR #48276\n- The LLM Analytics container build currently fails with: `error: Required uv version ~=0.10.2 does not match the running version 0.9.9`\n\n## Context\n\nPR #48276 introduced `required-version = \"~=0.10.2\"` in `pyproject.toml`'s `[tool.uv]` section, but `Dockerfile.llm-analytics` was not updated from its pinned `0.9.9`. All other Dockerfiles in the repo already use `0.10.2+`.\n\n## Note on Dependabot\n\nDependabot's uv updater is currently capped at `0.9.18` and cannot satisfy the `~=0.10.2` constraint. Those failures will persist until GitHub ships an updated Dependabot uv updater. This is outside the scope of this PR.\n\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/action:01KHXGR0NCJPQ3DFF6BKNPK2R4)\n> - Addresses [this insight](https://app.mendral.com/insights/01KHXGR0N6FVM9P19QGS9SPBTZ)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-20T12:43:58Z", "mergedAt": "2026-02-20T15:57:55Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "Dockerfile.llm-analytics"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-20T14:23:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T12:43:39Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T15:17:07Z", "additions": 7097, "deletions": 242}}, {"commit": {"committedDate": "2026-02-20T15:46:14Z", "additions": 61, "deletions": 2}}]}}, {"number": 48577, "title": "fix: temporarily increase quota limiting timeout", "body": "Temporarily increasing timeout further after #48552 while we investigate what's causing this\r\n\r\nThe issues seemingly started after migrating the temporal billing worker to new namespace, more context here: https://posthog.slack.com/archives/C01MM7VT7MG/p1771586985192939", "author": {"login": "pawel-cebula"}, "createdAt": "2026-02-20T12:04:23Z", "mergedAt": "2026-02-20T12:25:44Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/quota_limiting/run_quota_limiting.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "langesven"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:04:56Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T12:00:16Z", "additions": 1, "deletions": 1}}]}}, {"number": 48576, "title": "fix(test): register ducklake activities in data imports test worker", "body": "## Summary\n\n- Register ducklake activities in the data imports end-to-end test worker to fix flaky `test_append_only_table[non_dlt]`\n\n## Problem\n\nThe test worker registers `DuckLakeCopyDataImportsWorkflow` in its workflows list but does **not** include the ducklake activities that workflow requires. In the test environment (`DEBUG=1` in `pytest.ini`), all Temporal task queues resolve to the same `\"development-task-queue\"`, so the child `DuckLakeCopyDataImportsWorkflow` gets dispatched to the same queue the test worker listens on. The worker picks up the workflow but fails with:\n\n```\nNotFoundError: Activity function ducklake_copy_data_imports_gate_activity ... is not registered on this worker\n```\n\nThis causes flaky failures in `test_append_only_table[non_dlt]` \u2014 either the `NotFoundError` directly, or data duplication (3 rows vs 2 expected) from partial retries after the workflow fails mid-run.\n\n**Failure rate:** ~2.7% of Temporal test shards on master (199 failures / 7344 runs over 14 days).\n\n## Fix\n\nImport `ACTIVITIES` from `posthog.temporal.ducklake` and concatenate them with the existing data imports `ACTIVITIES` in the test worker configuration. This matches the production pattern where ducklake workflows and activities are registered together on the ducklake worker.\n\n## Changes\n\n- `posthog/temporal/tests/data_imports/test_end_to_end.py`: Added import for `DUCKLAKE_ACTIVITIES` and included them in the worker's `activities` list\n\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/action:01KH3Y9VMGZVMWAX9AJJHX6X15)\n> - Addresses [this insight](https://app.mendral.com/insights/01KH3Y9VKYVKMSSB7DF8G1EVN5)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-20T11:57:57Z", "mergedAt": "2026-02-20T12:30:25Z", "additions": 2, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/tests/data_imports/test_end_to_end.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:30:07Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T11:57:11Z", "additions": 2, "deletions": 1}}]}}, {"number": 48574, "title": "fix(ci): replace EOL claude-3-5-haiku-20241022 with claude-haiku-4-5-20251001", "body": "## Summary\n- Replace end-of-life model `claude-3-5-haiku-20241022` with `claude-haiku-4-5-20251001` in LLM Gateway integration tests and model registry mock data\n- Fixes deterministic CI failure on every master push since Feb 19, 2026 (Anthropic API returns 404 for the retired model)\n\n## Changes\n- **`services/llm-gateway/tests/integration/test_streaming_usage.py`** \u2014 Update model in both `test_streaming_returns_usage_in_final_message` and `test_non_streaming_returns_usage` (the two failing tests)\n- **`services/llm-gateway/tests/test_model_registry.py`** \u2014 Update mock cost data to use current model name\n\n## Context\nThe Anthropic model `claude-3-5-haiku-20241022` reached its announced end-of-life on February 19, 2026. The API now returns `not_found_error` (HTTP 404) for any request using this model ID. This broke the LLM Gateway integration tests (`2 failed, 522 passed`) on every CI run since then.\n\nThe `test_product_config.py` references to `claude-3-5-haiku-20241022` are intentionally left unchanged \u2014 those tests verify that this model is **rejected** by the `array` and `twig` product configs, and the model name is just a test fixture value (no API call).\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/action:01KHVSTFQ42D3B5BSMWZWAHXTK)\n> - Addresses [this insight](https://app.mendral.com/insights/01KHVSTFPYBQ2WFDTK9ER0BY04)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-20T11:53:36Z", "mergedAt": "2026-02-20T12:05:40Z", "additions": 3, "deletions": 3, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "services/llm-gateway/tests/integration/test_streaming_usage.py"}, {"path": "services/llm-gateway/tests/test_model_registry.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:05:06Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T11:53:07Z", "additions": 3, "deletions": 3}}]}}, {"number": 48573, "title": "fix(llma): restore cluster icon and datasets tab title", "body": "## Problem\r\n\r\nUsers navigating to the Clusters, Evaluations, Datasets, and Prompts pages in LLM analytics had inconsistent tab metadata.\r\nClusters, Evaluations, and Prompts did not consistently show an icon in the tab, and Datasets showed the verbose scene name (`LLM analytics datasets`) instead of `Datasets`.\r\n\r\n## Changes\r\n\r\n<img width=\"1418\" height=\"270\" alt=\"image\" src=\"https://github.com/user-attachments/assets/5dbe5160-ee81-4d79-8499-23ac7ebf02eb\" />\r\n\r\n- Added explicit `iconType` values in the LLM analytics manifest for:\r\n  - Clusters (`LLMAnalyticsClusters`, `LLMAnalyticsCluster`)\r\n  - Datasets (`LLMAnalyticsDatasets`, `LLMAnalyticsDataset`)\r\n  - Evaluations (`LLMAnalyticsEvaluations`, `LLMAnalyticsEvaluation`, `LLMAnalyticsEvaluationTemplates`)\r\n  - Prompts (`LLMAnalyticsPrompts`, `LLMAnalyticsPrompt`)\r\n- Updated `LLMAnalyticsDatasets` scene name to `Datasets` so the tab title is concise.\r\n- Added `iconType: 'llm_clusters'` to clusters breadcrumbs in:\r\n  - `clustersLogic`\r\n  - `clusterDetailLogic`\r\n- Regenerated `frontend/src/products.tsx` via `build:products`.\r\n- Added/updated cluster breadcrumb tests to assert icon behavior.\r\n\r\n## How did you test this code?\r\n\r\n- Ran:\r\n  - `pnpm --filter=@posthog/frontend jest products/llm_analytics/frontend/clusters/clustersLogic.test.ts products/llm_analytics/frontend/clusters/clusterDetailLogic.test.ts`\r\n- Result: 2 test suites passed, 52 tests passed.\r\n- Also regenerated products successfully with `pnpm --filter=@posthog/frontend run build:products`.\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "richardsolomou"}, "createdAt": "2026-02-20T11:35:11Z", "mergedAt": "2026-02-20T11:55:03Z", "additions": 38, "deletions": 2, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/products.tsx"}, {"path": "products/llm_analytics/frontend/clusters/clusterDetailLogic.test.ts"}, {"path": "products/llm_analytics/frontend/clusters/clusterDetailLogic.ts"}, {"path": "products/llm_analytics/frontend/clusters/clustersLogic.test.ts"}, {"path": "products/llm_analytics/frontend/clusters/clustersLogic.ts"}, {"path": "products/llm_analytics/manifest.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-20T11:37:02Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T11:33:18Z", "additions": 38, "deletions": 2}}]}}, {"number": 48571, "title": "chore: a bit more validation is always good", "body": "A couple of minor improvements on the backend for conversations", "author": {"login": "veryayskiy"}, "createdAt": "2026-02-20T11:09:00Z", "mergedAt": "2026-02-20T11:51:49Z", "additions": 28, "deletions": 7, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/conversations/backend/api/external.py"}, {"path": "products/conversations/backend/api/restore.py"}, {"path": "products/conversations/backend/api/tests/test_external.py"}, {"path": "products/conversations/backend/api/tickets.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "mariusandra"}, "state": "CHANGES_REQUESTED", "submittedAt": "2026-02-20T11:49:47Z"}, {"author": {"login": "mariusandra"}, "state": "APPROVED", "submittedAt": "2026-02-20T11:50:53Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T11:07:51Z", "additions": 18, "deletions": 5}}, {"commit": {"committedDate": "2026-02-20T11:22:55Z", "additions": 10, "deletions": 2}}]}}, {"number": 48568, "title": "feat(experiments): support non-numeric HogQL aggregations like uniqExact", "body": "## Problem\r\n\r\nFor HogQL expressions, we currently don't support well aggregation functions that operate on non-numeric input (such as `uniqExact`, etc). We currently cast all values to floats, that isn't always the correct thing to do.\r\n\r\n## Changes\r\n- Skip `toFloat` wrapping for HogQL aggregation functions that don't need numeric input (`uniqExact`, `count`, etc ), preserving raw string/non-numeric values\r\n- Add `aggregation_needs_numeric_input()` helper to classify aggregation functions \u2014 numeric functions (`sum`, `avg`) still get `toFloat`, counting/uniqueness functions don't\r\n- Move `coalesce(..., 0)` to wrap the aggregation result (not the input) so users with no events correctly get 0 instead of 1\r\n\r\n## Testing\r\n- [x] New test `test_count_unique_property_values_via_hogql` verifies `uniqExact(properties.category)` with string values, including a user with no events getting 0\r\n- [x] All 305 existing experiment tests pass\r\n- [x] Existing `sum`/`avg` HOGQL tests still work (numeric functions still get `toFloat`)", "author": {"login": "andehen"}, "createdAt": "2026-02-20T10:42:53Z", "mergedAt": "2026-02-20T12:28:46Z", "additions": 364, "deletions": 38, "changedFiles": 9, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql_queries/experiments/base_query_utils.py"}, {"path": "posthog/hogql_queries/experiments/experiment_query_builder.py"}, {"path": "posthog/hogql_queries/experiments/hogql_aggregation_utils.py"}, {"path": "posthog/hogql_queries/experiments/test/experiment_query_runner/__snapshots__/test_base.ambr"}, {"path": "posthog/hogql_queries/experiments/test/experiment_query_runner/__snapshots__/test_mean_metric.ambr"}, {"path": "posthog/hogql_queries/experiments/test/experiment_query_runner/__snapshots__/test_ratio_metric.ambr"}, {"path": "posthog/hogql_queries/experiments/test/experiment_query_runner/test_mean_metric.py"}, {"path": "posthog/hogql_queries/experiments/test/test_hogql_aggregation_integration.py"}, {"path": "posthog/hogql_queries/experiments/test/test_hogql_aggregation_utils.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:48:01Z"}, {"author": {"login": "jurajmajerik"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:27:17Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:36:38Z", "additions": 189, "deletions": 12}}, {"commit": {"committedDate": "2026-02-20T11:14:35Z", "additions": 205, "deletions": 56}}, {"commit": {"committedDate": "2026-02-20T11:32:42Z", "additions": 20, "deletions": 20}}]}}, {"number": 48567, "title": "chore(realtime-cohorts): update consumer", "body": "### Summary \r\n\r\nWe aligned the consumer's schema with what the producer actually emits", "author": {"login": "meikelmosby"}, "createdAt": "2026-02-20T10:42:10Z", "mergedAt": "2026-02-20T13:08:36Z", "additions": 2, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/cdp/consumers/cdp-cohort-membership.consumer.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:54:32Z"}, {"author": {"login": "gustavohstrassburger"}, "state": "APPROVED", "submittedAt": "2026-02-20T13:08:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:38:18Z", "additions": 63, "deletions": 22}}, {"commit": {"committedDate": "2026-02-20T10:47:06Z", "additions": 20, "deletions": 63}}, {"commit": {"committedDate": "2026-02-20T10:48:24Z", "additions": 2, "deletions": 0}}]}}, {"number": 48565, "title": "feat(llma): move byok to global settings with redirects", "body": "## Problem\r\n\r\nLLM analytics BYOK settings were living in a product-specific flow, while other products expose settings in the global Settings experience.\r\nThis made navigation inconsistent, tied BYOK too closely to evaluations, and made the old settings path awkward to maintain.\r\n\r\n## Changes\r\n\r\n<img width=\"1511\" height=\"684\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d17c234c-24e9-4633-bc60-8331e2c78047\" />\r\n\r\n- Added a dedicated `LLM analytics` section in global Settings with `Bring Your Own Key (BYOK)`.\r\n- Moved BYOK management UI into that global setting entry.\r\n- Kept `/llm-analytics/settings` as a redirect to the new global settings location.\r\n- Removed legacy `llmAnalyticsSettings` route/url wiring from product routing/shared logic.\r\n- Kept the evaluations `Settings` tab visible as a redirect target (to avoid jarring UX changes, will remove later and put up a notification message like we did with clusters and datasets).\r\n- Redirected `?tab=settings` on evaluations to global BYOK settings.\r\n- Updated evaluations/trial-usage links (`Manage`, `Add your OpenAI API key`, `adding your own key`) to point to global BYOK settings.\r\n- Updated BYOK empty-state copy so it is not evaluations-only and reflects upcoming playground usage.\r\n\r\n## How did you test this code?\r\n\r\n- Commit hooks ran formatting on touched frontend files.\r\n- Manually verified route/link behavior by code inspection:\r\n  - `/llm-analytics/settings` redirects to global BYOK setting.\r\n  - Evaluations `Settings` tab links to global BYOK setting.\r\n  - `?tab=settings` on evaluations triggers redirect.\r\n  - BYOK links in evaluations and trial meter point to global BYOK setting.\r\n- `pnpm --filter=@posthog/frontend typescript:check` was attempted earlier in this branch context and fails due existing unrelated repo-wide TypeScript errors.\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n", "author": {"login": "richardsolomou"}, "createdAt": "2026-02-20T10:22:21Z", "mergedAt": "2026-02-20T12:37:46Z", "additions": 48, "deletions": 27, "changedFiles": 44, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-csp-reporting--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-csp-reporting--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-danger-zone--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-danger-zone--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-details--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-details--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-heatmaps--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-heatmaps--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-max--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-max--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-privacy--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-privacy--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-authentication--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-authentication--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-billing--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-billing--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-danger-zone--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-danger-zone--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-details--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-details--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-proxy--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-proxy--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-roles--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-roles--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-startup-program--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-organization--settings-organization-startup-program--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-access-control--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-access-control--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-danger-zone--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-danger-zone--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-user--settings-user-api-keys--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-user--settings-user-api-keys--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-user--settings-user-danger-zone--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-user--settings-user-danger-zone--light.png"}, {"path": "frontend/src/products.tsx"}, {"path": "frontend/src/scenes/settings/SettingsMap.tsx"}, {"path": "frontend/src/scenes/settings/types.ts"}, {"path": "products/llm_analytics/frontend/evaluations/LLMAnalyticsEvaluation.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/LLMAnalyticsEvaluationsScene.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationsLogic.ts"}, {"path": "products/llm_analytics/frontend/llmAnalyticsSharedLogic.ts"}, {"path": "products/llm_analytics/frontend/settings/LLMProviderKeysSettings.tsx"}, {"path": "products/llm_analytics/frontend/settings/TrialUsageMeter.tsx"}, {"path": "products/llm_analytics/manifest.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:27:23Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T11:21:43Z"}, {"author": {"login": "richardsolomou"}, "state": "COMMENTED", "submittedAt": "2026-02-20T11:22:46Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-20T11:47:47Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:21:31Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T12:23:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:19:31Z", "additions": 27, "deletions": 9}}, {"commit": {"committedDate": "2026-02-20T10:20:05Z", "additions": 4, "deletions": 8}}, {"commit": {"committedDate": "2026-02-20T10:20:49Z", "additions": 19, "deletions": 9}}, {"commit": {"committedDate": "2026-02-20T10:27:49Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T10:59:16Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-20T11:17:36Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T12:17:17Z", "additions": 5, "deletions": 8}}, {"commit": {"committedDate": "2026-02-20T12:17:50Z", "additions": 1648, "deletions": 614}}]}}, {"number": 48564, "title": "chore(llma): Update LLM costs", "body": "This is an automated PR to update LLM pricing models.\n\n## Reviewer checklist\n\nPlease verify that there aren't any odd changes in the pricing by checking against the official pricing pages:\n\n- [Anthropic Pricing](https://claude.com/pricing#api)\n- [OpenAI Pricing](https://openai.com/api/pricing/)\n- [Google AI (Gemini) Pricing](https://ai.google.dev/pricing)\n- [Mistral AI Pricing](https://mistral.ai/pricing#api-pricing)", "author": {"login": "scheduled-actions-posthog"}, "createdAt": "2026-02-20T10:11:17Z", "mergedAt": "2026-02-20T10:29:06Z", "additions": 2, "deletions": 38, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/ai/costs/providers/canonical-providers.ts"}, {"path": "nodejs/src/ingestion/ai/costs/providers/llm-costs.json"}]}, "labels": {"nodes": [{"name": "automated"}, {"name": "llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:28:51Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:11:13Z", "additions": 2, "deletions": 38}}]}}, {"number": 48563, "title": "fix(data-modeling): Fix column case sensitivity failure in materialize_view_activity after deltalake 1.4.0 upgrade", "body": "## Problem\r\n\r\nAfter the deltalake upgrade to 1.4.0 (#45956), materialized view jobs that produce more than one batch (>100MB) fail when the HogQL query has mixed-case column names (e.g., `Event`, `DistinctId`).\r\n\r\nThe root cause: `schema_mode=\"merge\"` in `write_deltalake()` triggers deltalake 1.4.0's new DataFusion logical plan path, which lowercases identifiers via `enable_ident_normalization`. The schema reconciliation  then does a case-sensitive comparison between the lowercased identifiers and the original-casing stored schema, causing a mismatch (see [delta-io/delta-rs#4097](https://github.com/delta-io/delta-rs/issues/4097))\r\n\r\n## Changes\r\n\r\n~- Removed `schema_mode=\"merge\"` from the append path in `materialize_view_activity`. Since all batches come from the same ClickHouse query, the schema is identical across batches \u2014 no schema merge/evolution is needed. This matches how `run_workflow.py::materialize_model` already handles appends (with `schema_mode=None`).~\r\n\r\nedit: - rather than creating an empty DeltaTable, and then using it to overwrite and append for first and other batches respectively, we just write the first batch, and then use the DeltaTable to append - reusing the pattern from v2 backend\r\n\r\n- Restored `test_dlt_direct_naming` which was deleted in #45956. This test materializes a model with CamelCase column names and asserts the original casing is preserved in the output delta table.\r\n\r\n## How did you test this code?\r\n\r\n- Test pass\r\n\r\n## Publish to changelog?\r\nNO", "author": {"login": "estefaniarabadan"}, "createdAt": "2026-02-20T09:50:03Z", "mergedAt": "2026-02-20T17:28:12Z", "additions": 85, "deletions": 24, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/data_modeling/activities/materialize_view.py"}, {"path": "posthog/temporal/data_modeling/run_workflow.py"}, {"path": "posthog/temporal/tests/data_modeling/test_run_workflow.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T09:52:51Z"}, {"author": {"login": "MarconLP"}, "state": "DISMISSED", "submittedAt": "2026-02-20T09:53:00Z"}, {"author": {"login": "sakce"}, "state": "DISMISSED", "submittedAt": "2026-02-20T10:30:09Z"}, {"author": {"login": "estefaniarabadan"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:48:45Z"}, {"author": {"login": "sakce"}, "state": "APPROVED", "submittedAt": "2026-02-20T16:31:17Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T15:46:51Z", "additions": 62, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T15:46:51Z", "additions": 0, "deletions": 3}}, {"commit": {"committedDate": "2026-02-20T16:07:29Z", "additions": 23, "deletions": 19}}]}}, {"number": 48560, "title": "fix: Change invalid rrweb events handling from DLQ to DROP with warning", "body": "## Problem\n\nMessages with no valid rrweb events should be dropped with an ingestion warning rather than sent to the Dead Letter Queue (DLQ). This provides better visibility into data quality issues while avoiding unnecessary DLQ processing.\n\n## Changes\n\n- Modified `parse-message-step.ts` to return a `DROP` result with an ingestion warning instead of a `DLQ` result when no valid rrweb events are found in a message\n- The warning includes the reason `message_contained_no_valid_rrweb_events` with empty details\n- Updated corresponding test in `parse-message-step.test.ts` to verify the new behavior:\n  - Changed assertion from `PipelineResultType.DLQ` to `PipelineResultType.DROP`\n  - Added assertions to verify the warning is properly attached to the result\n  - Updated test description to reflect the new behavior\n\n## How did you test this code?\n\nThe existing unit test has been updated to verify the new behavior. The test confirms that:\n1. Messages with no valid rrweb events are dropped (not sent to DLQ)\n2. The drop result includes the appropriate reason\n3. The drop result includes a warning with the correct type and details\n\nNo additional testing needed - the change is covered by the updated unit test.\n\n## Publish to changelog?\n\nno\n\nhttps://claude.ai/code/session_01J1PqJyYskHCEzUPVMVW1d1", "author": {"login": "jose-sequeira"}, "createdAt": "2026-02-20T09:10:10Z", "mergedAt": "2026-02-20T14:01:19Z", "additions": 18, "deletions": 4, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/session_replay/parse-message-step.test.ts"}, {"path": "nodejs/src/ingestion/session_replay/parse-message-step.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "z0br0wn"}, "state": "APPROVED", "submittedAt": "2026-02-20T13:59:30Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T09:04:18Z", "additions": 18, "deletions": 4}}]}}, {"number": 48559, "title": "docs(insights): Improve the docs for the query of the Insights", "body": "## Problem\n\nThe insight API serializer was using an inline schema definition for the query field instead of referencing the centralized schema definition. The result is that the Swagger docs were very difficult to interpret as you only had the example to go off (especially for systematically generated Swagger clients).  \n\nAlso see: https://posthoghelp.zendesk.com/agent/tickets/49285\n\n## Changes\n\n_This is a doc only change_\n\n- Introduce a `_InsightQuerySchema` model which holds the available schemas for the query field inside the `insights`. The result is that the typehinting in Swagger is now a lot clearer and it's easier to systematically infer what the available options are. \n    - I wasn't able to find a clear source of truth so I've based the list of available types on the list defined here: https://github.com/PostHog/posthog/blob/bedef2bef5b10cb20ce4366a19550c97267ea459/frontend/src/scenes/insights/insightDataLogic.tsx#L175-L201 \n     \n## How did you test this code?\n\nVerified that the API schema documentation generates correctly with the new fields:\n\n**Before:**\n\n![CleanShot 2026-02-20 at 09.52.09.png](https://app.graphite.com/user-attachments/assets/16cb44a8-59c9-4226-93f6-c295ddc5cf73.png)\n\n**After:**\n\n![CleanShot 2026-02-20 at 10.10.58.png](https://app.graphite.com/user-attachments/assets/38f974fc-de2f-4250-b5c5-5d35bce9b7a4.png)\n\n## Publish to changelog?\n\nNo", "author": {"login": "vdekrijger"}, "createdAt": "2026-02-20T08:57:30Z", "mergedAt": "2026-02-20T11:10:36Z", "additions": 19, "deletions": 17, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/insight.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-20T11:08:38Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T08:57:08Z", "additions": 1, "deletions": 16}}, {"commit": {"committedDate": "2026-02-20T09:07:50Z", "additions": 14, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T09:10:40Z", "additions": 6, "deletions": 1}}]}}, {"number": 48558, "title": "chore(ci): clean up CF Pages playwright reports for closed PRs", "body": "Playwright test reports deploy to Cloudflare Pages on every CI run but never get cleaned up, so deployments accumulate indefinitely.\n\n**What this does**\n- Adds a `cleanup-cf-pages-playwright` job to the existing cleanup workflow that sweeps CF Pages deployments for closed/merged PRs via the Cloudflare API\n- Renames `cleanup-hobby-preview.yml` to `pr-cleanup.yml` to consolidate PR cleanup concerns in one place\n- Runs daily at 3am UTC alongside the existing hobby preview cleanup\n- Also supports targeted cleanup via `workflow_call` (from `pr-closed.yml`) and manual `workflow_dispatch` with dry-run support", "author": {"login": "webjunkie"}, "createdAt": "2026-02-20T08:54:06Z", "mergedAt": "2026-02-20T09:18:30Z", "additions": 105, "deletions": 7, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-hobby.yml"}, {"path": ".github/workflows/pr-cleanup.yml"}, {"path": ".github/workflows/pr-closed.yml"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:57:55Z"}, {"author": {"login": "skoob13"}, "state": "APPROVED", "submittedAt": "2026-02-20T08:58:10Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:59:48Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T08:53:31Z", "additions": 103, "deletions": 5}}, {"commit": {"committedDate": "2026-02-20T09:07:39Z", "additions": 2, "deletions": 2}}]}}, {"number": 48557, "title": "chore(deps): bump uv from 0.9.9 to 0.10.2", "body": "**uv** 0.9.9 \u2192 0.10.2 across flox, Dockerfiles, and CI workflows.\n\nThe `version:` pin is removed from all 12 workflow files \u2014 `setup-uv` now reads the exact pin from `pyproject.toml` (`required-version = \"==0.10.2\"`), so future bumps only touch pyproject.toml + 3 Dockerfiles.\n\nAlso drops the `duckdb` import check from `bin/start` since `uv sync` runs automatically in several places.\n\n**0.10.0 breaking changes** (checked, none affect us):\n- Removed Bookworm/Alpine 3.21/Python 3.8 Docker images \u2014 we use plain version tags\n- Multiple `default = true` indexes now error \u2014 we have no index config\n- `uv venv` requires `--clear` \u2014 we don't use `uv venv` directly", "author": {"login": "webjunkie"}, "createdAt": "2026-02-20T08:51:09Z", "mergedAt": "2026-02-20T10:45:39Z", "additions": 120, "deletions": 112, "changedFiles": 19, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".flox/env/manifest.toml"}, {"path": ".github/workflows/build-hogql-parser.yml"}, {"path": ".github/workflows/ci-agent-skills.yml"}, {"path": ".github/workflows/ci-ai.yml"}, {"path": ".github/workflows/ci-backend.yml"}, {"path": ".github/workflows/ci-dagster.yml"}, {"path": ".github/workflows/ci-e2e-playwright.yml"}, {"path": ".github/workflows/ci-hog.yml"}, {"path": ".github/workflows/ci-mcp.yml"}, {"path": ".github/workflows/ci-nodejs.yml"}, {"path": ".github/workflows/ci-python.yml"}, {"path": ".github/workflows/ci-rust.yml"}, {"path": ".github/workflows/ci-turbo.yml"}, {"path": "Dockerfile"}, {"path": "Dockerfile.ai-evals"}, {"path": "bin/check_uv_python_compatibility.py"}, {"path": "bin/start"}, {"path": "pyproject.toml"}, {"path": "services/llm-gateway/Dockerfile"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:54:18Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:55:05Z"}, {"author": {"login": "mariusandra"}, "state": "APPROVED", "submittedAt": "2026-02-20T09:15:54Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:13:05Z", "additions": 120, "deletions": 112}}]}}, {"number": 48554, "title": "fix(session-recording): fix pagination bug in encryption migration command", "body": "## Summary\n- The `migrate_session_recording_encryption` management command used Django's `Paginator` (OFFSET-based) while mutating the queryset via `.exclude(session_recording_encryption=True)`. Each batch update shifted the queryset, causing every other batch to be skipped \u2014 updating exactly half the intended teams.\n- Fix by materializing target IDs upfront and batching over the list. Also switches from `bulk_update` (loads objects) to `QuerySet.update()` (single SQL UPDATE per batch).\n\n## Test plan\n- [x] Verified bug: dry run reported 28,398 teams, wet run only updated 14,200 (exactly half)\n- [ ] Run fixed command with `--dry-run` and verify count matches wet run", "author": {"login": "TueHaulund"}, "createdAt": "2026-02-20T08:15:42Z", "mergedAt": "2026-02-20T10:11:18Z", "additions": 11, "deletions": 14, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/management/commands/migrate_session_recording_encryption.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:18:12Z"}, {"author": {"login": "fasyy612"}, "state": "APPROVED", "submittedAt": "2026-02-20T09:37:52Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T08:14:22Z", "additions": 11, "deletions": 14}}, {"commit": {"committedDate": "2026-02-20T08:19:39Z", "additions": 1, "deletions": 1}}]}}, {"number": 48553, "title": "fix(notebooks): clear local content on conflict so reload shows latest version", "body": "## Problem\r\n\r\nWhen two users edit the same notebook concurrently, the conflict warning appears correctly but clicking \"Reload to see the latest content\" does **not** show the other user's version.\r\n\r\n[LOOM](https://www.loom.com/share/4d96d96d9999480a81d9572851032c51)\r\n\r\n## Changes\r\n\r\nClear `localContent` when a 409 conflict is caught so that after reload the editor falls through to the server content.\r\n\r\n## How did you test this code?\r\n\r\nManually", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-20T08:06:14Z", "mergedAt": "2026-02-20T09:53:11Z", "additions": 1, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/notebooks/Notebook/notebookLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-20T09:53:09Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T08:05:41Z", "additions": 1, "deletions": 0}}]}}, {"number": 48552, "title": "fix: increase quota limiting timeout", "body": "### Problem\n\nThe `run-quota-limiting` workflow has been failing in US for ~24h with activity timeouts. EU completes in ~30min, but US now exceeds 60min, probably due to more data across all the sequential ClickHouse queries.\n\n### Changes\n\n- `start_to_close_timeout`: 60min -> 120min\n- `maximum_attempts`: 2 -> 1 (retries not needed, runs are already scheduled and take longer than the schedule - FYI if the activity takes >15min, subsequent scheduled runs will be skipped - Temporal's default `SKIP` overlap policy)\n- Removed `initial_interval` (unused with `maximum_attempts=1`)\n- Added per-query structlog timing in via `_timed_query()` helper - the existing `@timed_log` decorator on the query functions uses `print()` which is not captured in temporal container logs. I'm not changing `timed_log` itself since it's a shared util.\n\n### Follow-ups\n\n- Parallelize the ClickHouse queries to reduce runtime", "author": {"login": "pawel-cebula"}, "createdAt": "2026-02-20T07:25:53Z", "mergedAt": "2026-02-20T08:35:04Z", "additions": 45, "deletions": 19, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/billing/quota_limiting.py"}, {"path": "posthog/temporal/quota_limiting/run_quota_limiting.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "abhischekt"}, "state": "APPROVED", "submittedAt": "2026-02-20T08:35:03Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T07:25:02Z", "additions": 2, "deletions": 3}}, {"commit": {"committedDate": "2026-02-20T07:44:55Z", "additions": 43, "deletions": 16}}, {"commit": {"committedDate": "2026-02-20T07:45:20Z", "additions": 685, "deletions": 2}}]}}, {"number": 48548, "title": "feat(dagster): further narrow step 1 windowed person reconciliation job query", "body": "## Problem\r\nAfter parity-testing the last round of changes to windowed persons reconciliation query, I found another source of extra work in the logs.\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Improve step 1 person filtering query again\r\n* Update test suite to exercise this better, including integration/parity tests\r\n* Update job docs/comments to ensure latest behavior is documented\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI; another smoke test parity dry run on team 2 (windowed and non) will be run after this lands in Dagster Cloud\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-20T02:21:40Z", "mergedAt": "2026-02-20T18:28:48Z", "additions": 291, "deletions": 51, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/dags/PERSON_PROPERTY_RECONCILIATION.md"}, {"path": "posthog/dags/person_property_reconciliation.py"}, {"path": "posthog/dags/tests/test_person_property_reconciliation.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "nickbest-ph"}, "state": "APPROVED", "submittedAt": "2026-02-20T17:28:56Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T02:18:13Z", "additions": 291, "deletions": 51}}]}}, {"number": 48547, "title": "fix: prevent payload edits from triggering blast radius and fix condition truncation", "body": "## Summary\r\n- Payload edits no longer trigger `user_blast_radius` API calls. The `propsChanged` hook now excludes `payloads` from the filter comparison since they don't affect targeting.\r\n- Collapsed condition rows now wrap long values (like UUIDs) instead of truncating them with an ellipsis.", "author": {"login": "dmarticus"}, "createdAt": "2026-02-20T01:56:05Z", "mergedAt": "2026-02-20T18:49:07Z", "additions": 10, "deletions": 8, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/feature-flags/FeatureFlagReleaseConditionsCollapsible.tsx"}, {"path": "frontend/src/scenes/feature-flags/featureFlagReleaseConditionsLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gustavohstrassburger"}, "state": "APPROVED", "submittedAt": "2026-02-20T18:46:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T01:55:18Z", "additions": 10, "deletions": 8}}]}}, {"number": 48546, "title": "fix(resolver): selectquerytype in a column", "body": "## Problem\n\n<!-- Who are we building for, what are their needs, why is this important? -->\n@Scott-Sowers-PostHog flagged his endpoint stopped working. the endpoint had a select query as a column in a CTE\n```sql\ndate_range AS (                                                                                                  \n      SELECT                                                                                                       \n          MIN(date) as period_start,                                                                               \n          (SELECT period_end FROM latest_period) as period_end,                                                    \n          dateDiff('day', MIN(date), (SELECT period_end FROM latest_period)) as total_days                         \n      FROM period_data                                                                                             \n  ),                       \n```\nfailing with `posthog.hogql.errors.QueryError: SelectQueryType is not supported in CTETableType`\n\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\n<!-- Closes #ISSUE_ID -->\n\n## Changes\n- support SelectQueryType in a CTE\n\n<!-- If there are frontend changes, please include screenshots. -->\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\n\n## How did you test this code?\n- added a test close to what we saw fail in Endpoints\n\n<!-- Briefly describe the steps you took. -->\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\n\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\n\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\n\n## Publish to changelog?\nno\n<!-- For features only -->\n\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\n\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\n", "author": {"login": "sakce"}, "createdAt": "2026-02-20T01:31:46Z", "mergedAt": "2026-02-20T04:58:20Z", "additions": 15, "deletions": 0, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql/resolver_utils.py"}, {"path": "posthog/hogql/test/test_resolver.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T01:38:39Z"}, {"author": {"login": "georgemunyoro"}, "state": "APPROVED", "submittedAt": "2026-02-20T04:57:38Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T01:31:07Z", "additions": 15, "deletions": 0}}]}}, {"number": 48545, "title": "fix: simplify feature flag blast radius text", "body": "## Summary\n- Simplify the blast radius parenthetical in feature flag release conditions from `(8 matching \u00d7 49%)` to `(49% of 8 matching the filters)`\n- Clarify the boolean flag payload description and add a \"Learn more\" link to the payload docs\n\n## Test plan\n- [ ] Open a feature flag with release conditions and a rollout percentage < 100%\n- [ ] Verify the blast radius text reads `Will match ~3 of 70,489,377 users (49% of 8 matching the filters)`\n- [ ] At 100% rollout, verify it reads `8 of 70,489,377 users match these filters`\n- [ ] Verify the spinner still shows while affected users are loading\n- [ ] On a boolean flag, verify the type description mentions the payload is \"available on the flag when it evaluates to true\"\n- [ ] In the payload collapse panel, verify the \"Learn more\" link goes to the payloads docs\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "dmarticus"}, "createdAt": "2026-02-20T01:03:09Z", "mergedAt": "2026-02-20T01:35:46Z", "additions": 13, "deletions": 8, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/feature-flags/FeatureFlagForm.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlagReleaseConditionsCollapsible.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T01:06:01Z"}, {"author": {"login": "andyzzhao"}, "state": "APPROVED", "submittedAt": "2026-02-20T01:13:34Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T01:16:50Z"}, {"author": {"login": "dmarticus"}, "state": "COMMENTED", "submittedAt": "2026-02-20T01:24:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T01:02:47Z", "additions": 17, "deletions": 56}}, {"commit": {"committedDate": "2026-02-20T01:05:07Z", "additions": 9, "deletions": 3}}, {"commit": {"committedDate": "2026-02-20T01:12:26Z", "additions": 55, "deletions": 17}}]}}, {"number": 48544, "title": "fix: single value property filters looked wrong in edit mode", "body": "the LemonInputSelect looks odd (to me) in single select mode\n\nand that stands out a lot in property filtering where changing operator value switches you between multi and single mode\n\nor where they may be next to each other\n\nadd a new config used only in property filtering that puts the single mode value in a snack too\n\nstories will show what the what", "author": {"login": "pauldambra"}, "createdAt": "2026-02-20T00:06:46Z", "mergedAt": "2026-02-20T13:14:31Z", "additions": 56, "deletions": 4, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/lemon-ui-lemon-input-select--prefilled-single-value--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-input-select--prefilled-single-value--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-input-select--prefilled-single-value-as-snack--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-input-select--prefilled-single-value-as-snack--light.png"}, {"path": "frontend/src/lib/components/PropertyFilters/components/PropertyValue.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonInputSelect/LemonInputSelect.stories.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonInputSelect/LemonInputSelect.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-20T02:09:18Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:53:08Z"}, {"author": {"login": "frankh"}, "state": "APPROVED", "submittedAt": "2026-02-20T12:27:08Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T12:17:39Z", "additions": 56, "deletions": 4}}]}}, {"number": 48542, "title": "chore: add better property filter stories", "body": "i thought i'd fixed this because the stories didn't cover enough cases\n\nso...\n\ncover more", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T23:40:00Z", "mergedAt": "2026-02-20T12:05:28Z", "additions": 200, "deletions": 6, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/filters-property-filter-button--operator-variants--dark.png"}, {"path": "frontend/__snapshots__/filters-property-filter-button--operator-variants--light.png"}, {"path": "frontend/__snapshots__/filters-propertyfilters--operator-variants-editing--dark.png"}, {"path": "frontend/__snapshots__/filters-propertyfilters--operator-variants-editing--light.png"}, {"path": "frontend/src/lib/components/PropertyFilters/PropertyFilters.stories.tsx"}, {"path": "frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.stories.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T23:45:47Z"}, {"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-20T02:08:15Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:51:58Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T10:42:41Z", "additions": 163, "deletions": 0}}, {"commit": {"committedDate": "2026-02-20T10:42:41Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-20T10:42:42Z", "additions": 8, "deletions": 8}}, {"commit": {"committedDate": "2026-02-20T11:03:30Z", "additions": 129, "deletions": 98}}, {"commit": {"committedDate": "2026-02-20T11:46:50Z", "additions": 0, "deletions": 0}}]}}, {"number": 48540, "title": "fix(tests): update ClickHouse error message format in test_query", "body": "## Problem\r\n\r\nA ClickHouse version update changed the error message format for type errors, it now uses infix notation `(a + b)` instead of function call notation `(plus(a, b))`. This caused `test_safe_clickhouse_error_passed_through` to fail due to a string mismatch in the expected error detail.\r\n\r\n## Changes\r\n\r\nUpdated the expected error message in the test to match the new ClickHouse format.\r\n\r\n## How did you test this code?\r\n\r\nRunning it\r\n\r\n## Publish to changelog?\r\n\r\nNo", "author": {"login": "georgemunyoro"}, "createdAt": "2026-02-19T23:18:55Z", "mergedAt": "2026-02-20T00:43:55Z", "additions": 7, "deletions": 8, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/test/test_query.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T23:21:09Z"}, {"author": {"login": "lricoy"}, "state": "APPROVED", "submittedAt": "2026-02-20T00:43:54Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T23:13:42Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T23:19:16Z", "additions": 7, "deletions": 8}}]}}, {"number": 48536, "title": "feat(ux/search): promote search opt count=false", "body": "[This PR when tested on prod showed search is now 53\u201367% faster](https://github.com/PostHog/posthog/pull/48437) faster searching for things in `/search` \r\n\r\n## Changes\r\n* Remove flag\r\n* Remove extra logic and default to `include_counts=false` in the query param in `searchLogic`\r\n\r\n| Include counts | Search query | Search elapsed time | Delta |\r\n  |:---:|:---:|---:|---:|\r\n  | ON | experiment | 5586.40ms | baseline |\r\n  | OFF | experiment  | 2165.80ms | -3420.60ms (-61%) |\r\n  | ON | feature | 6030.40ms | baseline |\r\n  | OFF | feature | 2825.30ms | -3205.10ms (-53%) |\r\n  | ON | @  | 4719.00ms | baseline |\r\n  | OFF | @  | 1762.80ms | -2956.20ms (-63%) |\r\n  | ON | capture  | 5268.00ms | baseline |\r\n  | OFF | capture  | 1762.80ms | -3505.20ms (-67%) |\r\n  | ON | x@posthog.com | 4851.60ms | baseline |\r\n  | OFF | x@posthog.com | 1871.60ms | -2980.00ms (-61%) |\r\n\r\n## How did you test this code?\r\nLocally\r\n\r\n## Publish to changelog?\r\nYes", "author": {"login": "adamleithp"}, "createdAt": "2026-02-19T22:44:44Z", "mergedAt": "2026-02-19T23:02:14Z", "additions": 4, "deletions": 55, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/Search/Search.tsx"}, {"path": "frontend/src/lib/components/Search/searchLogic.tsx"}, {"path": "frontend/src/lib/constants.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-19T22:48:27Z"}, {"author": {"login": "georgemunyoro"}, "state": "APPROVED", "submittedAt": "2026-02-19T22:48:33Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T22:39:44Z", "additions": 4, "deletions": 55}}]}}, {"number": 48532, "title": "fix: taxonomic suggested filters behaviour", "body": "in the revert and reapply dance after yesterday's incident \ni broke some of the flow in applying these fancy filters\n\nbut not any more\n\n![CleanShot 2026-02-19 at 22.15.52.gif](https://app.graphite.com/user-attachments/assets/71e5eb14-b7ca-439c-b133-4faa31a8e33a.gif)\n\n![CleanShot 2026-02-19 at 22.15.08.gif](https://app.graphite.com/user-attachments/assets/dcb64b43-3584-484a-8fd0-5569fa79bcde.gif)\n\n", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T22:17:15Z", "mergedAt": "2026-02-19T22:53:16Z", "additions": 111, "deletions": 15, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx"}, {"path": "frontend/src/lib/components/UniversalFilters/universalFiltersLogic.test.ts"}, {"path": "frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"}, {"path": "frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"}, {"path": "frontend/src/scenes/session-recordings/filters/RecordingsUniversalFiltersEmbed.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T22:23:09Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-19T22:23:12Z"}, {"author": {"login": "georgemunyoro"}, "state": "APPROVED", "submittedAt": "2026-02-19T22:35:15Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T22:33:34Z", "additions": 111, "deletions": 15}}]}}, {"number": 48530, "title": "feat(experiments): add experiment metric to the ajv compiled validators list.", "body": "## Problem\r\n\r\nCreating metrics based on funnels (via the _run experiment_ button) is not currently supported in the new create experiment form. The original implementation assumed that the metric information was correctly formatted in the query string's search parameters.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nWe should treat the search params as user input and perform all necessary checks to ensure we are using a valid experiment metric. To do so, we need to add `ExperimentMetric` to the list of compiled `avj` validators.\r\n\r\nWe also need to update the decorators on `BreakdownFilter.breakdowns` to use [`maxItems`](https://www.learnjsonschema.com/2020-12/validation/maxitems/) instead of [`maxLenght`](https://www.learnjsonschema.com/2020-12/validation/maxlength/), and correctly type it as `array`. If we don't, the generated `validators.js` file will `require` a `ucs2length` module, mixing import syntax and causing a runtime error.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n![cat-type](https://github.com/user-attachments/assets/55c11c36-e0e1-42a0-92cc-7aecc975d14f)\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "rodrigoi"}, "createdAt": "2026-02-19T21:55:22Z", "mergedAt": "2026-02-20T14:12:39Z", "additions": 6066, "deletions": 2, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/bin/build-validators.mjs"}, {"path": "frontend/src/queries/schema-guards.ts"}, {"path": "frontend/src/queries/schema.json"}, {"path": "frontend/src/queries/schema/schema-general.ts"}, {"path": "frontend/src/queries/validators.js"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-20T00:00:47Z"}, {"author": {"login": "rodrigoi"}, "state": "COMMENTED", "submittedAt": "2026-02-20T00:20:58Z"}, {"author": {"login": "webjunkie"}, "state": "COMMENTED", "submittedAt": "2026-02-20T08:28:17Z"}, {"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-20T08:28:51Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T21:41:22Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T21:41:22Z", "additions": 2, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T21:41:22Z", "additions": 6058, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T21:41:22Z", "additions": 5, "deletions": 0}}, {"commit": {"committedDate": "2026-02-20T00:19:46Z", "additions": 1, "deletions": 1}}]}}, {"number": 48525, "title": "chore(ci): sync ClickHouse versions from infra", "body": "Automated sync of ClickHouse versions and settings from posthog-cloud-infra.\n\n**Current versions:**\n| Environment | Version |\n|-------------|---------|\n| Production EU | `25.8.12` |\n| Production US | `25.8.12` |\n| Local | `25.12.5` |\n| Oldest Supported on prod | `25.8.12` |\n\n**Synced settings:**\n| Setting | Production Value |\n|---------|-----------------|\n\n**Files updated:**\n- `.github/clickhouse-versions.json` - version definitions (source of truth)\n- `docker/clickhouse/users-dev.xml` - CI/dev ClickHouse config\n- `docker/clickhouse/users.xml` - hobby deploy ClickHouse config\n\nThe \"oldest_supported\" version is the minimum across production environments and is used as the primary compatibility target in CI. If tests pass on the oldest supported version, they should work everywhere.\n\nThis PR was automatically created by the sync workflow.", "author": {"login": "clickhouse-sync-posthog"}, "createdAt": "2026-02-19T21:29:01Z", "mergedAt": "2026-02-19T22:22:13Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/clickhouse-versions.json"}]}, "labels": {"nodes": [{"name": "automated"}, {"name": "infrastructure"}]}, "reviews": {"nodes": [{"author": {"login": "vdekrijger"}, "state": "APPROVED", "submittedAt": "2026-02-19T22:21:41Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T21:28:57Z", "additions": 1, "deletions": 1}}]}}, {"number": 48518, "title": "docs: update postgres troubleshooting on local setup and rename example test file in copy", "body": "## Problem\r\n\r\nThe developing-locally handbook was missing troubleshooting info for a postgres related setup error and had an outdated test file path example.\r\n\r\n## Changes\r\n\r\n- Added `role \"posthog\" does not exist` error to port conflicts section (could indicates local postgres is running instead of containerized one; happened to me!)\r\n- Updated test path example from outdated `IntervalFilter/intervalFilterLogic.test.ts` to `DateFilter/DateFilter.test.tsx` (that other one does not exist!)\r\n\r\n## How did you test this code?\r\n\r\nVerified the error message is accurate and the new test file path exists in the codebase.\r\n\r\n## Publish to changelog?\r\n\r\nNo", "author": {"login": "rnegron"}, "createdAt": "2026-02-19T20:42:49Z", "mergedAt": "2026-02-20T07:56:52Z", "additions": 2, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "docs/published/handbook/engineering/developing-locally.md"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-20T07:56:31Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:40:47Z", "additions": 2, "deletions": 2}}]}}, {"number": 48517, "title": "fix(experiments): allow ending experiments when variant already shipped", "body": "## Problem\r\n\r\nPreviously, the \"End experiment\" button was hidden when a variant was manually shipped to 100%. This blocked users from formally closing out experiments during cleanup workflows.\r\n\r\n## Changes\r\n\r\nNow the button always shows when the experiment has results, and the modal adapts: if a variant is already shipped, it skips the variant selector and just ends the experiment without touching the flag.\r\n\r\n## How did you test this code?\r\n\r\nlocally\r\n\r\n## Publish to changelog?\r\n\r\nNo\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "ordehi"}, "createdAt": "2026-02-19T20:31:41Z", "mergedAt": "2026-02-20T14:56:11Z", "additions": 72, "deletions": 43, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentView/components.tsx"}, {"path": "frontend/src/scenes/experiments/experimentLogic.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T20:34:31Z"}, {"author": {"login": "mp-hog"}, "state": "APPROVED", "submittedAt": "2026-02-20T08:19:43Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:28:34Z", "additions": 72, "deletions": 43}}]}}, {"number": 48515, "title": "chore(llma): Update LLM costs", "body": "This is an automated PR to update LLM pricing models.\n\n## Reviewer checklist\n\nPlease verify that there aren't any odd changes in the pricing by checking against the official pricing pages:\n\n- [Anthropic Pricing](https://claude.com/pricing#api)\n- [OpenAI Pricing](https://openai.com/api/pricing/)\n- [Google AI (Gemini) Pricing](https://ai.google.dev/pricing)\n- [Mistral AI Pricing](https://mistral.ai/pricing#api-pricing)", "author": {"login": "scheduled-actions-posthog"}, "createdAt": "2026-02-19T20:06:06Z", "mergedAt": "2026-02-19T20:21:30Z", "additions": 46, "deletions": 7, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/ai/costs/providers/canonical-providers.ts"}, {"path": "nodejs/src/ingestion/ai/costs/providers/llm-costs.json"}]}, "labels": {"nodes": [{"name": "automated"}, {"name": "llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "Radu-Raicea"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:06:25Z"}, {"author": {"login": "Radu-Raicea"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:06:57Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:06:02Z", "additions": 46, "deletions": 7}}]}}, {"number": 48514, "title": "fix: orange should be clickable, and text should be true", "body": "![CleanShot 2026-02-19 at 20.02.25@2x.png](https://app.graphite.com/user-attachments/assets/50bfa269-14ac-4362-9447-0bba24e2241a.png)\n\n![CleanShot 2026-02-19 at 20.02.18@2x.png](https://app.graphite.com/user-attachments/assets/a8b67ca1-3c53-4b6b-ae6b-8a56f3ef98c4.png)\n\ni had to turn the flag for this off, so now in prod the text is lying because we won't do anything when you search for an email\n\nand the text is orange so looks clickable\n\nlet's make it not orange, and depend on which groups are active that do something magical", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T20:04:21Z", "mergedAt": "2026-02-19T20:23:43Z", "additions": 30, "deletions": 3, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T20:08:14Z"}, {"author": {"login": "ablaszkiewicz"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:09:35Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:03:36Z", "additions": 30, "deletions": 3}}]}}, {"number": 48512, "title": "feat(llma): surface provider key errors on evaluations", "body": "## Problem\r\n\r\nSurface BYOK provider key failures directly on evaluations pages.\r\n\r\n## Changes\r\n\r\n- Added warning banner on the evaluations list when used keys are invalid or errored.\r\n- Added warning banner on the single evaluation page when that evaluation's key is invalid or errored.\r\n- Added API key selector state indicators (`(Invalid)` / `(Error)`) and shared key-state helpers.\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-19T19:54:07Z", "mergedAt": "2026-02-20T18:15:25Z", "additions": 335, "deletions": 4, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/frontend/evaluations/LLMAnalyticsEvaluation.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/LLMAnalyticsEvaluationsScene.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationLogic.test.ts"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationLogic.ts"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationsLogic.test.ts"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationsLogic.ts"}, {"path": "products/llm_analytics/frontend/settings/providerKeyStateUtils.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:26:27Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T19:57:02Z", "additions": 318, "deletions": 4}}, {"commit": {"committedDate": "2026-02-20T13:58:42Z", "additions": 20, "deletions": 3}}, {"commit": {"committedDate": "2026-02-20T14:23:18Z", "additions": 16294, "deletions": 5998}}, {"commit": {"committedDate": "2026-02-20T15:04:19Z", "additions": 73, "deletions": 44}}, {"commit": {"committedDate": "2026-02-20T16:25:33Z", "additions": 571, "deletions": 116}}, {"commit": {"committedDate": "2026-02-20T16:52:22Z", "additions": 14, "deletions": 13}}]}}, {"number": 48505, "title": "fix: run label filter on timing guard drop", "body": "## Problem\r\n\r\nPR #46053 added `team_id` labels to DB query timing histograms (`flags_person_query_time`, `flags_cohort_query_time`, `flags_group_query_time`, `flags_definition_query_time`).\r\nThese metrics are recorded via `TimingGuard`, which writes directly to Prometheus without applying the global `team_id_label_filter`.\r\n\r\nThis means every unique team ID becomes a distinct label value (~6k teams), instead of collapsing untracked teams to `\"unknown\"` (~55 values).\r\n\r\n## Fix\r\n\r\nApply `apply_label_filter()` in `TimingGuard::drop()` before recording the histogram, matching the behavior of the standalone `histogram()` helper.\r\n\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "matheus-vb"}, "createdAt": "2026-02-19T18:59:17Z", "mergedAt": "2026-02-19T19:17:27Z", "additions": 6, "deletions": 3, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "rust/common/metrics/src/lib.rs"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T19:02:24Z"}, {"author": {"login": "patricio-posthog"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:06:46Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T18:58:15Z", "additions": 3, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T19:03:54Z", "additions": 3, "deletions": 2}}]}}, {"number": 48504, "title": "chore(session-recording): remove _should_use_recording_api feature flag", "body": "## Summary\n\n- Removes the `session-replay-use-recording-api` feature flag and `_should_use_recording_api()` method\n- All block fetches now always go through the recording-api (`encrypted_block_storage`)\n- All deletes always call the recording-api for crypto-shredding\n- Fixes a latent bug where `only_evaluate_locally=True` could return `False` on flag cache miss, causing encrypted blocks to be served through the cleartext S3 path\n\n## Context\n\nThe recording-api has been at 100% rollout in both US and EU regions. The feature flag branching is no longer needed and was masking a bug where local flag evaluation failures could route encrypted sessions through the wrong storage path.\n\n## Test plan\n\n- [x] All session recording tests pass (79 + 27 + 10 = 116 tests)\n- [x] No remaining references to `_should_use_recording_api` or `session-replay-use-recording-api`\n- [x] No remaining references to `cleartext_block_storage` in session recordings", "author": {"login": "TueHaulund"}, "createdAt": "2026-02-19T18:57:43Z", "mergedAt": "2026-02-19T20:03:14Z", "additions": 88, "deletions": 209, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/session_recordings/session_recording_api.py"}, {"path": "posthog/session_recordings/test/test_session_recording_access_control.py"}, {"path": "posthog/session_recordings/test/test_session_recording_snapshots_api_blob_v2.py"}, {"path": "posthog/session_recordings/test/test_session_recordings.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "fasyy612"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:00:08Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T18:57:27Z", "additions": 88, "deletions": 209}}]}}, {"number": 48503, "title": "feat(kafka): expose client rack and ID awareness on Rust SingleTopicConsumer", "body": "## Problem\r\nWe need to expose two new Kafka consumer configs in Rust clients to ensure they can consume exclusively from WS deploys inside their AZ in production. Part 2 of a series to ensure `property-defs-rs` is AZ-aware when consuming our WS ingestion pipeline output topics.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Expose `client.rack` and consumer group client ID env var configs in `SingleTopicConsumer`\r\n* Ensure these are not set if the vars aren't set for back compatibility\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-19T18:51:54Z", "mergedAt": "2026-02-19T21:03:11Z", "additions": 18, "deletions": 0, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "rust/common/kafka/src/config.rs"}, {"path": "rust/common/kafka/src/kafka_consumer.rs"}, {"path": "rust/common/kafka/src/test.rs"}, {"path": "rust/kafka-deduplicator/src/service.rs"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "jose-sequeira"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:09:30Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T19:19:37Z", "additions": 16, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T19:26:16Z", "additions": 2, "deletions": 0}}]}}, {"number": 48500, "title": "chore: add docs links to approval settings sections", "body": "## Problem\n\nThe approval policies and change requests settings pages have no docs links.\n\n## Changes\n\nAdd `docsUrl` to both approval settings entries, linking to the relevant sections on `posthog.com/docs/settings/approvals`.", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T18:11:43Z", "mergedAt": "2026-02-19T18:48:55Z", "additions": 2, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/settings/SettingsMap.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "ReeceJones"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:48:53Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T18:10:56Z", "additions": 2, "deletions": 0}}]}}, {"number": 48498, "title": "fix(experiments): Filter precomputed exposures by exp dates", "body": "## Changes\r\nFixed missing timestamp filtering in experiment exposure precomputation read query. Jobs cover broader time ranges for reusability and aren't invalidated when experiment dates change, so the read query must filter by current experiment dates to avoid overcounting. Added `first_exposure_time >= date_from AND <= date_to` to match direct scan behavior.\r\n\r\n## How did you test this code?\r\nAdded a test", "author": {"login": "jurajmajerik"}, "createdAt": "2026-02-19T17:52:04Z", "mergedAt": "2026-02-19T18:42:40Z", "additions": 101, "deletions": 0, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql_queries/experiments/experiment_query_builder.py"}, {"path": "posthog/hogql_queries/experiments/test/test_experiment_exposure_preaggregation.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "rodrigoi"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:08:05Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:50:29Z", "additions": 101, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T18:17:26Z", "additions": 2, "deletions": 2}}]}}, {"number": 48496, "title": "fix(session-recording): patch failing tests", "body": "## Problem\r\n\r\ntests are failing on https://github.com/PostHog/posthog/actions/runs/22192863088/job/64185342853\r\n\r\n## Changes\r\n\r\nfix the tests\r\n\r\n## How did you test this code?\r\n\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "z0br0wn"}, "createdAt": "2026-02-19T17:48:36Z", "mergedAt": "2026-02-19T18:33:46Z", "additions": 2, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/session_replay/session-replay-pipeline.test.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "jose-sequeira"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:51:25Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:47:48Z", "additions": 2, "deletions": 0}}]}}, {"number": 48495, "title": "fix(insights): Tooltips going off screen", "body": "## Problem\r\nTooltips can go off screen still if you put a small pie chart right up to the edge. \r\n\r\n<img width=\"359\" height=\"440\" alt=\"Screenshot 2026-02-19 at 17 42 11\" src=\"https://github.com/user-attachments/assets/770c078a-49bb-479c-9f80-b19db687cdc6\" />\r\n\r\n## Changes\r\n\r\nStops them going off screen:\r\n<img width=\"509\" height=\"552\" alt=\"Screenshot 2026-02-19 at 17 41 52\" src=\"https://github.com/user-attachments/assets/0e8784fc-70b5-4313-8d78-a155cae72202\" />\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-19T17:43:28Z", "mergedAt": "2026-02-20T10:04:25Z", "additions": 43, "deletions": 27, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/useInsightTooltip.ts"}, {"path": "frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx"}, {"path": "frontend/src/scenes/insights/views/LineGraph/PieChart.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:47:44Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:48:48Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T18:00:38Z"}, {"author": {"login": "gesh"}, "state": "APPROVED", "submittedAt": "2026-02-20T09:35:18Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:41:21Z", "additions": 29, "deletions": 27}}, {"commit": {"committedDate": "2026-02-19T17:51:14Z", "additions": 9, "deletions": 5}}, {"commit": {"committedDate": "2026-02-19T17:53:52Z", "additions": 11, "deletions": 4}}, {"commit": {"committedDate": "2026-02-19T17:54:53Z", "additions": 0, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T17:55:26Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T18:02:47Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T08:41:23Z", "additions": 4, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T09:39:53Z", "additions": 3, "deletions": 3}}]}}, {"number": 48484, "title": "fix(hooks): convert useInterval to TypeScript", "body": "after finding one bug from a funky useEffect in one of our `lib/hooks` hooks\n\ni asked the robot to review the rest of them\n\nit insists these are all \"idiomatic\" improvements\n\ncreated as a stack to avoid a large blast radius from this change", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T17:36:34Z", "mergedAt": "2026-02-20T19:17:41Z", "additions": 21, "deletions": 21, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-details--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-project--settings-project-details--light.png"}, {"path": "frontend/src/lib/hooks/useInterval.js"}, {"path": "frontend/src/lib/hooks/useInterval.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:11:26Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T18:24:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T18:31:07Z", "additions": 19, "deletions": 21}}, {"commit": {"committedDate": "2026-02-20T18:31:08Z", "additions": 3, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T19:00:48Z", "additions": 0, "deletions": 0}}]}}, {"number": 48483, "title": "fix(hooks): convert useSecondRender to TypeScript", "body": "after finding one bug from a funky useEffect in one of our `lib/hooks` hooks\n\ni asked the robot to review the rest of them\n\nit insists these are all \"idiomatic\" improvements\n\ncreated as a stack to avoid a large blast radius from this change", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T17:36:32Z", "mergedAt": "2026-02-20T18:02:00Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/hooks/useSecondRender.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:46:41Z"}, {"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:11:15Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-20T17:37:44Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T17:31:40Z", "additions": 1, "deletions": 1}}]}}, {"number": 48482, "title": "fix(hooks): use strict equality in useResizeObserver", "body": "after finding one bug from a funky useEffect in one of our `lib/hooks` hooks\n\ni asked the robot to review the rest of them\n\nit insists these are all \"idiomatic\" improvements\n\ncreated as a stack to avoid a large blast radius from this change", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T17:36:30Z", "mergedAt": "2026-02-20T14:31:05Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/hooks/useResizeObserver.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:45:19Z"}, {"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:11:08Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:49:23Z", "additions": 1, "deletions": 1}}]}}, {"number": 48481, "title": "fix: add loading state to feature flag status and toggle", "body": "## Problem\n\nWhen toggling a feature flag's enabled/disabled state, there's no visual feedback to the user that the update is in progress. This can lead to confusion or duplicate clicks if the network request takes time to complete.\n\n## Changes\n\n- **New `FeatureFlagStatusCell` component**: Extracted the status cell rendering logic into a reusable component that displays loading state with a spinner and \"Updating\" tag while a flag update is in progress\n- **Loading state tracking**: Added `featureFlagsUpdating` reducer to track which flags are currently being updated by ID\n- **Enhanced toggle button**: The enable/disable button in row actions now shows loading state and is disabled with \"Updating\u2026\" message during updates\n- **Refactored status rendering**: Replaced inline status rendering in the table column with the new `FeatureFlagStatusCell` component for consistency\n\nThe implementation tracks update state per flag ID, so multiple flags can be updated independently without affecting each other's UI state.\n\n## How did you test this code?\n\n- Verified that toggling a feature flag's enabled/disabled state shows the loading spinner and \"Updating\" tag\n- Confirmed the button is disabled during the update with appropriate disabled reason text\n- Tested that the loading state clears on successful update or failure\n- Verified that stale flag indicators still display correctly alongside the loading state\n\n## Publish to changelog?\n\nYes\n\nhttps://claude.ai/code/session_01GojUYoT3GuHxSNDJL959oH", "author": {"login": "pauldambra"}, "createdAt": "2026-02-19T17:28:11Z", "mergedAt": "2026-02-19T22:37:28Z", "additions": 81, "deletions": 34, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/feature-flags/FeatureFlags.tsx"}, {"path": "frontend/src/scenes/feature-flags/featureFlagsLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T21:30:58Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T22:11:54Z"}, {"author": {"login": "dmarticus"}, "state": "APPROVED", "submittedAt": "2026-02-19T22:17:45Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:25:31Z", "additions": 81, "deletions": 34}}, {"commit": {"committedDate": "2026-02-19T21:21:10Z", "additions": 10802, "deletions": 11243}}, {"commit": {"committedDate": "2026-02-19T21:25:25Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T21:27:21Z", "additions": 423, "deletions": 102}}, {"commit": {"committedDate": "2026-02-19T22:11:50Z", "additions": 4, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T22:18:56Z", "additions": 1, "deletions": 4}}]}}, {"number": 48480, "title": "fix: Project token naming", "body": "## Problem\n\nTo improve clarity and consistency, the term \"Project API key\" is being updated to \"Project token\" across the UI.\n\n## Changes\n\n- **`SettingsMap.tsx`**: Updated section title and description to \"Project token & ID\".\n- **`TeamSettings.tsx`**: Renamed all instances of \"Project API key\" to \"Project token\" in labels, reset dialogs, tooltips, and code snippets.\n\n## How did you test this code?\n\n- Verified changes compile and adhere to formatting standards using `yarn lint --fix` and `yarn prettier --write`.\n- Manually checked the relevant settings UI pages to confirm the text changes.\n\n## Publish to changelog?\n\nno\n\n---\n[Slack Thread](https://posthog.slack.com/archives/C0ACRAMJUAG/p1771521112855819?thread_ts=1771521112.855819&cid=C0ACRAMJUAG)\n\n<p><a href=\"https://cursor.com/background-agent?bcId=bc-6675a815-bcc8-5a82-9c86-d828df8f4bbf\"><picture><source media=\"(prefers-color-scheme: dark)\" srcset=\"https://cursor.com/assets/images/open-in-cursor-dark.png\"><source media=\"(prefers-color-scheme: light)\" srcset=\"https://cursor.com/assets/images/open-in-cursor-light.png\"><img alt=\"Open in Cursor\" width=\"131\" height=\"28\" src=\"https://cursor.com/assets/images/open-in-cursor-dark.png\"></picture></a>&nbsp;<a href=\"https://cursor.com/agents?id=bc-6675a815-bcc8-5a82-9c86-d828df8f4bbf\"><picture><source media=\"(prefers-color-scheme: dark)\" srcset=\"https://cursor.com/assets/images/open-in-web-dark.png\"><source media=\"(prefers-color-scheme: light)\" srcset=\"https://cursor.com/assets/images/open-in-web-light.png\"><img alt=\"Open in Web\" width=\"114\" height=\"28\" src=\"https://cursor.com/assets/images/open-in-web-dark.png\"></picture></a></p>\n\n", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-19T17:27:53Z", "mergedAt": "2026-02-20T17:44:08Z", "additions": 8, "deletions": 13, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/settings/SettingsMap.tsx"}, {"path": "frontend/src/scenes/settings/environment/TeamSettings.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:30:26Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T18:42:47Z"}, {"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-20T17:44:06Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:27:37Z", "additions": 8, "deletions": 8}}, {"commit": {"committedDate": "2026-02-19T20:37:02Z", "additions": 1, "deletions": 6}}]}}, {"number": 48479, "title": "fix: Add error handling and disable remote config updates on failure", "body": "## Problem\n\nThe hedgehog mode remote config update logic lacks error handling, which can cause silent failures when API calls fail. Additionally, there's no mechanism to prevent repeated update attempts after a failure occurs.\n\n## Changes\n\n- Added `remoteConfigUpdateDisabled` state to track when remote config updates should be paused\n- Added `setRemoteConfigUpdateDisabled` action to control this state\n- Wrapped `updateRemoteConfig` in try-catch to handle API failures gracefully\n- On error, the logic now disables further remote config updates and logs the error\n- Updated `setHedgehogModeEnabled` listener to respect the `remoteConfigUpdateDisabled` flag\n- Updated `syncFromState` listener to skip syncing when updates are disabled\n- Improved code organization by wrapping the update logic in a try-catch block\n\n## How did you test this code?\n\nThe changes are defensive in nature - they add error handling and state management to prevent cascading failures. Existing functionality is preserved when no errors occur. The logic gracefully degrades by disabling updates when the API becomes unavailable, preventing repeated failed requests.\n\n## Publish to changelog?\n\nno\n\nhttps://claude.ai/code/session_01N6mjDzwK176YygeaVgG3dY", "author": {"login": "benjackwhite"}, "createdAt": "2026-02-19T17:21:18Z", "mergedAt": "2026-02-19T18:01:09Z", "additions": 37, "deletions": 22, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/HedgehogMode/hedgehogModeLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:24:23Z"}, {"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:59:28Z"}, {"author": {"login": "adboio"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:59:52Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:15:39Z", "additions": 37, "deletions": 22}}]}}, {"number": 48478, "title": "feat(llma): add cluster color border to cluster cards", "body": "## Changes\n\nAdd a colored left border to each cluster card using the same series color as the distribution bar and scatter plot, visually linking cards to their corresponding cluster.\n\n## How did you test this code?\n\n- Verified TypeScript compiles without errors\n- Color logic reuses existing `getSeriesColor()` / `OUTLIER_COLOR` from the distribution bar", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-19T17:18:53Z", "mergedAt": "2026-02-19T22:14:40Z", "additions": 10, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/frontend/clusters/ClusterCard.tsx"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:20:46Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:22:24Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:49:41Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:49:42Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:51:16Z"}, {"author": {"login": "Radu-Raicea"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:46:17Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T17:18:02Z", "additions": 6, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T17:51:05Z", "additions": 5, "deletions": 1}}]}}, {"number": 48477, "title": "feat(twig): twig cloud runs signals ux improvements", "body": "## Problem\r\n\r\n- Task descriptions and user message in run logs collapsible\r\n- Fixed required_scopes on signal report artifacts endpoint\r\n\r\n**Before**:\r\n\r\n<img width=\"1209\" height=\"1211\" alt=\"CleanShot 2026-02-19 at 5\u202f 02 01\" src=\"https://github.com/user-attachments/assets/8ca9a9e4-7d2a-49ac-a719-5cf5f773d6d6\" />\r\n<img width=\"1191\" height=\"752\" alt=\"CleanShot 2026-02-19 at 5\u202f 02 13\" src=\"https://github.com/user-attachments/assets/97c42977-0463-4abe-9bbb-f47b14d204c8\" />\r\n\r\n\r\n**After**:\r\n<img width=\"1190\" height=\"632\" alt=\"CleanShot 2026-02-19 at 4\u202f 50 22\" src=\"https://github.com/user-attachments/assets/cfb61244-45d9-4464-9f79-054a52d679be\" />\r\n", "author": {"login": "tatoalo"}, "createdAt": "2026-02-19T17:11:56Z", "mergedAt": "2026-02-20T10:13:15Z", "additions": 78, "deletions": 2, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/tasks/frontend/components/CollapsibleContent.tsx"}, {"path": "products/tasks/frontend/components/TaskDetailPage.tsx"}, {"path": "products/tasks/frontend/components/TaskSessionView.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:33:12Z"}, {"author": {"login": "tatoalo"}, "state": "COMMENTED", "submittedAt": "2026-02-19T19:12:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T09:53:01Z", "additions": 78, "deletions": 2}}]}}, {"number": 48473, "title": "fix(exports): use anchor navigation instead of fetch", "body": "## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\nIf you try to download an export that is large, the browser will crash trying to load it into memory. You can replicate this issue by trying to download `export-2026-02-17-052452-2026-02-17.csv` from https://us.posthog.com/project/2/exports\r\n\r\nYour browser might crash because the export is 6.8 GB ([us-east-1.console.aws.amazon.com/s3/buckets/posthog-cloud-prod-us-east-1-app-assets?region=us-east-1&prefix=exports/csv/team-2/task-3557816/&showversions=false](https://us-east-1.console.aws.amazon.com/s3/buckets/posthog-cloud-prod-us-east-1-app-assets?region=us-east-1&prefix=exports/csv/team-2/task-3557816/&showversions=false)) \r\n\r\nAlso, since we are fetching the export first, the user doesn't see their browser's download progress bar during the fetch\r\n\r\n## Changes\r\n\r\nUse anchor navigation instead of fetching the export. \r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n- Unit test\r\n- Verified locally that request type is document instead of fetch \r\n\r\nBefore:\r\n<img width=\"477\" height=\"44\" alt=\"Screenshot 2026-02-19 at 10 50 44\u202fAM\" src=\"https://github.com/user-attachments/assets/7379ac17-43a3-4450-9471-94f5b6bc71c2\" />\r\n\r\nAfter:\r\n<img width=\"478\" height=\"46\" alt=\"Screenshot 2026-02-19 at 10 51 19\u202fAM\" src=\"https://github.com/user-attachments/assets/4d85127f-2ec6-4d7c-8f08-0b77b0820f69\" />\r\n\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "andyzzhao"}, "createdAt": "2026-02-19T16:23:47Z", "mergedAt": "2026-02-19T17:20:13Z", "additions": 38, "deletions": 7, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/ExportButton/exporter.test.ts"}, {"path": "frontend/src/lib/components/ExportButton/exporter.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T16:27:41Z"}, {"author": {"login": "vdekrijger"}, "state": "APPROVED", "submittedAt": "2026-02-19T16:49:37Z"}, {"author": {"login": "andyzzhao"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:10:36Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:10:07Z", "additions": 50, "deletions": 7}}, {"commit": {"committedDate": "2026-02-19T16:27:17Z", "additions": 9, "deletions": 21}}, {"commit": {"committedDate": "2026-02-19T17:06:03Z", "additions": 27837, "deletions": 14125}}]}}, {"number": 48472, "title": "fix(llma): refactor generation-level clustering to use subqueries", "body": "## Problem\n\nGeneration-level clustering returns 0 items for teams despite matching embeddings existing in ClickHouse. The root cause is the data pipeline materializing ~117K generation UUIDs into Python and building a massive `IN ('uuid1', ..., 'uuid117550')` clause (~4.7 MB), which silently fails. When the same logic is expressed as a ClickHouse subquery (`IN (SELECT ...)`), it works correctly.\n\n## Changes\n\n**`data.py`** - Replace 3-hop Python ID materialization with inline ClickHouse subqueries:\n- Remove `fetch_eligible_trace_ids` and `fetch_generation_ids_for_traces` (only used here)\n- Three query templates based on `(has_filters, analysis_level)`:\n  - No filters: simple embeddings query (unchanged)\n  - Trace-level + filters: 1-level subquery (`document_id IN (SELECT trace_ids)`)\n  - Generation-level + filters: 2-level nested subquery (`document_id IN (SELECT gen_uuids WHERE trace_id IN (SELECT filtered_traces))`)\n- Extract `_build_property_filter_expr` helper\n- Upgrade logging from debug to info for production visibility\n\n**`constants.py`** - Remove `MAX_ELIGIBLE_IDS` constant (no longer needed without Python-side materialization)\n\n**`activities.py`** - Add empty-items guard after summary filtering loop to return early instead of crashing on empty numpy array. Upgrade embedding count logging to info level.\n\n**`tests/test_data.py`** - Remove tests for deleted functions, add tests for new subquery approach and `_build_property_filter_expr` helper.\n\n## How did you test this code?\n\n- All 105 clustering tests pass: `pytest posthog/temporal/llm_analytics/trace_clustering/`\n- Verified generation-level subquery returns 1,516 results for team 2 via ClickHouse (previously returned 0)\n\n## Publish to changelog?\n\nNo", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-19T16:20:13Z", "mergedAt": "2026-02-20T10:41:57Z", "additions": 165, "deletions": 322, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/llm_analytics/trace_clustering/activities.py"}, {"path": "posthog/temporal/llm_analytics/trace_clustering/constants.py"}, {"path": "posthog/temporal/llm_analytics/trace_clustering/data.py"}, {"path": "posthog/temporal/llm_analytics/trace_clustering/tests/test_data.py"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:41:54Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:19:27Z", "additions": 165, "deletions": 322}}]}}, {"number": 48471, "title": "feat(llma): add fireworks byok provider for evaluations", "body": "## Problem\r\n\r\nLLM analytics evaluations BYOK did not support Fireworks as a provider.\r\n\r\n## Changes\r\n\r\n- Added Fireworks as a supported BYOKey provider.\r\n- Improved pre-validation error handling so failures show specific messages instead of a generic request failure.\r\n\r\n## How did you test this code?\r\n\r\nautomated test and manual adding of the key.\r\n\r\n## Publish to changelog?\r\n\r\nFireworks is now supported by LLM Analytics' Evaluations feature through BYOKey.\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-19T16:17:02Z", "mergedAt": "2026-02-19T20:06:11Z", "additions": 371, "deletions": 13, "changedFiles": 17, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/backend/api/provider_keys.py"}, {"path": "products/llm_analytics/backend/api/test/test_provider_keys.py"}, {"path": "products/llm_analytics/backend/llm/client.py"}, {"path": "products/llm_analytics/backend/llm/providers/fireworks.py"}, {"path": "products/llm_analytics/backend/llm/providers/test/test_fireworks.py"}, {"path": "products/llm_analytics/backend/llm/test/test_client.py"}, {"path": "products/llm_analytics/backend/migrations/0015_add_fireworks_provider.py"}, {"path": "products/llm_analytics/backend/migrations/max_migration.txt"}, {"path": "products/llm_analytics/backend/models/provider_keys.py"}, {"path": "products/llm_analytics/frontend/evaluations/LLMAnalyticsEvaluation.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationLogic.test.ts"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationLogic.ts"}, {"path": "products/llm_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/llm_analytics/frontend/settings/LLMProviderKeysSettings.tsx"}, {"path": "products/llm_analytics/frontend/settings/llmProviderKeysLogic.ts"}, {"path": "products/marketing_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/marketing_analytics/frontend/generated/api.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:01:14Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:15:58Z", "additions": 324, "deletions": 12}}, {"commit": {"committedDate": "2026-02-19T16:31:39Z", "additions": 32, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T19:44:45Z", "additions": 21, "deletions": 7}}]}}, {"number": 48469, "title": "feat(feature-flags): add approvals promo banner on feature flags list", "body": "## Problem\r\n\r\nWe need to advertise Approvals a little.\r\n\r\n## Changes\r\n\r\nAdds a dismissable promo banner to the feature flags list page (Overview tab) that promotes the Approvals feature.\r\n\r\n**Visibility conditions:**\r\n- Org is on Scale or Enterprise plan (checked via `hasAvailableFeature(AvailableFeature.APPROVALS)`)\r\n- Current user is admin or owner\r\n\r\n<img width=\"1326\" height=\"488\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e96d3fee-edb6-437a-a52f-49dc16fc757f\" />\r\n\r\nStolen from @ReeceJones sorry not sorry \r\n", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T15:56:54Z", "mergedAt": "2026-02-19T17:29:35Z", "additions": 72, "deletions": 0, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/feature-flags/ApprovalsPromoBanner.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlags.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T16:00:19Z"}, {"author": {"login": "ReeceJones"}, "state": "APPROVED", "submittedAt": "2026-02-19T16:11:20Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T15:56:22Z", "additions": 72, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T17:09:17Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T17:14:05Z", "additions": 1, "deletions": 1}}]}}, {"number": 48467, "title": "feat(llma): split prompt fetched usage query", "body": "## Problem\r\nPrompt fetch usage should be reported per team.\r\n\r\n## Changes\r\n- Added a dedicated get_llm_prompt_fetched_counts query for prompt fetched events grouped by team.\r\n- Kept the main get_all_ai_metrics query AI-event only.\r\n- Added llm_prompt_fetched_count to org usage payload aggregation.\r\n\r\n## How did you test this code?\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\nno", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-19T15:53:29Z", "mergedAt": "2026-02-19T16:30:47Z", "additions": 169, "deletions": 19, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/tasks/llm_analytics_usage_report.py"}, {"path": "posthog/tasks/test/test_llm_analytics_usage_report.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-19T16:19:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T15:47:55Z", "additions": 169, "deletions": 19}}]}}, {"number": 48465, "title": "fix(notebooks): inline menu breaking when adding or clicking links", "body": "## Problem\r\n\r\nThe notebook inline menu (BubbleMenu) breaks in two ways when working with links:\r\n\r\n1. **Clicking the link button** makes the BubbleMenu disappear instead of transitioning to the URL input.\r\n\r\n2. **Clicking on existing link text** doesn't show the URL editor. \r\n\r\nA secondary issue: the auto-save response (`setContent`) fires every ~1s and replaces the full editor state even when content is identical, collapsing active selections and disrupting menu interactions.\r\n\r\n[LOOM](https://www.loom.com/share/6e2eaa2211ca473c8c561792144ce007)\r\n\r\n## Changes\r\n\r\n  - BubbleMenu no longer disappears when clicking the link button (focus theft prevented during mousedown)\r\n  - BubbleMenu stays visible while typing in the URL input (menu checks internal focus before ProseMirror focus)                                                \r\n  - Clicking existing link text now selects the full link and shows the URL editor (was silently broken)                                                        \r\n  - Link/formatting toggle is now reactive to selection changes (opts in via useEditorState since the editor disables re-renders on transactions)               \r\n  - Auto-save no longer replaces editor state when content is unchanged (was collapsing active selections every ~30s)        \r\n \r\n## How did you test this code?\r\n\r\nManual testing\r\n\r\n## Publish to changelog?\r\n\r\nNo", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T15:37:32Z", "mergedAt": "2026-02-20T10:28:34Z", "additions": 55, "deletions": 18, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/notebooks/Marks/NotebookMarkLink.tsx"}, {"path": "frontend/src/scenes/notebooks/Notebook/InlineMenu.tsx"}, {"path": "frontend/src/scenes/notebooks/Notebook/notebookLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:06:58Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T15:36:40Z", "additions": 55, "deletions": 18}}]}}, {"number": 48463, "title": "feat(llma): add skip_team_ids to temporal workflow config", "body": "## Summary\nAdds support for `skip_team_ids` in the LLM analytics temporal workflows to allow teams to opt out of trace summarization and clustering workflows entirely.\n\n## Changes\n- Added `skip_team_ids` field to `LLMAWorkflowConfig` dataclass\n- Updated feature flag payload parsing to read `skip_team_ids` with validation\n- Applied filtering to exclude skip teams from both guaranteed and sampled team lists\n- Updated fallback path to also exclude skip teams\n- Added comprehensive test coverage for config parsing and activity filtering\n\n## Feature Flag Format\n```json\n{\n  \"guaranteed_team_ids\": [1, 2, 148051, ...],\n  \"skip_team_ids\": [12345, 67890],\n  \"sample_percentage\": 0.75,\n  \"discovery_lookback_days\": 30\n}\n```\n\nTeams in `skip_team_ids` will be excluded from workflows even if they:\n- Are in `guaranteed_team_ids`\n- Have AI events in the lookback period\n- Would be randomly sampled\n\n## Test plan\n- [x] All existing tests pass\n- [x] Added tests for `skip_team_ids` parsing with invalid values\n- [x] Added tests for filtering skip teams from sampled results\n- [x] Added tests for filtering skip teams from guaranteed results\n- [x] Added tests for fallback path respecting skip teams\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-19T15:27:43Z", "mergedAt": "2026-02-19T17:04:13Z", "additions": 67, "deletions": 3, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/llm_analytics/team_discovery.py"}, {"path": "posthog/temporal/llm_analytics/test_team_discovery.py"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-19T15:29:53Z"}, {"author": {"login": "carlos-marchal-ph"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:03:09Z"}, {"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:03:14Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T15:27:05Z", "additions": 67, "deletions": 3}}]}}, {"number": 48461, "title": "fix(experiments): avoid metric header clipping before launch", "body": "## Problem\r\nBefore an experiment starts, metric rows were forced to a fixed 51px height in the no-result state.\r\nThis clipped the metric type tag (for example, Mean/Funnel) and could hide the add-breakdown button in the metric cell. This leaves a bad impression when using the experiment product for the first time.\r\n\r\n<img width=\"1810\" height=\"194\" alt=\"Screenshot 2026-02-19 at 15 58 11\" src=\"https://github.com/user-attachments/assets/81e39a34-6793-416a-b6e9-07a0b5babb76\" />\r\n\r\nAlso when metrics were loading, we cut off the breakdown button.\r\n\r\n## Changes\r\n- Added `EMPTY_STATE_ROW_MIN_HEIGHT` for pre-launch/no-result rows.\r\n- Updated the no-result branch in `MetricRowGroup` to use a minimum height instead of fixed height/maxHeight, so metric header content can fully render.\r\n- Kept regular result rows at `CELL_HEIGHT` and refactored repeated row height style objects into shared helpers/constants to reduce duplication.\r\n\r\n<img width=\"1813\" height=\"290\" alt=\"Screenshot 2026-02-19 at 16 25 39\" src=\"https://github.com/user-attachments/assets/5976785d-2128-45a4-b23e-b2c57b139331\" />\r\n\r\nAlso fixes the cutoff when metrics are loading\r\n<img width=\"1558\" height=\"682\" alt=\"Screenshot 2026-02-19 at 16 19 41\" src=\"https://github.com/user-attachments/assets/46052eb6-5453-4edb-a40a-8cf54248d755\" />\r\n\r\n\r\n## Testing\r\n- `pnpm --filter=@posthog/frontend exec oxlint src/scenes/experiments/MetricsView/new/MetricRowGroup.tsx src/scenes/experiments/MetricsView/new/ChartCell.tsx src/scenes/experiments/MetricsView/new/constants.ts`", "author": {"login": "andehen"}, "createdAt": "2026-02-19T15:22:12Z", "mergedAt": "2026-02-19T15:59:15Z", "additions": 62, "deletions": 111, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/MetricsView/new/ChartCell.tsx"}, {"path": "frontend/src/scenes/experiments/MetricsView/new/MetricRowGroup.tsx"}, {"path": "frontend/src/scenes/experiments/MetricsView/new/constants.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "rodrigoi"}, "state": "APPROVED", "submittedAt": "2026-02-19T15:59:13Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T15:20:58Z", "additions": 62, "deletions": 111}}]}}, {"number": 48458, "title": "chore(flags): fix filters with no groups", "body": "First task for issue #47640: _Clean up legacy flag filters without groups_\r\n\r\n**Summary**\r\n\r\n- Data migration to backfill filters for ~1,235 legacy feature flags that predate the groups structure\r\n- After this migration, every flag row has filters->'groups', which lets us remove the get_filters() fallback in a follow-up", "author": {"login": "patricio-posthog"}, "createdAt": "2026-02-19T14:06:11Z", "mergedAt": "2026-02-20T19:17:33Z", "additions": 59, "deletions": 1, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/migrations/1016_fix_legacy_feature_flag_filters.py"}, {"path": "posthog/migrations/max_migration.txt"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T14:09:42Z"}, {"author": {"login": "matheus-vb"}, "state": "APPROVED", "submittedAt": "2026-02-20T14:27:33Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T14:04:30Z", "additions": 56, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T14:09:12Z", "additions": 137, "deletions": 14}}, {"commit": {"committedDate": "2026-02-19T14:10:55Z", "additions": 1, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T14:12:14Z", "additions": 2, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T14:48:56Z", "additions": 25, "deletions": 22}}, {"commit": {"committedDate": "2026-02-20T14:48:12Z", "additions": 31268, "deletions": 15774}}, {"commit": {"committedDate": "2026-02-20T14:56:04Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T15:45:19Z", "additions": 232, "deletions": 56}}, {"commit": {"committedDate": "2026-02-20T16:39:19Z", "additions": 411, "deletions": 103}}, {"commit": {"committedDate": "2026-02-20T17:11:03Z", "additions": 14, "deletions": 13}}, {"commit": {"committedDate": "2026-02-20T18:11:36Z", "additions": 115, "deletions": 48}}, {"commit": {"committedDate": "2026-02-20T18:15:28Z", "additions": 352, "deletions": 5}}, {"commit": {"committedDate": "2026-02-20T18:48:05Z", "additions": 584, "deletions": 51}}]}}, {"number": 48455, "title": "fix(insights): Stop reloading insight on url hash change", "body": "## Problem\r\nWhen you open the sidebar, it causes the insight to reload (sometimes)\r\n\r\nURL params that are absent are undefined, but the Kea reducer defaults are null. Since undefined !== null is true, every hash-only URL change (like opening the sidebar) would trigger setSceneState and reload the insight. \r\n\r\n\r\nReported in papercuts:\r\nhttps://posthog.slack.com/archives/C0ACRAMJUAG/p1771338233732869\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\nUse ?? so default is null\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nOpen an insight, clear the network, open the sidebar, you will not see a call to /insights anymore.\r\nAnd the tests\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-19T13:46:31Z", "mergedAt": "2026-02-19T15:03:28Z", "additions": 39, "deletions": 7, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/insightSceneLogic.test.ts"}, {"path": "frontend/src/scenes/insights/insightSceneLogic.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-19T15:02:20Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:37:07Z", "additions": 39, "deletions": 7}}]}}, {"number": 48454, "title": "chore: add .watchmanconfig to reduce recrawl warnings", "body": "Django's autoreload (used by celery worker/beat in dev) picks watchman when available, creating ~2000 subscriptions on the repo root. Without an ignore list, watchman indexes everything \u2014 node_modules, rust/target, .git, .flox, etc. \u2014 causing frequent recrawls (73 observed in a single session).\n\nAdds a `.watchmanconfig` ignoring heavy dirs that no subscriber cares about. Only active watchman consumers are celery beat + worker, which only watch `.py` files in `posthog/`, `ee/`, `products/`.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-19T13:40:47Z", "mergedAt": "2026-02-19T15:20:33Z", "additions": 13, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".watchmanconfig"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T13:48:25Z"}, {"author": {"login": "skoob13"}, "state": "APPROVED", "submittedAt": "2026-02-19T13:58:07Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:40:21Z", "additions": 13, "deletions": 0}}]}}, {"number": 48451, "title": "chore(slack): Make dev region Slack use test account v2", "body": "## Problem\r\n\r\nFollow-up to #48308 - actually, Slack folks can't sign into a @posthog.com account, as that requires OAuth. I created a different one for them just now.\r\n\r\n## Changes\r\n\r\nUpdating the email aliasing to skip proper @posthog.com accounts, and route to the right test account.", "author": {"login": "Twixes"}, "createdAt": "2026-02-19T13:19:53Z", "mergedAt": "2026-02-19T14:44:44Z", "additions": 2, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/slack_app/backend/api.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:44:41Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:18:33Z", "additions": 2, "deletions": 2}}]}}, {"number": 48450, "title": "fix(ci): Remove author_association check", "body": "## Summary\n\n- Remove the redundant `author_association` check from the `notify-priority-review` job condition in `pr-priority-review.yml`, which has been causing the job to skip for **all** PRs since Feb 18\n\n## Problem\n\nThe `notify-priority-review` job has been completely broken since commit `b79bbef0` (Feb 18), which switched the workflow from `pull_request_target` to `pull_request` and added an `author_association` check:\n\n```yaml\ncontains(fromJSON('[\"MEMBER\",\"OWNER\"]'), github.event.pull_request.author_association)\n```\n\nThe `author_association` field in `pull_request` webhook payloads is not reliably set to `MEMBER` for org members, despite the REST API consistently returning `MEMBER`. This caused the job to skip on every single run, preventing Slack notifications to #dev-stamp-exchange for priority-review PRs (#48444, #48429, #48408, and others).\n\n## Fix\n\nRemove the `author_association` check. The existing fork check (`head.repo.full_name == github.repository`) already prevents external/fork PRs from triggering notifications, making the `author_association` check redundant.\n\n## Verification\n\nAfter merge, the next PR labeled `priority-review` should trigger a Slack notification in #dev-stamp-exchange.\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/action:01KHTZR0CV9784KJ00EB1F44W3)\n> - Addresses [this insight](https://app.mendral.com/insights/01KHTZR0CH9TY4YKAMC67MERQS)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-19T13:05:38Z", "mergedAt": "2026-02-19T13:12:32Z", "additions": 0, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/pr-priority-review.yml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-19T13:12:29Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:05:16Z", "additions": 0, "deletions": 1}}]}}, {"number": 48447, "title": "chore: update dependencies", "body": "## Problem\r\nReverts the revert to actually deploy dep updates\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "MichaelKutsch-ph"}, "createdAt": "2026-02-19T12:48:13Z", "mergedAt": "2026-02-19T13:00:27Z", "additions": 5, "deletions": 5, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "Dockerfile"}, {"path": "Dockerfile.node"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "langesven"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:49:21Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:47:59Z", "additions": 5, "deletions": 5}}]}}, {"number": 48446, "title": "feat(destinations): show notification destinations on destinations list page", "body": "## Problem\r\n\r\nInternal notification destinations (activity log, discussion mentions, error tracking alerts, insight alerts) only appeared on their respective settings pages, not on the main Destinations list page.\r\n\r\n## Changes\r\n\r\n- Add them on the Destinations list page\r\n- Clicking the badge navigates to the settings page where that notification is managed\r\n\r\n<img width=\"1256\" height=\"398\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a933e9ac-7d56-481e-bb21-e27ca260baae\" />\r\n\r\n<img width=\"1256\" height=\"398\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2015ae89-6ed5-4765-9e71-8d07b94706b6\" />", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T12:44:30Z", "mergedAt": "2026-02-19T17:13:40Z", "additions": 68, "deletions": 2, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/data-pipelines/DestinationsScene.tsx"}, {"path": "frontend/src/scenes/hog-functions/list/HogFunctionsList.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "ReeceJones"}, "state": "APPROVED", "submittedAt": "2026-02-19T16:08:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:43:46Z", "additions": 68, "deletions": 2}}]}}, {"number": 48445, "title": "chore(phai): revert \"update chat agent model to claude-sonnet-4-6\" (#48265)", "body": "This reverts commit 50975a4fc7840da01a459380d0c6bd0402388c27.\n\nhttps://claude.ai/code/session_01GXiFUWXFc6uc4kS1pbLK2S", "author": {"login": "skoob13"}, "createdAt": "2026-02-19T12:31:19Z", "mergedAt": "2026-02-19T12:53:17Z", "additions": 15, "deletions": 20, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/hogai/artifacts/manager.py"}, {"path": "ee/hogai/chat_agent/prompts/base.py"}, {"path": "ee/hogai/core/agent_modes/executables.py"}, {"path": "ee/hogai/tools/create_insight.py"}, {"path": "ee/hogai/tools/test/test_create_insight.py"}, {"path": "pyproject.toml"}, {"path": "uv.lock"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "tatoalo"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:32:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:30:16Z", "additions": 15, "deletions": 20}}]}}, {"number": 48444, "title": "fix(devenv): create local symlink when resolving worktree config", "body": "`dev:generate` falls through to the main repo config when run from a worktree without a local config. But `bin/start` only checks the local `$REPOSITORY_ROOT` path, so it never finds the generated config and silently falls back to the raw `bin/mprocs.yaml` with all processes enabled and no intent filtering.\n\nThe wizard (`dev:setup`) already handles this by creating a symlink from the worktree to the main repo config \u2014 `dev:generate` now does the same in `get_generated_mprocs_path()`.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-19T12:29:47Z", "mergedAt": "2026-02-19T19:19:34Z", "additions": 5, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "common/hogli/devenv/generator.py"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T12:33:01Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T12:33:02Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:19:32Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:29:26Z", "additions": 5, "deletions": 0}}]}}, {"number": 48443, "title": "chore(dagster): publish distinct_id_usage reports to #ingestion-reports", "body": "Change the distinct_id_usage dagster job to publish alerts to the #ingestion-reports Slack channel instead of #alerts-ingestion.\r\n\r\nThis separates informational reports from critical alerts, reducing noise in the alerts channel.\r\n\r\n\r\n## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "jose-sequeira"}, "createdAt": "2026-02-19T12:16:54Z", "mergedAt": "2026-02-19T16:32:23Z", "additions": 3, "deletions": 5, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/dags/distinct_id_usage.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "z0br0wn"}, "state": "APPROVED", "submittedAt": "2026-02-19T16:32:15Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:15:04Z", "additions": 3, "deletions": 5}}]}}, {"number": 48442, "title": "chore(ds): add v3 pipeline mode to data imports end-to-end tests ", "body": "## Problem\r\n\r\nThe v3 pipeline was not covered by the data imports end-to-end test suite. This PR parametrizes the existing tests to run against both `non_dlt` and `v3` pipeline modes, ensuring the v3 path is exercised with full end-to-end coverage.\r\n\r\n## Changes\r\n\r\n  ### Test infrastructure\r\n\r\n  * Added `pipeline_mode` fixture (`params=[\"non_dlt\", \"v3\"]`, `autouse=True`) to parametrize all tests\r\n  * Added `_KafkaMessageCapture` class to intercept Kafka messages produced during v3 extract and replay them through the consumer\r\n  * Added `_replay_v3_consumer` helper that replays captured messages through `process_message` with proper Django settings overrides and idempotency bypass\r\n  * Modified `_execute_run` to conditionally enable v3 pipeline mode via `_is_pipeline_v3_enabled` mock and wire up Kafka message capture via `get_warpstream_kafka_producer` mock\r\n  * Modified `_run` to call `_replay_v3_consumer` after `_execute_run` for automatic v3 consumer replay\r\n  * Wrapped `calculate_table_size_activity` with `sync_to_async` in `_replay_v3_consumer` to avoid `SynchronousOnlyOperation`\r\n\r\n  ### Tests with v3-specific behavior changes\r\n\r\n  * `test_delta_no_merging_on_first_sync` \u2014 branched assertions: v3 produces 1 write + 1 merge (batch 1 sees existing table), non_dlt produces 2 writes\r\n  * `test_delta_no_merging_on_first_sync_uncapped_chunk_size` \u2014 same assertions both modes (1 write, 0 merges with single batch)\r\n  * `test_delta_no_merging_on_first_sync_after_reset` \u2014 branched assertions like first test\r\n  * `test_partition_folders_delta_merge_called_with_partition_predicate` \u2014 same merge predicate assertions both modes\r\n  * `test_pipeline_mb_chunk_size` \u2014 conditionally mocks `PipelineV3._process_batch` (AsyncMock) or `PipelineNonDLT._process_pa_table`\r\n  * `test_cdp_producer_push_to_kafka` \u2014 v3 expected payload excludes `_ph_partition_key`\r\n\r\n  ### Tests with v3 replay additions\r\n\r\n  * `test_timestamped_query_folder` \u2014 added `_replay_v3_consumer` inside each `freeze_time` block (syncs 2\u20135)\r\n  * `test_postgres_schema_evolution` \u2014 added `_replay_v3_consumer` after second sync\r\n  * `test_inconsistent_types_in_data` \u2014 added `_replay_v3_consumer` after execute\r\n  * `test_partition_folders_with_existing_table` \u2014 added `_replay_v3_consumer` + `_apply_partitioning` mock\r\n  * `test_partition_folders_with_existing_table_and_pipeline_reset` \u2014 same as above\r\n  * `test_partition_folders_with_uuid_id_and_created_at_with_parametrized_f` \u2014 added `_replay_v3_consumer`\r\n  * `test_append_only_table` \u2014 added `_replay_v3_consumer` after second sync\r\n\r\n## How did you test this code?\r\n\r\nexecute tests locally\r\n\r\n## Publish to changelog?\r\n\r\nNO\r\n", "author": {"login": "estefaniarabadan"}, "createdAt": "2026-02-19T12:16:00Z", "mergedAt": "2026-02-19T14:34:29Z", "additions": 289, "deletions": 84, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/tests/data_imports/test_end_to_end.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "Gilbert09"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:47:06Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:13:09Z", "additions": 288, "deletions": 84}}, {"commit": {"committedDate": "2026-02-19T13:55:00Z", "additions": 5, "deletions": 4}}, {"commit": {"committedDate": "2026-02-19T14:12:24Z", "additions": 2820, "deletions": 7704}}]}}, {"number": 48440, "title": "fix(filters): prioritize existing filter type over suggested filters", "body": "## Problem\r\n\r\nWhen trying to edit an existing SQL expression, we were always defaulting to the Suggested Filters.\r\n\r\n## Changes\r\n\r\nWhen editing an existing filter (e.g., SQL expression), the active tab now correctly shows the filter type being edited instead of defaulting to \"Suggested filters\". This fixes the issue where SQL expression filters would show the wrong tab when clicked for editing.\r\n\r\nhttps://claude.ai/code/session_01JXAwxftF4WbM7o4oMHigmK", "author": {"login": "luke-belton"}, "createdAt": "2026-02-19T11:57:00Z", "mergedAt": "2026-02-19T12:18:40Z", "additions": 7, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:58:55Z"}, {"author": {"login": "luke-belton"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:59:20Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T12:00:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:51:15Z", "additions": 7, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T12:01:00Z", "additions": 1, "deletions": 1}}]}}, {"number": 48439, "title": "fix: suppress error toast on sensitive action reauth prompt", "body": "## Problem\r\n\r\nWhen a sensitive action (e.g. invite team member) triggers reauth, both the reauth modal **and** an error toast appear. The toast fires because the kea-loaders `onFailure` handler doesn't recognize the 403 as a reauth prompt.\r\n\r\n[Bug report](https://posthog.slack.com/archives/C0ACRAMJUAG/p1771455189694329)\r\n\r\n## Changes\r\n\r\n- Add `code = \"sensitive_action_required_reauth\"` to `TimeSensitiveActionPermission` (DRF standard pattern)\r\n- Suppress toast in `initKea.ts` `onFailure` for the new code\r\n- Migrate all 403 detection in `apiStatusLogic.ts` from fragile `detail` string matching to structured `code` field (reauth + both 2FA cases)\r\n- Update backend test assertions for the new code\r\n", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T11:54:45Z", "mergedAt": "2026-02-19T13:27:30Z", "additions": 8, "deletions": 6, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/initKea.ts"}, {"path": "frontend/src/lib/logic/apiStatusLogic.ts"}, {"path": "posthog/api/test/test_authentication.py"}, {"path": "posthog/permissions.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:24:42Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:54:15Z", "additions": 8, "deletions": 6}}]}}, {"number": 48437, "title": "chore(ux/search): add include_counts optimization to skip unnecessary COUNT queries", "body": "## Problem                                                                        \r\n                                                                                 \r\nThe unified search endpoint (/api/projects/*/search/) executes 14 PostgreSQL queries per request: 12 per-entity COUNTs, 1 union COUNT, and 1 data fetch. The frontend search component never uses the counts data from the response, making 13 of those queries wasted work on every keystroke.\r\n\r\n<img width=\"712\" height=\"193\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0f59c0af-d003-4e19-bb8e-14176c2f392a\" />\r\n\r\n## Changes\r\n\r\n- Add include_counts query parameter to the search API (defaults to true for backward compatibility)\r\n- When false, skip all 13 COUNT queries \u2014 reducing the endpoint from 14 queries to 1\r\n- Return None instead of 0 for total_count when counts are skipped, so the return type is honest about what was computed\r\n- Frontend searchLogic passes include_counts: false since it never used counts\r\n- Hogai callers are unaffected \u2014 they use the default include_counts=true\r\n- Add UX_SEARCH_WITH_COUNT_NONE feature flag that shows a debug toggle in the search status bar to compare behavior with counts on vs off, including frontend-measured elapsed time and result count\r\n\r\n\r\n## How did you test this code?\r\nLocally\r\n\r\n## Publish to changelog?\r\nNo", "author": {"login": "adamleithp"}, "createdAt": "2026-02-19T11:41:41Z", "mergedAt": "2026-02-19T16:31:03Z", "additions": 143, "deletions": 19, "changedFiles": 10, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/hogai/context/entity_search/context.py"}, {"path": "frontend/__snapshots__/scenes-app-project-homepage--project-homepage--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-project-homepage--project-homepage--light.png"}, {"path": "frontend/src/lib/components/Search/Search.tsx"}, {"path": "frontend/src/lib/components/Search/searchLogic.tsx"}, {"path": "frontend/src/lib/constants.tsx"}, {"path": "frontend/src/types.ts"}, {"path": "posthog/api/search.py"}, {"path": "posthog/api/test/test_search.py"}, {"path": "services/mcp/src/api/client.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:44:14Z"}, {"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-19T13:15:20Z"}, {"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-19T13:22:06Z"}, {"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-19T13:22:35Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:39:26Z", "additions": 126, "deletions": 14}}, {"commit": {"committedDate": "2026-02-19T11:49:45Z", "additions": 14, "deletions": 6}}, {"commit": {"committedDate": "2026-02-19T11:58:21Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T13:46:21Z", "additions": 4, "deletions": 4}}, {"commit": {"committedDate": "2026-02-19T13:49:06Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T13:51:13Z", "additions": 14262, "deletions": 9488}}, {"commit": {"committedDate": "2026-02-19T14:20:06Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T14:36:58Z", "additions": 2, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T14:45:26Z", "additions": 462, "deletions": 112}}, {"commit": {"committedDate": "2026-02-19T14:49:46Z", "additions": 3, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T16:08:43Z", "additions": 5493, "deletions": 2734}}]}}, {"number": 48436, "title": "fix(cdp): preserve URL hash during OAuth redirect for sub-template config", "body": "## Problem\n\nWhen creating an internal destination (e.g. error tracking > Slack alert) that requires a first-time OAuth connection, the URL hash containing the\nsub-template configuration (type, name, filters, sub_template_id) was lost during the OAuth redirect flow. See: https://posthog.slack.com/archives/C09BDQLM8KA/p1771436224001749 for more context. \n\nThe result is that the newly created function does not do what the user expects it to do, as all context has been lost in the redirect. This is difficult to detect unless you know what to look for and can therefore cause a fair amount of frustration for the user.\n\n## Changes\n\n- Modified `CyclotronJobInputIntegration.tsx` to preserve the URL hash fragment when constructing the redirect URL\n- Updated `integrationsLogic.ts` to properly handle URL hash fragments when adding integration ID to the URL\n    - Now correctly inserts the integration_id parameter before any hash fragment\n\n## How did you test this code?\n\nTested integration flows with URLs containing hash fragments to verify that:\n\n1. The hash fragment is preserved during the redirect process\n2. The integration_id parameter is correctly added as a search parameter\n3. The user is properly redirected back to the original location with both the integration_id and hash fragment intact\n\nAlso refer to the videos posted alongisde this PR on Slack (left out here as it exposes our internal Slack channels and I did not want to figure out how to blur it :smiley:)", "author": {"login": "vdekrijger"}, "createdAt": "2026-02-19T11:31:14Z", "mergedAt": "2026-02-19T15:38:30Z", "additions": 4, "deletions": 2, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/CyclotronJob/integrations/CyclotronJobInputIntegration.tsx"}, {"path": "frontend/src/lib/integrations/integrationsLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "andyzzhao"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:31:55Z"}, {"author": {"login": "andyzzhao"}, "state": "COMMENTED", "submittedAt": "2026-02-19T14:36:47Z"}, {"author": {"login": "vdekrijger"}, "state": "COMMENTED", "submittedAt": "2026-02-19T15:10:51Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:30:51Z", "additions": 10, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T15:07:56Z", "additions": 3, "deletions": 9}}]}}, {"number": 48435, "title": "fix(hogql): skip ifNull when inside indexHint", "body": "## Problem\r\n\r\nifNull is breaks index analysis. When inside indexHint it serves no purpose and we should skip it\r\n\r\n## Changes\r\n\r\nskip ifNull if callstack includes indexHint\r\n\r\n## How did you test this code?\r\n\r\nlocally, existing tests\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "frankh"}, "createdAt": "2026-02-19T11:31:04Z", "mergedAt": "2026-02-19T14:00:39Z", "additions": 117, "deletions": 4, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql/printer/clickhouse.py"}, {"path": "posthog/hogql/test/test_get_lowercase_index_hint.py"}, {"path": "products/logs/backend/test/test_logs_schema.sql"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "frankh"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:32:05Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:34:40Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:34:52Z"}, {"author": {"login": "frankh"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:35:16Z"}, {"author": {"login": "georgemunyoro"}, "state": "DISMISSED", "submittedAt": "2026-02-19T13:29:38Z"}, {"author": {"login": "Gilbert09"}, "state": "APPROVED", "submittedAt": "2026-02-19T13:36:14Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:15:11Z", "additions": 4, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T13:32:07Z", "additions": 113, "deletions": 3}}]}}, {"number": 48434, "title": "fix(mcp): return plaintext client_secret in DCR response", "body": "## Problem\n\nFollow-up to #48397. Django OAuth Toolkit hashes `client_secret` on save via `ClientSecretField.pre_save()`. Reading `app.client_secret` after save returns the pbkdf2 hash (e.g. `pbkdf2_sha256$600000$...`), not the plaintext.\n\nThis caused `invalid_client` errors during token exchange because Claude would store the hash as its \"secret\", send it in the token request, and django-oauth-toolkit would hash it *again* \u2014 so it never matched.\n\n## Changes\n\n- Generate the plaintext secret before `create()` using `generate_client_secret()`\n- Pass the plaintext explicitly to `create()` (the model still hashes it on save)\n- Return the plaintext in the DCR response\n- Added test asserting the returned secret is plaintext and verifies against the stored hash\n\n## How did you test this code?\n\n- All 22 DCR tests pass\n- Verified locally: DCR now returns a plaintext secret like `MVUX9bNGl3hRud...` instead of `pbkdf2_sha256$600000$...`\n- User confirmed the full Claude Desktop OAuth flow works after this fix\n\n## Changelog\n\nFix OAuth Dynamic Client Registration returning hashed client_secret instead of plaintext, which caused `invalid_client` errors for confidential MCP clients like Claude Desktop.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "MattBro"}, "createdAt": "2026-02-19T11:29:10Z", "mergedAt": "2026-02-19T15:10:57Z", "additions": 16, "deletions": 5, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/oauth/dcr.py"}, {"path": "posthog/api/oauth/test_dcr.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:49:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:28:11Z", "additions": 29, "deletions": 16}}, {"commit": {"committedDate": "2026-02-19T12:55:58Z", "additions": 3, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T13:05:14Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T14:16:52Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T14:19:42Z", "additions": 18, "deletions": 22}}]}}, {"number": 48430, "title": "chore(revert): update dependencies", "body": "\r\n## Problem\r\nReverts PostHog/posthog#46369\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "MichaelKutsch-ph"}, "createdAt": "2026-02-19T11:08:26Z", "mergedAt": "2026-02-19T11:58:20Z", "additions": 5, "deletions": 5, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "Dockerfile"}, {"path": "Dockerfile.node"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "ablaszkiewicz"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:12:58Z"}, {"author": {"login": "langesven"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:15:48Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T11:08:18Z", "additions": 5, "deletions": 5}}]}}, {"number": 48429, "title": "chore(flox): remove gh CLI from manifest", "body": "Flox catalog resolves `gh` to 2.69.0 which is massively outdated compared to the current release (2.86.0+). Having two different `gh` versions depending on whether you're inside or outside the flox env is super annoying \u2014 different flags, different behavior, auth issues, etc.\n\nSame reasoning as #47800 which removed `git` from the manifest: `gh` is a general-purpose dev CLI that everyone already has via homebrew or system package manager. No need for flox to provide (and pin) a stale version.\n\nAll `gh` usage in the repo is either CI workflows (runners have it preinstalled) or local scripts (`bin/posthog-worktree`, hogli, storybook timings) that just need it on PATH.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-19T10:59:57Z", "mergedAt": "2026-02-20T11:24:11Z", "additions": 0, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".flox/env/manifest.toml"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:02:59Z"}, {"author": {"login": "Twixes"}, "state": "APPROVED", "submittedAt": "2026-02-20T11:14:58Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T10:59:18Z", "additions": 0, "deletions": 1}}]}}, {"number": 48428, "title": "feat(insights): change combine icon", "body": "## Problem\r\n\r\nThe \"combine events\" icon is very similar to the duplicate icon.\r\n\r\nhttps://posthoghelp.zendesk.com/agent/tickets/50126\r\n\r\n## Changes\r\nOld:\r\n<img width=\"585\" height=\"56\" alt=\"Screenshot 2026-02-19 at 12 39 29\" src=\"https://github.com/user-attachments/assets/9ded82b3-1d99-4750-ac41-8cac352a0391\" />\r\n\r\nNew:\r\n<img width=\"590\" height=\"53\" alt=\"Screenshot 2026-02-19 at 12 39 38\" src=\"https://github.com/user-attachments/assets/e0068aa8-f07c-466a-85fa-dcffbeb57a7b\" />\r\n\r\n\r\n## How did you test this code?\r\n\r\nManually\r\n\r\n## Publish to changelog?\r\n\r\nNo\r\n", "author": {"login": "gesh"}, "createdAt": "2026-02-19T10:49:25Z", "mergedAt": "2026-02-19T14:02:01Z", "additions": 20, "deletions": 10, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/package.json"}, {"path": "frontend/src/lib/lemon-ui/icons/categories.ts"}, {"path": "frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"}, {"path": "pnpm-lock.yaml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:50:11Z"}, {"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:57:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T10:40:36Z", "additions": 16, "deletions": 8}}, {"commit": {"committedDate": "2026-02-19T11:55:04Z", "additions": 4460, "deletions": 1374}}, {"commit": {"committedDate": "2026-02-19T12:10:22Z", "additions": 4, "deletions": 2}}]}}, {"number": 48425, "title": "fix(hobby): add missing redis host for recording API in plugins service", "body": "Closes #48131 \u2014 credit to @sapdragon for finding this.\n\nThe plugins service defaults `SESSION_RECORDING_API_REDIS_HOST` to `127.0.0.1` (see `nodejs/src/config/config.ts`), which can't reach the `redis7` container on hobby deploys. Other redis vars (`CDP_REDIS_HOST`, `LOGS_REDIS_HOST`) were already set correctly.\n\nThe `last_seen_at` migration issue also reported in #48131 was already fixed by #47840.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-19T10:36:36Z", "mergedAt": "2026-02-20T07:52:01Z", "additions": 2, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "docker-compose.hobby.yml"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T10:48:58Z"}, {"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:56:48Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T04:39:07Z", "additions": 35, "deletions": 0}}, {"commit": {"committedDate": "2026-02-17T04:48:02Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-17T04:48:34Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-17T04:51:06Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T10:35:06Z", "additions": 70555, "deletions": 31865}}, {"commit": {"committedDate": "2026-02-19T10:35:58Z", "additions": 0, "deletions": 34}}, {"commit": {"committedDate": "2026-02-19T20:29:16Z", "additions": 21382, "deletions": 18067}}, {"commit": {"committedDate": "2026-02-19T20:30:05Z", "additions": 1, "deletions": 0}}]}}, {"number": 48424, "title": "fix: Check if table is incompatible in Snowflake batch export", "body": "## Problem\r\n\r\nWhen getting a mutable table from Snowflake, we should ensure it has all the required primary key fields based on the requested table. Otherwise, we could be letting incompatible schema errors by.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nThis raises an exception if any primary key fields are missing from the mutable table that was requested when calling `get_table`. Important to note we still allow additional fields to exist, they are just ignored, and that we still allow missing fields that are not part of the primary key.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\nNew unit tests included, old unit tests passing.\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\nNope\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "tomasfarias"}, "createdAt": "2026-02-19T10:25:06Z", "mergedAt": "2026-02-19T12:49:24Z", "additions": 119, "deletions": 7, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/batch_exports/backend/temporal/destinations/snowflake_batch_export.py"}, {"path": "products/batch_exports/backend/temporal/pipeline/table.py"}, {"path": "products/batch_exports/backend/tests/temporal/destinations/snowflake/test_client.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T10:43:08Z"}, {"author": {"login": "tomasfarias"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:09:46Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:30:39Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T10:23:16Z", "additions": 92, "deletions": 7}}, {"commit": {"committedDate": "2026-02-19T10:29:16Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T10:38:03Z", "additions": 3, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T11:07:02Z", "additions": 24, "deletions": 15}}, {"commit": {"committedDate": "2026-02-19T11:24:07Z", "additions": 15, "deletions": 0}}]}}, {"number": 48422, "title": "chore(cdp): mark hog transformations as stable and hide PII hashing template", "body": "Marks all hog transformation templates as stable and hides the PII Data Hashing template (in favor of the Hash properties template which also handles $set/$set_once properties).", "author": {"login": "meikelmosby"}, "createdAt": "2026-02-19T10:16:06Z", "mergedAt": "2026-02-20T09:16:35Z", "additions": 10, "deletions": 10, "changedFiles": 10, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/cdp/templates/_transformations/bot-detection/bot-detection.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/default/default.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/drop-events/drop-events.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/filter-properties/filter-properties.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/hash-properties/hash-properties.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/ip-anonymization/ip-anonymization.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/pii-hashing/pii-hashing.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/remove-null-properties/remove-null-properties.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/url-masking/url-masking.template.ts"}, {"path": "nodejs/src/cdp/templates/_transformations/url-normalization/url-normalization.template.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "benjackwhite"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:50:08Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T10:05:57Z", "additions": 10, "deletions": 10}}]}}, {"number": 48418, "title": "chore(alerts): centralise validation logic into model methods", "body": "## Problem\r\n\r\nCurrently the validation logic for alert creation is spread across multiple paths:\r\n\r\n1. There is a bit of logic inside the Alert API flow\r\n2. There is a bit of logic inside the Alert models\r\n\r\nWhilst this is fine up until now (as effectively all crud methods go through the API), if we want to add Alerts to PostHog AI, it would introduce another layer where we would need these validations and therefore avoid the DRY principle.\r\n\r\nIn order to avoid copy pasting logic, I would propose to centralise the logic so that we can re-use it when creating alert models / resources inside the AI flow.\r\n\r\n## Changes\r\n\r\n- Effectively pulled out the alerting functionality to a corresponding central logcation and updated the refererence to use the new functions.\r\n\r\n## How did you test this code?\r\n\r\n:white_check_mark: CI is passing\r\n\r\n\u2705 The logic is a like for like change\r\n\r\n:white_check_mark: Alerts can still be created through the UI\r\n\r\n![CleanShot 2026-02-19 at 10.58.39@2x.png](https://app.graphite.com/user-attachments/assets/02890c89-4259-4ddc-ab3c-5ce627469e72.png)\r\n\r\n![CleanShot 2026-02-19 at 11.01.11@2x.png](https://app.graphite.com/user-attachments/assets/307b20b4-1e6f-4512-a973-1047df493698.png)", "author": {"login": "vdekrijger"}, "createdAt": "2026-02-19T09:39:47Z", "mergedAt": "2026-02-19T15:14:50Z", "additions": 60, "deletions": 52, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "mypy-baseline.txt"}, {"path": "posthog/api/alert.py"}, {"path": "posthog/api/insight.py"}, {"path": "posthog/models/alert.py"}, {"path": "posthog/models/insight.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T10:18:22Z"}, {"author": {"login": "vdekrijger"}, "state": "COMMENTED", "submittedAt": "2026-02-19T10:19:08Z"}, {"author": {"login": "andyzzhao"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:52:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T12:55:10Z", "additions": 82, "deletions": 51}}, {"commit": {"committedDate": "2026-02-19T12:55:14Z", "additions": 8, "deletions": 13}}, {"commit": {"committedDate": "2026-02-19T12:55:15Z", "additions": 0, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T12:55:17Z", "additions": 3, "deletions": 4}}, {"commit": {"committedDate": "2026-02-19T12:55:18Z", "additions": 7, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T12:55:20Z", "additions": 1, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T14:33:09Z", "additions": 1, "deletions": 21}}]}}, {"number": 48417, "title": "fix(tests): prevent E2E_TESTING override from poisoning SignupViewset class attributes", "body": "## Problem\r\n\r\n- There is a [flakey test](https://github.com/PostHog/posthog/actions/runs/22161750702/job/64080027565?pr=48381) on CI\r\n- `SignupViewset` evaluates `settings.E2E_TESTING` at **import time** to set `permission_classes` and `throttle_classes`\r\n- Django loads URL patterns (and imports view modules) **lazily** on the first HTTP request\r\n- `pytest-split` can place `test_endpoint_allowed_in_e2e_mode` first in a shard\r\n- That test uses `@override_settings(E2E_TESTING=True)` \u2014 so the first HTTP request imports `SignupViewset` with `E2E_TESTING=True`, freezing `permission_classes=(AllowAny,)` and `throttle_classes=[]` for the entire process\r\n- All subsequent signup tests see no permission check and no throttle, causing `test_signup_disallowed_on_self_hosted_by_default` (201 != 403) and `test_signup_rate_limit_by_ip` (201 != 429) to fail\r\n\r\n## Changes\r\n\r\n- Added `ensure_url_patterns_loaded()` utility on `PostHogTestCase` \u2014 calls `get_resolver()` to force lazy URL loading before any settings override can poison import-time class attributes\r\n- Converted `test_endpoint_allowed_in_e2e_mode` from `@override_settings` decorator to context manager, calling `ensure_url_patterns_loaded()` first\r\n", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-19T09:39:04Z", "mergedAt": "2026-02-19T11:02:17Z", "additions": 21, "deletions": 4, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/test/test_authentication.py"}, {"path": "posthog/api/test/test_playwright_setup.py"}, {"path": "posthog/test/base.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "orian"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:49:52Z"}, {"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:53:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T09:48:14Z", "additions": 21, "deletions": 4}}, {"commit": {"committedDate": "2026-02-19T10:42:25Z", "additions": 2469, "deletions": 1323}}]}}, {"number": 48415, "title": "ci(backend): increase Temporal test timeout from 300s to 600s", "body": "## Summary\n- Increases the pytest timeout for Temporal tests from 300s to 600s in `ci-backend.yml`\n- Shard 1/7 intermittently times out during Django migration state rendering for 1300+ migrations \u2014 the 300s timeout is exceeded before the first test even starts running (currently ~13% failure rate)\n- This is a mitigation, not a root cause fix \u2014 the long-term solution is migration squashing or test DB caching\n\n**Latest failure:** https://github.com/PostHog/posthog/actions/runs/22174133772/job/64118545404\n**Insight:** https://app.mendral.com/insights/01KGSVJ4XGS0C10D9J9QQTWSEQ\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/slack:TSS5W8YQZ:C0A7SH71ETY:1771492077.293319)\n> - Triggered by [this Slack message](https://posthog.slack.com/archives/C0A7SH71ETY/p1771492077293319)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-19T09:20:33Z", "mergedAt": "2026-02-19T09:30:30Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-backend.yml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:21:57Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T09:19:28Z", "additions": 1, "deletions": 1}}]}}, {"number": 48414, "title": "fix(experiments): hide $multiple variant in header when below 0.5%", "body": "## Problem\n\nWhen users are exposed to multiple experiment variants, a `$multiple` tag appears in the exposure UI. At very low percentages (e.g. 0.1%), this is typically not a problem and just adds visual noise and confusion.\n\n## Changes\n\n- Add `filterLowMultipleVariant` helper in `utils.ts` that filters out the `$multiple` variant when its percentage is <= 0.5%\n- Hide `$multiple` from both the collapsed exposure header and the expanded exposures table when below the threshold\n- Improve the `$multiple` tooltip to explain what it means and when to investigate\n- Add `--multiple-pct` flag to `generate_experiment_data` management command for testing multiple variant exposure scenarios\n\nBefore\n<img width=\"604\" height=\"62\" alt=\"Screenshot 2026-02-19 at 12 44 01\" src=\"https://github.com/user-attachments/assets/37d43ebc-b9c4-4b3a-90b5-bb3dde6c1c67\" />\n\nAfter\n<img width=\"772\" height=\"61\" alt=\"Screenshot 2026-02-19 at 12 43 38\" src=\"https://github.com/user-attachments/assets/442d7eba-ec05-40cc-8338-e9249c5501da\" />\n\n## Testing\n\n- Experiment with `$multiple` < 0.5%: tag and row hidden in both header and table\n- Experiment with `$multiple` > 0.5%: tag still shown with danger styling in both views\n- Total row in the table is unaffected\n- `python manage.py generate_experiment_data --experiment-id my-flag --multiple-pct 2` generates ~2% multiple-variant exposures", "author": {"login": "andehen"}, "createdAt": "2026-02-19T09:18:13Z", "mergedAt": "2026-02-19T15:38:58Z", "additions": 49, "deletions": 5, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentView/Exposures.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentView/components.tsx"}, {"path": "frontend/src/scenes/experiments/utils.ts"}, {"path": "posthog/management/commands/generate_experiment_data.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:20:35Z"}, {"author": {"login": "jurajmajerik"}, "state": "APPROVED", "submittedAt": "2026-02-19T12:23:00Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T12:35:03Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T09:14:07Z", "additions": 21, "deletions": 7}}, {"commit": {"committedDate": "2026-02-19T09:41:29Z", "additions": 11, "deletions": 12}}, {"commit": {"committedDate": "2026-02-19T11:57:40Z", "additions": 18, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T12:11:07Z", "additions": 16, "deletions": 16}}, {"commit": {"committedDate": "2026-02-19T12:15:39Z", "additions": 29, "deletions": 16}}, {"commit": {"committedDate": "2026-02-19T12:31:22Z", "additions": 3, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T14:51:05Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T15:17:45Z", "additions": 12044, "deletions": 10957}}]}}, {"number": 48413, "title": "fix(insights): optimize line graph callback performance for large datasets", "body": "## Problem\n\nMore LineGraph performance improvements.\n\n## Changes\n\nRegular insights:\n- Replaced double flatMap/filter min/max computation with a single pass.\n- Cached dotted-series presence instead of recalculating in tooltip filtering.\n- Cached per-dataset totals used by datalabel formatter.\n- Replaced repeated goal-line linear lookups with Set/Map lookups.\n- Kept previous incomplete-segment optimization (single pattern creation per dataset, callback gating).\n\nSQL insights:\n- Precomputed stacked total once per tooltip render instead of recomputing per table cell.\n\n## How did you test this code?\n\n<!-- Briefly describe the steps you took. -->\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\n\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\n\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\n\n## Publish to changelog?\n\n<!-- For features only -->\n\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\n\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\n", "author": {"login": "thmsobrmlr"}, "createdAt": "2026-02-19T08:37:25Z", "mergedAt": "2026-02-19T15:26:35Z", "additions": 67, "deletions": 26, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/queries/nodes/DataVisualization/Components/Charts/LineGraph.tsx"}, {"path": "frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-19T13:41:24Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T08:34:34Z", "additions": 67, "deletions": 26}}]}}, {"number": 48412, "title": "fix(Inisghts): Setting dataset colours is quadratic", "body": "## Problem\r\nSetting colours here was 0(n^2), every dataset we `map` and `findIndex` causing this to increase exponentially with results.\r\nI measured it and it takes 20-30 ms for a chart I was fixing, so not much. Thought it would be good to fix anyway. Plus maybe theres other charts it can improve/dashboards with tonnes of graphs. \r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\nAssigning colour goes from 0(n^2) -> 0(n) \r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nAdded some performance timers and measured the differences. Saves 20-30ms on a graph\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-19T08:29:00Z", "mergedAt": "2026-02-19T09:32:35Z", "additions": 13, "deletions": 14, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/trends/trendsDataLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gesh"}, "state": "APPROVED", "submittedAt": "2026-02-19T08:34:23Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T23:43:55Z", "additions": 13, "deletions": 14}}]}}, {"number": 48410, "title": "fix(test): save insight before navigating back in dashboard edit test", "body": "## Summary\n- Fix the \"Editing an insight updates the dashboard tile\" E2E test which has been failing **~27% on master** since [PR #47569](https://github.com/PostHog/posthog/pull/47569) changed edit-mode name changes to be local-only (`setInsightMetadataLocal` instead of `setInsightMetadata`)\n- The test was editing the insight name without saving, then using `page.goBack()` (unreliable for SPAs) and expecting the dashboard to show the unsaved name\n\n## Changes\n1. **Save the dashboard URL** before navigating to the insight edit page\n2. **Call `insight.save()`** after editing the name to persist it via API\n3. **Replace `page.goBack()`** with `page.goto(dashboardUrl)` for reliable SPA navigation\n4. **Target `.InsightCard` title via `data-testid`** instead of broad `page.getByText()` to avoid matching residual DOM content\n\n## Context\n- **Before PR #47569** (Feb 9\u201316): 2.7% failure rate (16/583 runs) \u2014 flaky due to `page.goBack()` alone\n- **After PR #47569** (Feb 16\u201319): 27.0% failure rate (53/196 runs) \u2014 name never persisted + unreliable navigation\n- This is the **only E2E test using `page.goBack()`**; all others use explicit `page.goto()`\n- Tracked in insight `01KHKP2PNPECB7QBJA7MZ3CQ32`\n\n\n\n---\n\n> [!NOTE]\n> Created by [Mendral](https://mendral.com). Tag @mendral-app with feedback or questions.\n>\n> - [View implementation session](https://app.mendral.com/sessions/slack:TSS5W8YQZ:1771487898.341059)\n> - Triggered by [this Slack message](https://posthog.slack.com/archives/D0ACRCKQ0US/p1771488802722639?thread_ts=1771487898.341059&cid=D0ACRCKQ0US)\n", "author": {"login": "mendral-app"}, "createdAt": "2026-02-19T08:17:43Z", "mergedAt": "2026-02-19T09:06:51Z", "additions": 15, "deletions": 5, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "playwright/e2e/product-analytics/dashboards.spec.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T08:21:30Z"}, {"author": {"login": "mendral-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T08:37:58Z"}, {"author": {"login": "mendral-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T08:38:02Z"}, {"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:06:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T08:16:57Z", "additions": 9, "deletions": 5}}, {"commit": {"committedDate": "2026-02-19T08:23:01Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T08:46:31Z", "additions": 6, "deletions": 0}}]}}, {"number": 48408, "title": "fix(ci): only comment on PR when there are actual test failures", "body": "Fixes a false-positive case in the playwright report PR comment logic.\n\n**The bug:** when `results.json` is missing (setup/build failure) but the CF Pages deploy still succeeds \u2014 e.g. stale `playwright-report/` on the runner from a previous run \u2014 we'd post a comment with just the report URL and the \"annoyed by this comment\" footer, but no actual failures listed. Misleading and noisy.\n\n**Fix:** gate comment creation on `extraLines` being non-empty (failed or flaky tests found). The report URL alone is not worth a comment. Cleanup of an existing comment still requires `resultsRead` to be true, so we don't delete info from a previous run when the current run's setup failed.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-19T08:12:09Z", "mergedAt": "2026-02-19T09:10:49Z", "additions": 5, "deletions": 7, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-e2e-playwright.yml"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T08:21:21Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-19T08:37:56Z"}, {"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:03:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T08:11:41Z", "additions": 4, "deletions": 6}}, {"commit": {"committedDate": "2026-02-19T08:57:44Z", "additions": 1, "deletions": 1}}]}}, {"number": 48407, "title": "feat(experiments): remove \"stop experiment\" and sharpen wording for lifecycle actions", "body": "## Problem\r\n\r\nWe saw users misunderstanding the \"stop experiment\" action, which did not stop/revert the variant rollout but only stop measurements. The shipping button however does both. Since it can be used for successful experiments but also unsuccessful ones, this PR introduces this button as the only button to use.\r\n\r\nThis PR is the start of a broader initiative, the following improvements will be done in separate PRs:\r\n- This PR: Sharpen wording and remove stop action\r\n- The shipping popup will be made clearer\r\n- https://github.com/PostHog/posthog/pull/48449 Inconsistent states between rollout and experiment measurement state will be highlighted (e.g. multiple variants shown to users while measurements are stopped)\r\n\r\n## Changes\r\n\r\n- Wording changes:\r\n  - Rename \"shipping\" to \"ending\". Add \"variant to keep\" as a phrase to make that part clear too\r\n  - Rename \"reset experiments\" to \"reset measurements\" to sharpen wording here too. In the modal add explanation about it not having implications on rollout\r\n- Remove stopping experiment entirely\r\n- Switch order of reset and pause buttons in sidebar as it felt to be the more natural order\r\n\r\nTechnical note:\r\n- Renamed code from ShipVariant to FinishExperiment and not endExperiment for two reasons:\r\n  - There is one function called endExperiment already for which I'll have a separate PR that introduces moving the entire action to backend\r\n  - finishExperiment offers better keyword/search in the codebase in comparison to \"end\". However I kept \"end experiment\" in the UI as finish sounds a little bit more like success-cases only\r\n  - (so slight inconsistency, but I believe it offers best of both worlds)\r\n\r\n| state | before | after |\r\n| -  | - | - |\r\n| Main page and sidebar | <img width=\"889\" height=\"326\" alt=\"ship-before\" src=\"https://github.com/user-attachments/assets/f65c4d61-878e-4733-99b5-f6f6a6358f3e\" /> | <img width=\"781\" height=\"336\" alt=\"ship-after\" src=\"https://github.com/user-attachments/assets/9c5b8888-5fd1-472b-b923-234a55db9560\" /> |\r\n| Ship modal | <img width=\"584\" height=\"587\" alt=\"modal1-before\" src=\"https://github.com/user-attachments/assets/e5be5b48-390d-42b3-aaef-3b2939e059c6\" /> | <img width=\"598\" height=\"594\" alt=\"modal1-after\" src=\"https://github.com/user-attachments/assets/d8e916e4-9b68-4aa4-be6c-a57cf908d848\" /> |\r\n| Reset modal | <img width=\"516\" height=\"317\" alt=\"modal2-before\" src=\"https://github.com/user-attachments/assets/d8db3bf9-e9b1-417c-be97-979bbd8c5699\" /> | <img width=\"524\" height=\"340\" alt=\"modal2-after\" src=\"https://github.com/user-attachments/assets/fcef6841-b0f6-442e-b082-4bc911c25f8b\" /> |\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n## How did you test this code?\r\n\r\n- Manually\r\n\r\n## Publish to changelog?\r\n\r\nNo", "author": {"login": "mp-hog"}, "createdAt": "2026-02-19T07:08:14Z", "mergedAt": "2026-02-19T12:03:30Z", "additions": 49, "deletions": 132, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentView/ExperimentView.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentView/components.tsx"}, {"path": "frontend/src/scenes/experiments/experimentLogic.tsx"}, {"path": "frontend/src/scenes/experiments/modalsLogic.ts"}, {"path": "frontend/src/scenes/experiments/utils.test.ts"}, {"path": "frontend/src/scenes/experiments/utils.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "andehen"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:38:04Z"}, {"author": {"login": "mp-hog"}, "state": "COMMENTED", "submittedAt": "2026-02-19T11:51:25Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:31:40Z", "additions": 14, "deletions": 14}}, {"commit": {"committedDate": "2026-02-19T06:28:14Z", "additions": 7, "deletions": 93}}, {"commit": {"committedDate": "2026-02-19T06:39:53Z", "additions": 24, "deletions": 24}}, {"commit": {"committedDate": "2026-02-19T06:48:01Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T06:55:08Z", "additions": 3, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T06:57:51Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T11:50:25Z", "additions": 5, "deletions": 3}}]}}, {"number": 48405, "title": "chore: bump cli to 0.6.1", "body": "## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "adboio"}, "createdAt": "2026-02-19T05:32:24Z", "mergedAt": "2026-02-19T14:38:55Z", "additions": 10, "deletions": 2, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "cli/CHANGELOG.md"}, {"path": "cli/Cargo.lock"}, {"path": "cli/Cargo.toml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T05:34:35Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-19T05:35:07Z"}, {"author": {"login": "hpouillot"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:08:04Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:58:42Z", "additions": 6, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T05:31:30Z", "additions": 7, "deletions": 3}}]}}, {"number": 48403, "title": "fix(session-recordings): use LEFT JOIN instead of IN/NOT IN for cohort filtering", "body": "## Summary\r\n\r\nFixes OOM errors when using \"filter out internal users\" with cohort filters in session recordings for large customers.\r\n\r\nRelated ticket: https://posthoghelp.zendesk.com/agent/tickets/50643\r\n\r\n**The Problem:**\r\nWhen using \"NOT IN cohort\" for filtering (like in \"filter out internal users\"), the query generated `notIn(person_id, (SELECT ... FROM cohortpeople))`. This caused ClickHouse to load ALL person_ids from the cohort subquery into RAM, causing OOM errors for large customers.\r\n\r\n**The Solution:**\r\nUse LEFT JOINs instead of IN/NOT IN subqueries. This allows ClickHouse to use more efficient join algorithms (hash join, merge join) without loading all IDs into memory upfront.\r\n\r\n**Before (problematic):**\r\n```sql\r\nSELECT distinct_id FROM (\r\n    SELECT distinct_id, argMax(person_id, version) as person_id, ...\r\n    FROM raw_person_distinct_ids\r\n    WHERE team_id = X\r\n    GROUP BY distinct_id\r\n    HAVING is_deleted = 0 AND notIn(person_id, (SELECT person_id FROM cohortpeople...))\r\n)\r\n```\r\n\r\n**After (optimized):**\r\n```sql\r\nSELECT pdi.distinct_id\r\nFROM (\r\n    SELECT distinct_id, argMax(person_id, version) AS person_id, ...\r\n    FROM raw_person_distinct_ids\r\n    WHERE team_id = X\r\n    GROUP BY distinct_id\r\n    HAVING is_deleted = 0\r\n) AS pdi\r\nLEFT JOIN (\r\n    SELECT person_id, 1 AS matched FROM raw_cohort_people \r\n    WHERE team_id = X AND cohort_id = Y AND version = Z\r\n) AS cohort_0 ON cohort_0.person_id = pdi.person_id\r\nWHERE ifNull(cohort_0.matched, 0) != 1  -- NOT IN cohort\r\n```\r\n\r\n## Changes\r\n- Rewrote `CohortPropertyGroupsSubQuery` to use LEFT JOINs instead of IN/NOT IN subqueries\r\n- Handles both static and dynamic cohorts correctly\r\n- Handles both IN and NOT IN operators\r\n- Added comprehensive tests for the new query pattern\r\n\r\n## Test plan\r\n- [x] Existing cohort filtering tests pass\r\n- [x] New tests added for NOT IN cohort scenarios:\r\n  - `test_not_in_cohort_with_many_users_outside_cohort`\r\n  - `test_not_in_cohort_with_empty_cohort`\r\n  - `test_not_in_cohort_combined_with_other_filters`\r\n  - `test_multiple_not_in_cohorts`", "author": {"login": "dmarticus"}, "createdAt": "2026-02-19T01:40:07Z", "mergedAt": "2026-02-19T21:38:35Z", "additions": 1227, "deletions": 151, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/session_recordings/queries/sub_queries/cohort_subquery.py"}, {"path": "posthog/session_recordings/queries/test/listing_recordings/__snapshots__/test_session_recording_list_from_query.ambr"}, {"path": "posthog/session_recordings/queries/test/listing_recordings/__snapshots__/test_session_recordings_list_by_cohort.ambr"}, {"path": "posthog/session_recordings/queries/test/listing_recordings/test_session_recordings_list_by_cohort.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gustavohstrassburger"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:03:47Z"}, {"author": {"login": "dmarticus"}, "state": "COMMENTED", "submittedAt": "2026-02-19T20:37:37Z"}, {"author": {"login": "dmarticus"}, "state": "COMMENTED", "submittedAt": "2026-02-19T21:09:55Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T01:39:37Z", "additions": 1049, "deletions": 137}}, {"commit": {"committedDate": "2026-02-19T02:37:50Z", "additions": 7, "deletions": 21}}, {"commit": {"committedDate": "2026-02-19T04:28:56Z", "additions": 156, "deletions": 106}}, {"commit": {"committedDate": "2026-02-19T20:55:05Z", "additions": 1, "deletions": 21}}, {"commit": {"committedDate": "2026-02-19T21:08:38Z", "additions": 285, "deletions": 87}}]}}, {"number": 48402, "title": "fix(dagster): improve efficiency and correctness of person selection in windowed query", "body": "## Problem\r\nOur person reconciliation job was bloating memory in smoke tests in windowed mode due to an overly lax person selection criteria\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Fix utilization issue by narrowing person selection query from bug window\r\n* Related test updates\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI; will do another comparison dry run with non-windowed job once this is landed\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-19T01:02:59Z", "mergedAt": "2026-02-19T16:36:00Z", "additions": 336, "deletions": 7, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/dags/person_property_reconciliation.py"}, {"path": "posthog/dags/tests/test_person_property_reconciliation.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "z0br0wn"}, "state": "APPROVED", "submittedAt": "2026-02-19T01:11:29Z"}, {"author": {"login": "jose-sequeira"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:02:44Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T01:00:57Z", "additions": 336, "deletions": 7}}]}}, {"number": 48400, "title": "chore(flags): parameterize repetitive feature flag tests", "body": "## Summary\r\nDRY up `test_feature_flag.py` by consolidating duplicate tests using `@parameterized.expand`:\r\n\r\n| Test Group | Before | After | Savings |\r\n|------------|--------|-------|---------|\r\n| Variant rollout validation (lt_100/gt_100) | 2 tests, ~75 lines | 1 parameterized test | ~38 lines |\r\n| Invalid date validation | 2 inline assertions | 1 parameterized test | ~19 lines |\r\n| ETag header parsing (quoted/unquoted) | 2 tests, ~75 lines | 1 parameterized test | ~33 lines |\r\n| $group_key operators (regex/not_regex/not_icontains) | 3 tests, ~160 lines | 1 parameterized test | ~100 lines |\r\n\r\n**Total: ~180 lines removed** while maintaining the same test coverage.\r\n\r\n## Test plan\r\n- [x] All parameterized tests pass locally\r\n- [x] `ruff check` passes\r\n- [x] `ruff format` applied\r\n", "author": {"login": "dmarticus"}, "createdAt": "2026-02-19T00:22:09Z", "mergedAt": "2026-02-19T18:18:25Z", "additions": 43, "deletions": 223, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/test/test_feature_flag.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gustavohstrassburger"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:10:16Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T00:13:13Z", "additions": 43, "deletions": 223}}]}}, {"number": 48398, "title": "chore(web-analytics): rename setInterval to setDateInterval for clarity", "body": "## Problem\r\n\r\nHuman note: I am not **sure** this is causing anything as those will be used as the logic properties and not on top-level code, but I consider it when investigating the filters loop, so better safe than sorry.\r\n\r\nThe action name `setInterval` in web analytics and marketing analytics logic is ambiguous and could be confused with the global `setInterval` function. Renaming it to `setDateInterval` makes the intent clearer and reduces potential confusion.\r\n\r\n## Changes\r\n\r\n- Renamed `setInterval` action to `setDateInterval` in `webAnalyticsLogic.tsx`\r\n- Renamed `setInterval` action to `setDateInterval` in `marketingAnalyticsLogic.ts`\r\n- Updated all references to use the new action name in:\r\n  - `WebStatsTrendTile` component\r\n  - `AveragePageViewVisualizationTile` component\r\n  - `MarketingAnalyticsTrendTile` component\r\n- Fixed missing dependency in `InlineAlertNotifications.tsx` useEffect hook (`firstSlackIntegration`)\r\n- Fixed missing dependency in `PurePlayer.tsx` useEffect hook (`setPlayerActive`)\r\n\r\n## How did you test this code?\r\n\r\nThis is a straightforward refactoring that renames an action and updates all its usages. The changes maintain the same functionality while improving code clarity. Existing tests should continue to pass as the behavior is unchanged.\r\n\r\n## Publish to changelog?\r\n\r\nNo\r\n\r\nhttps://claude.ai/code/session_01MBivY6Fa2sTjrdTBMGmDTQ", "author": {"login": "lricoy"}, "createdAt": "2026-02-19T00:09:28Z", "mergedAt": "2026-02-19T18:57:51Z", "additions": 16, "deletions": 13, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/web-analytics/tabs/marketing-analytics/frontend/logic/marketingAnalyticsLogic.ts"}, {"path": "frontend/src/scenes/web-analytics/tiles/WebAnalyticsTile.tsx"}, {"path": "frontend/src/scenes/web-analytics/webAnalyticsLogic.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "jabahamondes"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:39:21Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:26:37Z", "additions": 16, "deletions": 13}}, {"commit": {"committedDate": "2026-02-18T21:27:56Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-19T00:10:47Z", "additions": 2, "deletions": 2}}]}}, {"number": 48397, "title": "fix(mcp): support confidential clients in OAuth DCR endpoint", "body": "## Problem\n\nClaude Desktop and claude.ai register as **confidential clients** (`token_endpoint_auth_method: \"client_secret_post\"`) during Dynamic Client Registration (DCR). Our DCR endpoint only accepted **public clients** (`\"none\"`), causing registration to fail with a 400 error and breaking the entire OAuth flow for these MCP clients.\n\nWe discovered this by setting up a local MCP server + PostHog backend with tunnels (cloudflared + ngrok) and inspecting the actual DCR request that Claude Desktop sends via ngrok's request inspection:\n\n```json\n{\n  \"redirect_uris\": [\"https://claude.ai/api/mcp/auth_callback\"],\n  \"token_endpoint_auth_method\": \"client_secret_post\",\n  \"grant_types\": [\"authorization_code\", \"refresh_token\"],\n  \"response_types\": [\"code\"],\n  \"client_name\": \"Claude\"\n}\n```\n\nThe response was:\n```json\n{\n  \"error\": \"invalid_client_metadata\",\n  \"error_description\": \"'client_secret_post' is not a valid choice.\"\n}\n```\n\nNote: our authorization server metadata already advertises `\"token_endpoint_auth_methods_supported\": [\"none\", \"client_secret_post\"]`, so this was an inconsistency between what we advertise and what DCR actually accepts.\n\n## Changes\n\n- Accept both `\"none\"` (public) and `\"client_secret_post\"` (confidential) in the DCR serializer\n- Create `CLIENT_CONFIDENTIAL` type applications when `client_secret_post` is requested\n- Return `client_secret` and `client_secret_expires_at` in the DCR response for confidential clients per RFC 7591\n- Updated tests to cover confidential client registration and unsupported auth methods\n\n## How did you test this code?\n\n- All 22 DCR tests pass (`pytest posthog/api/oauth/test_dcr.py`)\n- Tested locally with Claude Desktop connecting to a local MCP server (cloudflared tunnel) + PostHog backend (ngrok tunnel) \u2014 confirmed the DCR request now succeeds and the OAuth flow proceeds\n\n## Changelog\n\nSupport confidential OAuth clients (like Claude Desktop and claude.ai) in MCP Dynamic Client Registration, fixing the OAuth flow that was previously broken for these clients.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "MattBro"}, "createdAt": "2026-02-19T00:02:16Z", "mergedAt": "2026-02-19T02:49:07Z", "additions": 41, "deletions": 14, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/oauth/dcr.py"}, {"path": "posthog/api/oauth/test_dcr.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T02:48:41Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T00:01:50Z", "additions": 41, "deletions": 14}}]}}, {"number": 48396, "title": "feat(capture): adjust capture production log formatting to expose span tags", "body": "## Problem\r\nCapture logs are missing structured span tags and root cause messages in wrapped errors, and are not JSON formatted.\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Fix production log output in the capture codebase\r\n\r\nPart 1 of a matching change in the log aggregator formatting config for deployments\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-18T23:41:36Z", "mergedAt": "2026-02-19T16:39:07Z", "additions": 68, "deletions": 46, "changedFiles": 13, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "rust/capture/src/events/analytics.rs"}, {"path": "rust/capture/src/events/recordings.rs"}, {"path": "rust/capture/src/extractors.rs"}, {"path": "rust/capture/src/main.rs"}, {"path": "rust/capture/src/payload/decompression.rs"}, {"path": "rust/capture/src/server.rs"}, {"path": "rust/capture/src/sinks/kafka.rs"}, {"path": "rust/capture/src/sinks/producer.rs"}, {"path": "rust/capture/src/sinks/s3.rs"}, {"path": "rust/capture/src/test_endpoint.rs"}, {"path": "rust/capture/src/utils.rs"}, {"path": "rust/capture/src/v0_endpoint.rs"}, {"path": "rust/capture/src/v0_request.rs"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "z0br0wn"}, "state": "COMMENTED", "submittedAt": "2026-02-19T01:21:50Z"}, {"author": {"login": "z0br0wn"}, "state": "APPROVED", "submittedAt": "2026-02-19T01:21:56Z"}, {"author": {"login": "jose-sequeira"}, "state": "COMMENTED", "submittedAt": "2026-02-19T07:59:44Z"}, {"author": {"login": "eli-r-ph"}, "state": "COMMENTED", "submittedAt": "2026-02-19T16:38:45Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T23:16:34Z", "additions": 39, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T23:32:05Z", "additions": 29, "deletions": 37}}]}}, {"number": 48391, "title": "fix(insights): cache incomplete segment styling in line graph", "body": "## Problem\n\nRendering area graph insights was very slow, due to per-segment work in Chart.js scriptable callbacks, especially creating a new pinstripe pattern for each segment render.\n\n## Changes\n\n- Compute incomplete-series flags and cutoff index once per dataset.\n- Create the pinstripe pattern once per dataset (instead of in every segment callback).\n- Only register `segment.borderDash` / `segment.backgroundColor` callbacks when incomplete styling is needed, so Chart.js skips callback overhead otherwise.\n\n## How did you test this code?\n\nUsed an example insight in Storybook locally\n", "author": {"login": "thmsobrmlr"}, "createdAt": "2026-02-18T22:38:32Z", "mergedAt": "2026-02-19T06:46:45Z", "additions": 19, "deletions": 24, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:45:21Z"}, {"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-18T23:09:23Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T22:42:25Z", "additions": 19, "deletions": 24}}]}}, {"number": 48390, "title": "refactor: Use functional state updates for state setters", "body": "## Problem\n\nThe current state management in several components is using direct state updates, which can lead to race conditions when the new state depends on the previous state. This pattern is not recommended in React as it may not correctly capture the latest state value.\n\n## Changes\n\nUpdated state update functions in multiple components to use the functional update pattern (`setState(prev => ...)`) instead of directly referencing the current state value. This ensures that state updates are based on the most recent state value, preventing potential race conditions.\n\nSpecific changes:\n- Fixed `setIsPaused` in StoriesModal\n- Updated `setEntries` in DictionaryField to use functional updates\n- Refactored the variant screenshot upload logic to use functional updates and improve code organization\n- Improved ApprovalPolicies component to use functional updates for rules management\n\n## How did you test this code?\n\nManually tested each component to ensure the state updates work correctly. Verified that toggling pause in stories, adding dictionary entries, uploading variant screenshots, and managing approval policies all function as expected with the new state update pattern.", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:30:10Z", "mergedAt": "2026-02-19T21:24:39Z", "additions": 117, "deletions": 66, "changedFiles": 35, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation/ImpersonationNotice/ImpersonationNotice.tsx"}, {"path": "frontend/src/layout/navigation/PosthogStories/StoriesModal.tsx"}, {"path": "frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"}, {"path": "frontend/src/lib/components/CyclotronJob/CyclotronJobInputs.tsx"}, {"path": "frontend/src/lib/components/CyclotronJob/integrations/IntegrationChoice.tsx"}, {"path": "frontend/src/lib/components/ImageCarousel/ImageCarousel.tsx"}, {"path": "frontend/src/lib/components/ResizeElement/ResizeElement.tsx"}, {"path": "frontend/src/lib/components/Scenes/InsightOrDashboard/SceneNotebookMenuItems.tsx"}, {"path": "frontend/src/lib/components/TZLabel/index.tsx"}, {"path": "frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx"}, {"path": "frontend/src/lib/components/hedgehogs.tsx"}, {"path": "frontend/src/lib/hooks/useScrollObserver.tsx"}, {"path": "frontend/src/lib/integrations/IntegrationView.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendarRange/LemonCalendarRange.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendarRange/LemonCalendarRangeInline.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonTable/LemonTable.stories.tsx"}, {"path": "frontend/src/lib/lemon-ui/UploadedLogo/UploadedLogo.tsx"}, {"path": "frontend/src/queries/nodes/DataTable/DataTable.tsx"}, {"path": "frontend/src/scenes/authentication/TwoFactorSetup.tsx"}, {"path": "frontend/src/scenes/data-warehouse/external/forms/SyncMethodForm.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentView/VariantScreenshot.tsx"}, {"path": "frontend/src/scenes/feature-flags/activityDescriptions.tsx"}, {"path": "frontend/src/scenes/heatmaps/scenes/heatmap/HeatmapScene.tsx"}, {"path": "frontend/src/scenes/hog-functions/configuration/HogFunctionIcon.tsx"}, {"path": "frontend/src/scenes/max/HistoryPreview.tsx"}, {"path": "frontend/src/scenes/max/Intro.tsx"}, {"path": "frontend/src/scenes/max/components/ThreadAutoScroller.tsx"}, {"path": "frontend/src/scenes/persons/activityDescriptions.tsx"}, {"path": "frontend/src/scenes/saved-insights/activityDescriptions.tsx"}, {"path": "frontend/src/scenes/session-recordings/player/sidebar/PlayerSidebarLinkedIssuesTab.tsx"}, {"path": "frontend/src/scenes/settings/environment/CoreEventsSettings.tsx"}, {"path": "frontend/src/scenes/settings/organization/Approvals/ApprovalPolicies.tsx"}, {"path": "frontend/src/scenes/web-analytics/WebAnalyticsMenu.tsx"}, {"path": "frontend/src/scenes/web-analytics/tabs/marketing-analytics/frontend/components/settings/ConversionGoalsConfiguration.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:32:00Z"}, {"author": {"login": "fercgomes"}, "state": "CHANGES_REQUESTED", "submittedAt": "2026-02-19T17:12:56Z"}, {"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:12:59Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T21:01:20Z", "additions": 10, "deletions": 5}}, {"commit": {"committedDate": "2026-02-19T21:01:21Z", "additions": 24, "deletions": 15}}, {"commit": {"committedDate": "2026-02-19T21:01:21Z", "additions": 8, "deletions": 5}}, {"commit": {"committedDate": "2026-02-19T21:01:22Z", "additions": 30, "deletions": 8}}, {"commit": {"committedDate": "2026-02-19T21:01:22Z", "additions": 14, "deletions": 12}}, {"commit": {"committedDate": "2026-02-19T21:01:22Z", "additions": 17, "deletions": 16}}, {"commit": {"committedDate": "2026-02-19T21:02:02Z", "additions": 22, "deletions": 13}}]}}, {"number": 48389, "title": "fix: Add title attributes to iframe elements", "body": "## Problem\n\nAccessibility is a key aspect of web development, and our application currently lacks proper title attributes for iframe elements. This is important for screen reader users to understand the content of iframes, and it's a requirement for WCAG compliance.\n\n## Changes\n\nAdded title attributes to all iframe elements across the application to improve accessibility. This includes:\n- Heatmap exports and browsers\n- Toolbar browser previews\n- Shared insight previews\n- Embedded queries\n- Email template previews\n- Embedded content in notebooks\n- Session recording DOM explorer\n- Site previews\n- Message template previews\n\n## How did you test this code?\n\nManually verified that all iframe elements now have descriptive title attributes that accurately describe their content. Used browser developer tools to inspect the rendered HTML and confirm the presence of the title attributes.\n\n## Publish to changelog?\n\nNo", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:30:06Z", "mergedAt": "2026-02-19T21:00:50Z", "additions": 15, "deletions": 3, "changedFiles": 12, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/exporter/Exporter.tsx"}, {"path": "frontend/src/lib/components/IframedToolbarBrowser/IframedToolbarBrowser.tsx"}, {"path": "frontend/src/lib/components/Sharing/SharingModal.tsx"}, {"path": "frontend/src/scenes/heatmaps/components/FixedReplayHeatmapBrowser.tsx"}, {"path": "frontend/src/scenes/heatmaps/components/IframeHeatmapBrowser.tsx"}, {"path": "frontend/src/scenes/heatmaps/scenes/heatmap/HeatmapScene.tsx"}, {"path": "frontend/src/scenes/hog-functions/email-templater/EmailTemplater.tsx"}, {"path": "frontend/src/scenes/notebooks/Nodes/NotebookNodeEmbed.tsx"}, {"path": "frontend/src/scenes/product-tours/editor/EmbedExtension.tsx"}, {"path": "frontend/src/scenes/session-recordings/player/view-explorer/SessionRecordingPlayerExplorer.tsx"}, {"path": "frontend/src/scenes/sites/Site.tsx"}, {"path": "products/workflows/frontend/TemplateLibrary/MessageTemplateCard.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:29:17Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:27:46Z", "additions": 15, "deletions": 3}}]}}, {"number": 48388, "title": "perf: Use lazy initialization for useState calls", "body": "## Problem\n\nThe current implementation of useState hooks in various components is not following the recommended pattern for expensive initial state calculations. When a function is passed directly to useState without wrapping it in a function, it gets executed on every render rather than just once during initialization.\n\n## Changes\n\nUpdated useState hooks across multiple components to use the function initialization pattern `useState(() => ...)` instead of `useState(...)` when the initial state requires computation. This optimization ensures that expensive calculations for initial state only run during component initialization rather than on every render.\n\nComponents updated include:\n- ImpersonationNotice's CountDown component\n- CyclotronJobInputs' DictionaryField\n- TZLabel\n- LemonCalendar\n- LemonCalendarRange\n- LemonCalendarRangeInline\n- SyncMethodForm\n- VariantScreenshot\n- Max Intro\n- CoreEventsSettings\n- ApprovalPolicies\n- ConversionGoalsConfiguration\n\n## How did you test this code?\n\nVerified that all components continue to function correctly after the changes. Confirmed that initial state calculations are only performed once during component initialization by adding console logs to track execution. Tested components in various states to ensure they maintain the same behavior as before.", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:30:01Z", "mergedAt": "2026-02-19T21:01:52Z", "additions": 14, "deletions": 12, "changedFiles": 12, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation/ImpersonationNotice/ImpersonationNotice.tsx"}, {"path": "frontend/src/lib/components/CyclotronJob/CyclotronJobInputs.tsx"}, {"path": "frontend/src/lib/components/TZLabel/index.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendarRange/LemonCalendarRange.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonCalendarRange/LemonCalendarRangeInline.tsx"}, {"path": "frontend/src/scenes/data-warehouse/external/forms/SyncMethodForm.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentView/VariantScreenshot.tsx"}, {"path": "frontend/src/scenes/max/Intro.tsx"}, {"path": "frontend/src/scenes/settings/environment/CoreEventsSettings.tsx"}, {"path": "frontend/src/scenes/settings/organization/Approvals/ApprovalPolicies.tsx"}, {"path": "frontend/src/scenes/web-analytics/tabs/marketing-analytics/frontend/components/settings/ConversionGoalsConfiguration.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:32:53Z"}, {"author": {"login": "lricoy"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:16:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:28:09Z", "additions": 14, "deletions": 12}}, {"commit": {"committedDate": "2026-02-19T20:41:12Z", "additions": 0, "deletions": 0}}]}}, {"number": 48384, "title": "refactor: Extract component functions to top-level for better reusability", "body": "## Problem\n\nThis PR refactors several components to improve code organization by moving nested component definitions outside of their parent components. This pattern helps with code readability and maintainability by avoiding deeply nested component definitions.\n\n## Changes\n\n- Moved `SupportFormBlock` component outside of `SidePanelSupport` and updated its props\n- Moved `ProjectDragMonitor` component outside of `useProjectDragState` and made it accept props\n- Moved `GoalTooltip` component outside of `DataCollection` and updated its props\n- Moved `ChecklistItem` component outside of `LegacyErrorChecklist` and updated its props\n\n## How did you test this code?\n\nVerified that all components continue to function correctly after the refactoring. The changes are purely structural and don't affect the behavior of the components.\n\n## Publish to changelog?\n\nNo", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:29:46Z", "mergedAt": "2026-02-19T20:55:16Z", "additions": 218, "deletions": 172, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation-3000/sidepanel/panels/SidePanelSupport.tsx"}, {"path": "frontend/src/layout/panel-layout/ProjectTree/ProjectDragAndDropContext.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentView/DataCollection.tsx"}, {"path": "frontend/src/scenes/experiments/MetricsView/legacy/LegacyErrorChecklist.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:31:35Z"}, {"author": {"login": "fercgomes"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:16:34Z"}, {"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:16:40Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:17:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:37:50Z", "additions": 218, "deletions": 172}}]}}, {"number": 48383, "title": "chore: Remove unnecessary accessibility attributes", "body": "## Problem\n\nRemoved unnecessary accessibility attributes from UI elements that could cause confusion or redundancy.\n\n## Changes\n\n- Removed `role=\"button\"` from the \"See more\" element in StoriesPlayer, as it's already semantically a button\n- Removed `tabIndex` attributes from the \"Cancel\" and \"Save\" buttons in the DashboardHeader, as these buttons are already naturally focusable elements\n\n## How did you test this code?\n\nVerified that the UI elements maintain their expected functionality and accessibility without the removed attributes. Tested keyboard navigation to ensure the buttons remain properly focusable in the tab order.", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:29:42Z", "mergedAt": "2026-02-19T20:36:47Z", "additions": 0, "deletions": 3, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation/PosthogStories/StoriesPlayer.tsx"}, {"path": "frontend/src/scenes/dashboard/DashboardHeader.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-19T17:23:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T20:19:53Z", "additions": 0, "deletions": 3}}]}}, {"number": 48382, "title": "feat: Add aria-expanded attribute to Combobox search input", "body": "## Problem\n\nThe Combobox component is missing the `aria-expanded` attribute, which is important for accessibility. Screen readers need this attribute to announce whether the combobox dropdown is expanded or collapsed.\n\n## Changes\n\nAdded the `aria-expanded={true}` attribute to the input element in the Combobox component to improve accessibility and comply with ARIA standards for combobox components.\n\n\n## Publish to changelog?\n\nNo", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T22:29:37Z", "mergedAt": "2026-02-19T20:18:30Z", "additions": 1, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/ui/Combobox/Combobox.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:32:01Z"}, {"author": {"login": "fercgomes"}, "state": "COMMENTED", "submittedAt": "2026-02-19T17:19:16Z"}, {"author": {"login": "fercgomes"}, "state": "APPROVED", "submittedAt": "2026-02-19T20:14:57Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T19:01:12Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T19:03:34Z", "additions": 1, "deletions": 1}}]}}, {"number": 48381, "title": "feat: find missing query tags", "body": "## Problem\r\n\r\nwe miss some query tags, lets find all the places those queries originate\r\n\r\n## Changes\r\n\r\nadd stack trace logging\r\n", "author": {"login": "orian"}, "createdAt": "2026-02-18T22:23:55Z", "mergedAt": "2026-02-19T08:59:23Z", "additions": 21, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/clickhouse/client/execute.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:27:10Z"}, {"author": {"login": "Daesgar"}, "state": "APPROVED", "submittedAt": "2026-02-19T08:58:36Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T22:22:34Z", "additions": 27, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T22:27:14Z", "additions": 0, "deletions": 10}}, {"commit": {"committedDate": "2026-02-18T23:22:57Z", "additions": 21, "deletions": 17}}, {"commit": {"committedDate": "2026-02-19T01:58:25Z", "additions": 73324, "deletions": 34531}}]}}, {"number": 48379, "title": "chore: update workflows onboarding docs", "body": "updates the workflows onboarding docs for new shared architecture. a few things to note:\r\n- workflows doesn't require an SDK, installing PH is optional but enables event-based workflow triggers. i've made this clearer in the onboarding copy\r\n- since workflows have no SDK-specific setup steps, I just re-used product analytics installations directly via `modifySteps` instead of maintaining its own shared docs layer\r\n- we don't have workflows install docs on posthog.com yet, I'll create those separately in a similar fashion as the bullet above ^^^\r\n- I've led with the installation wizard being the default installation method on the first page in the workflows installation flow. a no code feature should have a low-code installation method imo, but open to differing opinions here if you feel strongly\r\n\r\n## Testing\r\nran the app locally and verified all the section have their corresponding PA steps + the workflow final step\r\n\r\n## Preview\r\n\r\n<img width=\"1712\" height=\"1508\" alt=\"CleanShot 2026-02-18 at 16 57 38@2x\" src=\"https://github.com/user-attachments/assets/371db439-5571-4309-8f59-3255b2a69b6b\" />\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "sarahxsanders"}, "createdAt": "2026-02-18T22:04:08Z", "mergedAt": "2026-02-19T18:48:12Z", "additions": 374, "deletions": 18, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/scenes-other-onboarding--workflows-custom-installation-instructions--dark.png"}, {"path": "frontend/__snapshots__/scenes-other-onboarding--workflows-custom-installation-instructions--light.png"}, {"path": "frontend/src/scenes/onboarding/Onboarding.tsx"}, {"path": "frontend/src/scenes/onboarding/sdks/sdk-install-instructions/components/SetupWizardBanner.tsx"}, {"path": "frontend/src/scenes/onboarding/sdks/shared/onboardingWrappers.tsx"}, {"path": "frontend/src/scenes/onboarding/sdks/workflows/WorkflowsSDKInstructions.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:15:25Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T03:40:55Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:02:47Z", "additions": 374, "deletions": 18}}, {"commit": {"committedDate": "2026-02-19T16:12:42Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T16:30:03Z", "additions": 227591, "deletions": 55029}}, {"commit": {"committedDate": "2026-02-19T16:59:58Z", "additions": 0, "deletions": 0}}]}}, {"number": 48378, "title": "chore(session-recording): add team filter pipeline step", "body": "## Problem\r\n\r\nsession-replay should be refactored to leverage the pipeline framework\r\n\r\n## Changes\r\n\r\nports the team filter code over to a pipeline step\r\n\r\n## How did you test this code?\r\n\r\nunit + e2e tests\r\n\r\n## Publish to changelog?\r\nno", "author": {"login": "z0br0wn"}, "createdAt": "2026-02-18T22:03:57Z", "mergedAt": "2026-02-19T17:35:06Z", "additions": 290, "deletions": 268, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/session_replay/index.ts"}, {"path": "nodejs/src/ingestion/session_replay/session-replay-pipeline.test.ts"}, {"path": "nodejs/src/ingestion/session_replay/session-replay-pipeline.ts"}, {"path": "nodejs/src/ingestion/session_replay/team-filter-step.test.ts"}, {"path": "nodejs/src/ingestion/session_replay/team-filter-step.ts"}, {"path": "nodejs/src/session-recording/consumer.ts"}, {"path": "nodejs/src/session-recording/teams/team-filter.test.ts"}, {"path": "nodejs/src/session-recording/teams/team-filter.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:08:13Z"}, {"author": {"login": "z0br0wn"}, "state": "COMMENTED", "submittedAt": "2026-02-19T00:19:48Z"}, {"author": {"login": "pl"}, "state": "CHANGES_REQUESTED", "submittedAt": "2026-02-19T10:35:05Z"}, {"author": {"login": "z0br0wn"}, "state": "COMMENTED", "submittedAt": "2026-02-19T14:21:22Z"}, {"author": {"login": "z0br0wn"}, "state": "COMMENTED", "submittedAt": "2026-02-19T14:21:35Z"}, {"author": {"login": "pl"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:32:25Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T22:01:19Z", "additions": 292, "deletions": 264}}, {"commit": {"committedDate": "2026-02-19T00:26:43Z", "additions": 2, "deletions": 9}}, {"commit": {"committedDate": "2026-02-19T14:20:44Z", "additions": 30, "deletions": 29}}]}}, {"number": 48377, "title": "fix: update PropertyFilterButton styling and spacing", "body": "## Problem\r\n\r\nThe PropertyFilterButton component needs visual and spacing refinements to better align with design specifications.\r\n\r\n## Changes\r\n\r\n| before  | after |\r\n| - | - |\r\n| <img width=\"2916\" height=\"610\" alt=\"CleanShot 2026-02-19 at 09 14 54@2x\" src=\"https://github.com/user-attachments/assets/10085ddd-4121-4640-a473-c4bd118524b2\" />|<img width=\"2934\" height=\"616\" alt=\"CleanShot 2026-02-19 at 09 20 27@2x\" src=\"https://github.com/user-attachments/assets/16a8db25-b4f1-43ca-b700-ae3c1286dd49\" />|\r\n\r\n\r\nhttps://claude.ai/code/session_019ahtou1oXRLhT67bpkgfWa", "author": {"login": "pauldambra"}, "createdAt": "2026-02-18T21:32:45Z", "mergedAt": "2026-02-19T10:41:12Z", "additions": 4, "deletions": 4, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/filters-property-filter-button--button--dark.png"}, {"path": "frontend/__snapshots__/filters-property-filter-button--button--light.png"}, {"path": "frontend/__snapshots__/filters-property-filter-button--filter-types--dark.png"}, {"path": "frontend/__snapshots__/filters-propertyfilters--comparing-property-filters--dark.png"}, {"path": "frontend/__snapshots__/filters-propertyfilters--comparing-property-filters--light.png"}, {"path": "frontend/__snapshots__/filters-propertyfilters--with-no-close-button--dark.png"}, {"path": "frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.scss"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "frankh"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:22:37Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:24:09Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:24:24Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:27:04Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T09:30:05Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T10:00:28Z", "additions": 0, "deletions": 0}}]}}, {"number": 48376, "title": "feat: gather autocapture off feedback", "body": "We want to let people give us feedback why they disabled autocapture.\r\nSurvey inside ph -> https://us.posthog.com/project/2/surveys/019c72ac-3098-0000-8da2-c133ed9d9b9b.\r\n\r\nResponses are sent to our slack channel\r\n\r\n\r\n<img width=\"542\" height=\"415\" alt=\"image\" src=\"https://github.com/user-attachments/assets/55776f95-faa0-4801-9f79-4bdaa3a4e259\" />\r\n\r\n\r\n\r\n", "author": {"login": "ablaszkiewicz"}, "createdAt": "2026-02-18T21:30:59Z", "mergedAt": "2026-02-20T11:40:31Z", "additions": 192, "deletions": 18, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/error_tracking/frontend/scenes/ErrorTrackingConfigurationScene/exception_autocapture/DisableSurvey.tsx"}, {"path": "products/error_tracking/frontend/scenes/ErrorTrackingConfigurationScene/exception_autocapture/ExceptionAutocaptureSettings.tsx"}, {"path": "products/error_tracking/frontend/scenes/ErrorTrackingConfigurationScene/exception_autocapture/disableSurveyLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:35:01Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:35:16Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:36:37Z"}, {"author": {"login": "hpouillot"}, "state": "COMMENTED", "submittedAt": "2026-02-19T14:10:38Z"}, {"author": {"login": "ablaszkiewicz"}, "state": "COMMENTED", "submittedAt": "2026-02-19T15:12:05Z"}, {"author": {"login": "hpouillot"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:18:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:06:37Z", "additions": 132, "deletions": 18}}, {"commit": {"committedDate": "2026-02-18T15:12:33Z", "additions": 16, "deletions": 20}}, {"commit": {"committedDate": "2026-02-18T21:29:48Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T21:35:40Z", "additions": 2, "deletions": 4}}, {"commit": {"committedDate": "2026-02-18T22:18:24Z", "additions": 18, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T22:18:32Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T15:01:03Z", "additions": 72, "deletions": 20}}, {"commit": {"committedDate": "2026-02-19T15:11:28Z", "additions": 10, "deletions": 8}}, {"commit": {"committedDate": "2026-02-19T15:24:45Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T16:00:38Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T16:03:24Z", "additions": 29288, "deletions": 15959}}]}}, {"number": 48375, "title": "feat(dagster): add real integration tests to person distinct ID disassociation job", "body": "## Problem\r\nWe missed a simple issue in DB row iteration due to the tests using mocks in a spot they didn't need to\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Update integration tests to use real Dockerized storage in local/CI\r\n* Fix iteration bug\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI; dry run smoke tests coming up once this is landed in Dagster Cloud\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-18T21:29:46Z", "mergedAt": "2026-02-18T22:13:22Z", "additions": 201, "deletions": 8, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/dags/detach_distinct_id.py"}, {"path": "posthog/dags/tests/test_detach_distinct_id.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "nickbest-ph"}, "state": "APPROVED", "submittedAt": "2026-02-18T22:12:02Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:27:54Z", "additions": 201, "deletions": 8}}]}}, {"number": 48373, "title": "fix(ux): sidepanel last minute updates", "body": "## Problem\r\n* straggling words \"side panel\"\r\n* open context panel tooltip spacing\r\n* app window spacing around bottom and right a bit too much now that there's nothing outside there  \r\n* survey create maxtool makes the header cluttered.\r\n\r\n## Changes\r\n* fix words\r\n* fix spacing\r\n* reduce window margin from 2 -> 1 \r\n* migrate surveys maxtool to use scene title section.\r\n \r\n<img width=\"868\" height=\"855\" alt=\"image\" src=\"https://github.com/user-attachments/assets/25c56780-27f2-41ee-84d7-1c18e3e97d47\" />\r\n\r\n<img width=\"381\" height=\"211\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8cb8871a-92d3-44ef-acae-5ffbd01dcff8\" />\r\n\r\n\r\n## How did you test this code?\r\nLocally\r\n\r\n## Publish to changelog?\r\nNo", "author": {"login": "adamleithp"}, "createdAt": "2026-02-18T21:26:07Z", "mergedAt": "2026-02-18T21:49:44Z", "additions": 61, "deletions": 12, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation-3000/Navigation.tsx"}, {"path": "frontend/src/layout/scenes/components/SceneTitleSection.tsx"}, {"path": "frontend/src/scenes/max/Max.tsx"}, {"path": "frontend/src/scenes/max/components/AiFirstMaxInstance.tsx"}, {"path": "frontend/src/scenes/notebooks/NotebookScene.tsx"}, {"path": "frontend/src/scenes/surveys/Surveys.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:29:21Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-18T21:36:15Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:04:17Z", "additions": 9, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T21:14:08Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T21:24:31Z", "additions": 50, "deletions": 4}}]}}, {"number": 48371, "title": "revert: Revert \"Revert \"feat: taxonomic filter typeahead for screen and url without choosing event\"\"", "body": "Reverts PostHog/posthog#48361\r\n\r\nrevert the revert\r\n\r\nthis now \r\n\r\n* is less likely to send the queries\r\n* gates each type of query with its own flag so we can turn them off quickly\r\n* sends the event filter with the queries", "author": {"login": "pauldambra"}, "createdAt": "2026-02-18T20:52:04Z", "mergedAt": "2026-02-19T15:35:33Z", "additions": 431, "deletions": 276, "changedFiles": 17, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx"}, {"path": "frontend/src/lib/components/DefinitionPopover/utils.ts"}, {"path": "frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts"}, {"path": "frontend/src/lib/components/TaxonomicFilter/InfiniteList.scss"}, {"path": "frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx"}, {"path": "frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts"}, {"path": "frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.test.ts"}, {"path": "frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx"}, {"path": "frontend/src/lib/components/TaxonomicFilter/types.ts"}, {"path": "frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"}, {"path": "frontend/src/lib/constants.tsx"}, {"path": "frontend/src/queries/nodes/InsightViz/GlobalAndOrFilters.tsx"}, {"path": "frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx"}, {"path": "frontend/src/queries/schema.json"}, {"path": "frontend/src/scenes/insights/EditorFilters/FunnelsQuerySteps.tsx"}, {"path": "frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"}, {"path": "posthog/schema.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:27:23Z"}, {"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:29:08Z"}, {"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:29:29Z"}, {"author": {"login": "pauldambra"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:30:28Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T23:43:01Z"}, {"author": {"login": "bciaraldi"}, "state": "APPROVED", "submittedAt": "2026-02-18T23:44:34Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T23:46:21Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T13:53:01Z", "additions": 416, "deletions": 275}}, {"commit": {"committedDate": "2026-02-19T14:58:07Z", "additions": 24, "deletions": 10}}]}}, {"number": 48370, "title": "fix(devex): skip migration caching in test mode", "body": "## Problem\n\nMigration caching should be skipped not only in production mode but also during test runs to ensure test isolation and prevent stale cached migration state from affecting test execution.\n\n## Changes\n\n- Added detection of test mode via `TEST` environment variable\n- Introduced `skip_caching` flag that is set when either in production mode or test mode\n- Updated migration caching logic to use `skip_caching` instead of only checking `production_mode`\n- This ensures migration state is not cached during test execution, maintaining test isolation\n\n## How did you test this code?\n\nThe change is straightforward and follows the existing pattern for `production_mode`. Existing test infrastructure will verify that migrations work correctly in test mode without caching side effects.\n\nNo additional testing needed - CI will validate the change.\n\n## Publish to changelog?\n\nno\n\nhttps://claude.ai/code/session_01T1TzQhxBEw8WsCkdUvMRFj", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T20:45:59Z", "mergedAt": "2026-02-20T07:51:19Z", "additions": 7, "deletions": 5, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/management/commands/migrate.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:09:00Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:09:09Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T19:19:20Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T20:41:07Z", "additions": 5, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T09:06:07Z", "additions": 16200, "deletions": 4339}}, {"commit": {"committedDate": "2026-02-19T20:32:07Z", "additions": 3, "deletions": 3}}]}}, {"number": 48368, "title": "chore: add logging to resource transfers", "body": "## Problem\n\nWe want some logging to make it easier to debug this feature in production. \n\n<!-- Who are we building for, what are their needs, why is this important? -->\n\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\n<!-- Closes #ISSUE_ID -->\n\n## Changes\n\nAdd a ton of logging to `inter_project_transferer.py`\n\n<!-- If there are frontend changes, please include screenshots. -->\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\n\n## How did you test this code?\nManually\n<!-- Briefly describe the steps you took. -->\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\n\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\n\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\n\n## Publish to changelog?\n\n<!-- For features only -->\n\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\n\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\n", "author": {"login": "ReeceJones"}, "createdAt": "2026-02-18T20:42:41Z", "mergedAt": "2026-02-19T17:04:28Z", "additions": 254, "deletions": 11, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/models/resource_transfer/inter_project_transferer.py"}, {"path": "posthog/settings/logs.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T20:47:13Z"}, {"author": {"login": "a-lider"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:30:48Z"}, {"author": {"login": "yasen-posthog"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:47:55Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T16:36:26Z", "additions": 254, "deletions": 11}}]}}, {"number": 48367, "title": "chore(session-recording): use dlq", "body": "## Problem\r\n\r\nblobby currently drops all messages that fail validation - this makes investigation and remediation difficult.\r\n\r\n## Changes\r\n\r\n- wire up the dlq topic - it's already configured, but never passed in.\r\n- dlq messages (instead of drop) when appropriate\r\n\r\n## How did you test this code?\r\n\r\nunit tests\r\n\r\n## Publish to changelog?\r\n\r\nno", "author": {"login": "z0br0wn"}, "createdAt": "2026-02-18T20:40:43Z", "mergedAt": "2026-02-19T16:51:30Z", "additions": 135, "deletions": 61, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/config/config.ts"}, {"path": "nodejs/src/config/kafka-topics.ts"}, {"path": "nodejs/src/ingestion/session_replay/parse-message-step.test.ts"}, {"path": "nodejs/src/ingestion/session_replay/parse-message-step.ts"}, {"path": "nodejs/src/ingestion/session_replay/session-replay-pipeline.test.ts"}, {"path": "nodejs/src/ingestion/session_replay/session-replay-pipeline.ts"}, {"path": "nodejs/src/session-recording/consumer.ts"}, {"path": "nodejs/src/session-recording/kafka/metrics.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T20:49:04Z"}, {"author": {"login": "jose-sequeira"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:03:48Z"}, {"author": {"login": "pl"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:12:33Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T20:38:01Z", "additions": 135, "deletions": 54}}, {"commit": {"committedDate": "2026-02-18T22:06:17Z", "additions": 0, "deletions": 7}}]}}, {"number": 48366, "title": "feat(mcp): add client_name to analytics events for DCR client grouping", "body": "## Problem\r\n\r\nWith Dynamic Client Registration (DCR), each MCP client installation (e.g. each Claude Code instance) registers its own anonymous OAuth client. This means the same application creates many different `client_id`s, making it impossible to aggregate MCP usage by application name (e.g. \"how many tool calls came from Claude Code vs Cursor?\").\r\n\r\nThe OAuth `client_name` (the human-readable application name) is available on the `OAuthApplication` model but was not being returned by the introspect endpoint or captured on analytics events.\r\n\r\n## Changes\r\n\r\n**Backend (Python):**\r\n- Added `client_name` to the OAuth introspect endpoint response for both access tokens and refresh tokens\r\n\r\n**MCP Service (TypeScript):**\r\n- Added `client_name` to the Zod schema for OAuth introspection responses\r\n- Added `clientName` to the MCP state cache type\r\n- Cache `client_name` from introspection result in `StateManager`\r\n- Include `client_name` property on all `mcp tool call` and `mcp tool response` analytics events\r\n\r\n**Tests:**\r\n- Updated introspection test to assert `client_name` is returned\r\n\r\n## How did you test this code?\r\n\r\n- Updated existing introspection test to verify `client_name` is returned\r\n\r\n## Changelog\r\n\r\nNo, this is an internal analytics improvement.\r\n\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "MattBro"}, "createdAt": "2026-02-18T20:11:47Z", "mergedAt": "2026-02-19T17:59:41Z", "additions": 27, "deletions": 7, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/oauth/test_views.py"}, {"path": "posthog/api/oauth/views.py"}, {"path": "services/mcp/src/lib/StateManager.ts"}, {"path": "services/mcp/src/mcp.ts"}, {"path": "services/mcp/src/schema/api.ts"}, {"path": "services/mcp/src/tools/types.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:21:27Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T20:11:24Z", "additions": 13, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T14:35:07Z", "additions": 16, "deletions": 8}}, {"commit": {"committedDate": "2026-02-19T17:20:33Z", "additions": 24743, "deletions": 13134}}]}}, {"number": 48365, "title": "feat: Move skills to .agents directory and add react-doctor skill", "body": "## Problem\n\nWe need to reorganize our agent skills directory structure to establish a clear source of truth and add a new React Doctor skill to help diagnose and fix React codebase health issues.\n\n## Changes\n\n- Moved skill files from `.claude/skills/` to `.agents/skills/` directory\n- Created a symlink from `.claude/skills` to `.agents/skills` to maintain compatibility\n- Added documentation in AGENTS.md explaining that `.agents/skills` is the source of truth\n- Added new React Doctor skill that can scan React codebases for security, performance, correctness, and architecture issues\n\n## How did you test this code?\n\nVerified that all skill files were properly moved to the new location and that the symlink works correctly. Tested the React Doctor skill by running it against our React components to ensure it properly identifies issues.\n\n## Publish to changelog?\n\nNo", "author": {"login": "rafaeelaudibert"}, "createdAt": "2026-02-18T20:10:11Z", "mergedAt": "2026-02-18T20:44:26Z", "additions": 46, "deletions": 0, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".agents/skills/clickhouse-migrations/SKILL.md"}, {"path": ".agents/skills/hogli/SKILL.md"}, {"path": ".agents/skills/implementing-agent-modes/SKILL.md"}, {"path": ".agents/skills/react-doctor/SKILL.md"}, {"path": ".agents/skills/setup-web-tests/SKILL.md"}, {"path": ".agents/skills/survey-sdk-audit/SKILL.md"}, {"path": ".claude/skills"}, {"path": "AGENTS.md"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T20:12:28Z"}, {"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-18T20:43:40Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T20:09:20Z", "additions": 0, "deletions": 628}}, {"commit": {"committedDate": "2026-02-18T20:09:43Z", "additions": 670, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T20:09:51Z", "additions": 4, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T20:18:01Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T20:19:37Z", "additions": 1, "deletions": 1}}]}}, {"number": 48364, "title": "chore(llma): Update LLM costs", "body": "This is an automated PR to update LLM pricing models.\n\n## Reviewer checklist\n\nPlease verify that there aren't any odd changes in the pricing by checking against the official pricing pages:\n\n- [Anthropic Pricing](https://claude.com/pricing#api)\n- [OpenAI Pricing](https://openai.com/api/pricing/)\n- [Google AI (Gemini) Pricing](https://ai.google.dev/pricing)\n- [Mistral AI Pricing](https://mistral.ai/pricing#api-pricing)", "author": {"login": "scheduled-actions-posthog"}, "createdAt": "2026-02-18T20:09:35Z", "mergedAt": "2026-02-19T10:58:01Z", "additions": 25, "deletions": 78, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/ai/costs/providers/canonical-providers.ts"}, {"path": "nodejs/src/ingestion/ai/costs/providers/llm-costs.json"}]}, "labels": {"nodes": [{"name": "automated"}, {"name": "llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "Radu-Raicea"}, "state": "APPROVED", "submittedAt": "2026-02-18T20:11:00Z"}, {"author": {"login": "carlos-marchal-ph"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:21:20Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T10:15:22Z", "additions": 25, "deletions": 78}}]}}, {"number": 48363, "title": "fix(flags): improve error messages and status codes for data parsing failures", "body": "## Summary\r\n\r\nImproves error handling in the Rust feature flags service to provide clearer error messages and more appropriate HTTP status codes.\r\n\r\n### Changes\r\n\r\n1. **Better error handling for data parsing failures**\r\n   - Replaced `RedisDataParsingError` with `DataParsingErrorWithContext(String)` \r\n   - Full error details logged server-side for debugging\r\n   - Generic client-facing message (no internal implementation details exposed)\r\n\r\n2. **Fixed status code for data parsing errors**\r\n   - Changed from 503 (Service Unavailable) to 500 (Internal Server Error)\r\n   - These are data integrity/schema issues, not transient service availability problems\r\n\r\n3. **Consistent cache miss error handling**\r\n   - Reclassified `PersonNotFound`, `PropertiesNotInCache`, `StaticCohortMatchesNotCached` from 400 to 503\r\n   - Now consistent with `CacheMiss` which was already 503\r\n   - These represent transient states where data may not be populated yet\r\n\r\n### Before/After\r\n\r\n| Error | Before | After |\r\n|-------|--------|-------|\r\n| Data parsing error | 503 Failed to parse internal data | 500 Failed to parse flag configuration data. This may indicate a misconfigured feature flag. |\r\n| PersonNotFound | 400 Please check your distinct_id | 503 Person data not yet available. This is temporary. |\r\n| PropertiesNotInCache | 400 | 503 |\r\n| StaticCohortMatchesNotCached | 400 | 503 |", "author": {"login": "dmarticus"}, "createdAt": "2026-02-18T20:06:44Z", "mergedAt": "2026-02-18T23:08:21Z", "additions": 172, "deletions": 59, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "rust/feature-flags/src/api/errors.rs"}, {"path": "rust/feature-flags/src/flags/feature_flag_list.rs"}, {"path": "rust/feature-flags/src/flags/flag_operations.rs"}, {"path": "rust/feature-flags/src/flags/test_helpers.rs"}, {"path": "rust/feature-flags/src/handler/canonical_log.rs"}, {"path": "rust/feature-flags/src/team/team_operations.rs"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T20:15:36Z"}, {"author": {"login": "dmarticus"}, "state": "COMMENTED", "submittedAt": "2026-02-18T22:16:52Z"}, {"author": {"login": "patricio-posthog"}, "state": "APPROVED", "submittedAt": "2026-02-18T23:07:16Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:56:40Z", "additions": 172, "deletions": 59}}]}}, {"number": 48361, "title": "Revert \"feat: taxonomic filter typeahead for screen and url without choosing event\"", "body": "Reverts PostHog/posthog#48173\r\n\r\nhttps://posthog.slack.com/archives/C0AGKB09F9N/p1771444223408339?thread_ts=1771440861.999179&cid=C0AGKB09F9N", "author": {"login": "fuziontech"}, "createdAt": "2026-02-18T19:54:52Z", "mergedAt": "2026-02-18T19:55:34Z", "additions": 7, "deletions": 353, "changedFiles": 14, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/Alerts/views/InlineAlertNotifications.tsx"}, {"path": "frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx"}, {"path": "frontend/src/lib/components/DefinitionPopover/utils.ts"}, {"path": "frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts"}, {"path": "frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx"}, {"path": "frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx"}, {"path": "frontend/src/lib/components/TaxonomicFilter/types.ts"}, {"path": "frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"}, {"path": "frontend/src/queries/nodes/InsightViz/GlobalAndOrFilters.tsx"}, {"path": "frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx"}, {"path": "frontend/src/queries/schema.json"}, {"path": "frontend/src/scenes/insights/EditorFilters/FunnelsQuerySteps.tsx"}, {"path": "frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"}, {"path": "posthog/schema.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "Daesgar"}, "state": "APPROVED", "submittedAt": "2026-02-18T19:55:26Z"}, {"author": {"login": "rorylshanks"}, "state": "APPROVED", "submittedAt": "2026-02-18T19:55:27Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T19:54:37Z", "additions": 7, "deletions": 353}}]}}, {"number": 48360, "title": "fix(llma): bind trace logic in replay conversation and other fixes", "body": "## Problem\r\n\r\n- Replay inspector could render `ConversationMessagesDisplay` without required Kea logic mounted, causing `[KEA] Can not find path ... llmAnalyticsTraceLogic`.\r\n- Trace navigation could carry stale trace-scoped URL params (`event`, `timestamp`, etc.), leading to wrong event selection and `Event not found`.\r\n- Loading traces from some entry points could hit lazy-loader mount/order issues.\r\n\r\nPostHog error: https://us.posthog.com/error_tracking/019c718b-0c60-7281-9c13-90e9ec8fff80\r\n\r\n## Changes\r\n\r\n- Bind trace logic for replay generation expansion to prevent missing-logic crashes.\r\n- Use a unique Kea path for trace data logic to avoid store path collisions.\r\n- Ensure person lazy-loader logic is mounted in trace scene; trigger `ensurePersonLoaded` from logic subscription (not during render).\r\n- Improve event resolution in trace data logic: match by event id; fall back to trace root if URL event is stale.\r\n- Stop leaking trace-scoped URL state by adding `sanitizeTraceUrlSearchParams` and using it across LLM analytics trace links (generations, traces, sessions, evaluations).\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-18T19:26:21Z", "mergedAt": "2026-02-19T05:38:01Z", "additions": 220, "deletions": 70, "changedFiles": 15, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/session-recordings/player/inspector/components/AIEventItems.tsx"}, {"path": "products/llm_analytics/frontend/ConversationDisplay/ConversationDisplay.tsx"}, {"path": "products/llm_analytics/frontend/ConversationDisplay/ConversationMessagesDisplay.tsx"}, {"path": "products/llm_analytics/frontend/ConversationDisplay/MessageActionsMenu.tsx"}, {"path": "products/llm_analytics/frontend/LLMAnalyticsScene.tsx"}, {"path": "products/llm_analytics/frontend/LLMAnalyticsSessionScene.tsx"}, {"path": "products/llm_analytics/frontend/LLMAnalyticsSessionsScene.tsx"}, {"path": "products/llm_analytics/frontend/LLMAnalyticsTraceScene.tsx"}, {"path": "products/llm_analytics/frontend/LLMAnalyticsTracesScene.tsx"}, {"path": "products/llm_analytics/frontend/components/EventContentWithAsyncData.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/components/EvaluationRunsTable.tsx"}, {"path": "products/llm_analytics/frontend/evaluations/components/PatternCard.tsx"}, {"path": "products/llm_analytics/frontend/llmAnalyticsTraceDataLogic.ts"}, {"path": "products/llm_analytics/frontend/utils.test.ts"}, {"path": "products/llm_analytics/frontend/utils.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:30:24Z"}, {"author": {"login": "richardsolomou"}, "state": "APPROVED", "submittedAt": "2026-02-19T05:37:50Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T19:25:07Z", "additions": 12, "deletions": 7}}, {"commit": {"committedDate": "2026-02-18T19:32:57Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T19:43:03Z", "additions": 115, "deletions": 57}}, {"commit": {"committedDate": "2026-02-18T20:37:35Z", "additions": 120, "deletions": 27}}, {"commit": {"committedDate": "2026-02-18T20:45:16Z", "additions": 4, "deletions": 14}}, {"commit": {"committedDate": "2026-02-18T20:55:26Z", "additions": 7, "deletions": 3}}]}}, {"number": 48357, "title": "fix(llma): improve generation list rendering", "body": "## Problem\r\n\r\nThe generations list in LLM analytics was causing severe performance issues in some browsers. The root cause was that we rendered every cell's input/output content, which was very expensive for large payloads.\r\n\r\n\r\n\r\n\r\n## Changes\r\n\r\nIt's still not super smooth but at least it's usable now. Soon we will pass the truncated content from the backend, from a materialised column, we should see if not having to handle the full payload makes it fully smooth or we need to dig in more.\r\n\r\n\r\n\r\n- Add `partial-json` library and `parsePartialJSON` / `parseJSONPreview` utilities to recover structured data from truncated JSON strings\r\n- Use `parseJSONPreview` in column renderers (`llmAnalyticsColumnRenderers.tsx`) so the list only parses the first 300 chars instead of full payloads\r\n- Relax the JSON detection in `ConversationMessagesDisplay` to only check the start character and use `parsePartialJSON`, so truncated previews still render with syntax highlighting\r\n- This also sets us up to move the truncation to the backend and leverage a materialized column, since the frontend already handles partial JSON gracefully\r\n\r\n## How did you test this code?\r\n\r\n- Added parameterized tests for `parsePartialJSON` covering full JSON, truncated objects/arrays/strings, and invalid input\r\n- `pnpm --filter=@posthog/frontend jest products/llm_analytics/frontend/utils.test.ts` \u2014 all 61 tests pass\r\n", "author": {"login": "carlos-marchal-ph"}, "createdAt": "2026-02-18T18:44:56Z", "mergedAt": "2026-02-19T16:49:01Z", "additions": 61, "deletions": 15, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/scenes-app-project-homepage--project-homepage--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-project-homepage--project-homepage--light.png"}, {"path": "pnpm-lock.yaml"}, {"path": "products/llm_analytics/frontend/ConversationDisplay/ConversationMessagesDisplay.tsx"}, {"path": "products/llm_analytics/frontend/llmAnalyticsColumnRenderers.tsx"}, {"path": "products/llm_analytics/frontend/utils.test.ts"}, {"path": "products/llm_analytics/frontend/utils.ts"}, {"path": "products/llm_analytics/package.json"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T18:51:13Z"}, {"author": {"login": "richardsolomou"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:00:56Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T18:39:00Z", "additions": 61, "deletions": 15}}, {"commit": {"committedDate": "2026-02-19T14:25:06Z", "additions": 21573, "deletions": 11506}}, {"commit": {"committedDate": "2026-02-19T14:54:41Z", "additions": 0, "deletions": 0}}]}}, {"number": 48356, "title": "fix: set timestamp to 0 when start is null", "body": "## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\nWhen opening a replay modal with a timestamp the `?timestamp=` URL param sets `currentTimestamp` to an Unix ms value before recording data has loaded. The `currentPlayerTime` selector computes `currentTimestamp - (start ?? 0)`, and since start is `null` during loading, the fallback produces the raw epoch as the display time momentarily.\r\n<img width=\"822\" height=\"456\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3df3a0ec-84fb-4081-b754-9b95f34760eb\" />\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n-  Return 0 from `currentPlayerTime` when sessionPlayerData.start is `null`, so the display shows \"00:00\" during loading instead of the raw epoch. Once data loads, the selector recalculates with the correct offset.\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "fasyy612"}, "createdAt": "2026-02-18T18:35:23Z", "mergedAt": "2026-02-19T18:19:40Z", "additions": 4, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "veryayskiy"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:13:39Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T18:32:41Z", "additions": 4, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T14:51:45Z", "additions": 20351, "deletions": 10891}}]}}, {"number": 48355, "title": "feat(llma): bump min cluster size fraction from 1% to 5%", "body": "## Summary\n- Increases the HDBSCAN `min_cluster_size_fraction` default from 0.01 (1%) to 0.05 (5%) to reduce noisy small clusters\n- Raises the validation floor (`MIN_CLUSTER_SIZE_FRACTION_MIN`) to match the new default\n- Updates the frontend default and README example accordingly\n\n## Test plan\n- [ ] Verify the clustering API rejects values below 0.05\n- [ ] Trigger a manual clustering run and confirm it uses 5% as the default\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-18T17:47:24Z", "mergedAt": "2026-02-19T11:32:08Z", "additions": 5, "deletions": 5, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/llm_analytics/trace_clustering/README.md"}, {"path": "posthog/temporal/llm_analytics/trace_clustering/constants.py"}, {"path": "products/llm_analytics/frontend/clusters/clustersAdminLogic.ts"}, {"path": "products/llm_analytics/frontend/generated/api.schemas.ts"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:49:30Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:49:37Z"}, {"author": {"login": "veryayskiy"}, "state": "APPROVED", "submittedAt": "2026-02-18T17:51:03Z"}, {"author": {"login": "richardsolomou"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:51:26Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T17:46:54Z", "additions": 4, "deletions": 4}}, {"commit": {"committedDate": "2026-02-18T17:59:00Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T11:09:56Z", "additions": 14634, "deletions": 2989}}]}}, {"number": 48354, "title": "fix(Insights): Insights table slowness on many cols", "body": "## Problem\r\nWhen setting the insight to 90 days x hourly, the page goes super slow. This is because we are rendering over 2000 columns in lemon table.\r\n\r\n## Changes\r\nJust render 100 columns, if someone scrolls all the way horizontally they see a show more button.\r\n\r\nVirtualisation would obviously be better but not straightforward. This is a quick fix to speed up the page. \r\n## How did you test this code?\r\nJust an insight with 90 days and on hourly setting. Play around with the graph, make sure it's faster.\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-18T17:35:57Z", "mergedAt": "2026-02-19T08:15:45Z", "additions": 49, "deletions": 14, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:38:19Z"}, {"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-19T08:13:36Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T17:33:23Z", "additions": 26, "deletions": 12}}, {"commit": {"committedDate": "2026-02-19T00:09:51Z", "additions": 33, "deletions": 12}}]}}, {"number": 48352, "title": "fix: use patched chartjs stacked 100 plugin with perf fix", "body": "see https://github.com/PostHog/chartjs-plugin-stacked100/pull/1 with performance fixes", "author": {"login": "pauldambra"}, "createdAt": "2026-02-18T17:35:04Z", "mergedAt": "2026-02-19T09:11:52Z", "additions": 8, "deletions": 6, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/package.json"}, {"path": "package.json"}, {"path": "pnpm-lock.yaml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:39:27Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:49:08Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:50:49Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:20:19Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:36:48Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T23:48:38Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T23:56:28Z"}, {"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:08:42Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T23:16:28Z", "additions": 8, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T23:19:58Z", "additions": 7, "deletions": 7}}, {"commit": {"committedDate": "2026-02-18T23:45:28Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T23:53:23Z", "additions": 4, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T00:21:06Z", "additions": 0, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T00:21:36Z", "additions": 1, "deletions": 1}}]}}, {"number": 48345, "title": "feat(llma): add prompt usage tab and resolve endpoint", "body": "## Problem\r\n\r\nPrompt management needed a usage view similar to feature flags, while avoiding counting prompt-detail page reads as prompt fetch usage events.\r\n\r\n## Changes\r\n\r\n- Added a `Usage` tab to prompt details with:\r\n  - Trend for `$llm_prompt_fetched`\r\n  - Log table for `$llm_prompt_fetched` (with reload button)\r\n  - Billing notice linking to pricing during alpha/beta\r\n- Added a separate web-only resolve endpoint:\r\n  - `GET /api/environments/:team_id/llm_prompts/resolve/name/:prompt_name/`\r\n  - Auth restricted to session/JWT web auth\r\n  - Does not emit `$llm_prompt_fetched`\r\n- Kept runtime `GET .../llm_prompts/name/:prompt_name/` behavior unchanged (still emits usage event)\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-18T16:57:09Z", "mergedAt": "2026-02-18T19:05:51Z", "additions": 255, "deletions": 16, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/api.ts"}, {"path": "posthog/api/llm_prompt.py"}, {"path": "posthog/api/test/test_llm_prompt.py"}, {"path": "products/llm_analytics/frontend/prompts/LLMPromptScene.tsx"}, {"path": "products/llm_analytics/frontend/prompts/llmPromptLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:01:06Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:01:39Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-18T17:32:05Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T16:54:24Z", "additions": 235, "deletions": 15}}, {"commit": {"committedDate": "2026-02-18T17:47:46Z", "additions": 94, "deletions": 65}}, {"commit": {"committedDate": "2026-02-18T18:44:35Z", "additions": 18, "deletions": 28}}]}}, {"number": 48337, "title": "chore(flags): validate operator when creating new flag", "body": "The feature flag serializer wasn't validating that property operators are valid values. An invalid operator like \"`contains`\" (instead of \"`icontains`\") could be saved, which then causes flags to fail evaluation at runtime.\r\n\r\nAdded a check in `validate_filters` that rejects unknown operators before persisting. The valid set is derived from the `OperatorType` so it stays in sync.\r\n\r\nAdded a test too.", "author": {"login": "patricio-posthog"}, "createdAt": "2026-02-18T16:22:20Z", "mergedAt": "2026-02-18T18:47:29Z", "additions": 116, "deletions": 0, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/feature_flag.py"}, {"path": "posthog/api/test/test_feature_flag.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T16:25:43Z"}, {"author": {"login": "matheus-vb"}, "state": "COMMENTED", "submittedAt": "2026-02-18T16:45:47Z"}, {"author": {"login": "patricio-posthog"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:05:29Z"}, {"author": {"login": "patricio-posthog"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:06:00Z"}, {"author": {"login": "matheus-vb"}, "state": "APPROVED", "submittedAt": "2026-02-18T17:41:43Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T16:20:35Z", "additions": 53, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T17:04:03Z", "additions": 38, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T17:14:26Z", "additions": 21863, "deletions": 5799}}, {"commit": {"committedDate": "2026-02-18T18:16:44Z", "additions": 32, "deletions": 1}}]}}, {"number": 48336, "title": "feat(twig): add sandbox step latency metrics for process-task", "body": "Added sanbox-related metrics\r\n\r\nDashboard created in https://github.com/PostHog/grafana-dashboards/pull/4", "author": {"login": "tatoalo"}, "createdAt": "2026-02-18T16:16:16Z", "mergedAt": "2026-02-18T17:26:00Z", "additions": 105, "deletions": 4, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/common/worker.py"}, {"path": "products/tasks/backend/temporal/metrics.py"}, {"path": "products/tasks/backend/temporal/process_task/activities/get_sandbox_for_repository.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T16:27:23Z"}, {"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-18T17:25:58Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T16:32:25Z", "additions": 105, "deletions": 4}}]}}, {"number": 48332, "title": "feat(llma): add turn numbers and chronological ordering to session traces", "body": "## Summary\nImproves readability of session trace lists by adding turn numbers and reversing the order to chronological (oldest first).\n\n## Changes\n- Reversed trace order in `llmAnalyticsSessionDataLogic` selector to show traces chronologically (oldest first)\n- Added turn numbers (`#1`, `#2`, etc.) to each trace card in session view\n\n## Context\nPreviously, traces were displayed newest-first (descending order), which is counterintuitive for conversational sessions where users expect to read chronologically. The lack of turn numbers also made it hard to reference specific traces in the sequence.\n\n## Test plan\n- [x] TypeScript compiles cleanly\n- [ ] Manual testing: navigate to a session with multiple traces and verify:\n  - Traces appear in chronological order (oldest at top)\n  - Turn numbers (`#1`, `#2`, etc.) appear before each trace ID\n  - Turn numbers correspond to chronological sequence\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-18T16:08:05Z", "mergedAt": "2026-02-18T16:41:12Z", "additions": 7, "deletions": 2, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/frontend/LLMAnalyticsSessionScene.tsx"}, {"path": "products/llm_analytics/frontend/llmAnalyticsSessionDataLogic.ts"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "skoob13"}, "state": "APPROVED", "submittedAt": "2026-02-18T16:09:30Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T16:11:02Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T16:07:35Z", "additions": 7, "deletions": 2}}]}}, {"number": 48330, "title": "feat: restore conversations backend", "body": "## Problem\r\n\r\nWe use `widget_session_id` on the client for security reasons. However, if a user opens another browser or PC, their tickets are not available.\r\n\r\n## Changes\r\n\r\nAdd a mechanism to request restoration of conversations in another browser via email.\r\n\r\n", "author": {"login": "veryayskiy"}, "createdAt": "2026-02-18T15:52:52Z", "mergedAt": "2026-02-19T17:53:03Z", "additions": 1255, "deletions": 2, "changedFiles": 16, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".semgrep/rules/idor-team-scoped-models.yaml"}, {"path": "posthog/email.py"}, {"path": "posthog/rate_limit.py"}, {"path": "posthog/tasks/email.py"}, {"path": "posthog/tasks/test/__snapshots__/test_task_registration.ambr"}, {"path": "posthog/templates/email/conversation_restore.html"}, {"path": "products/conversations/backend/api/restore.py"}, {"path": "products/conversations/backend/api/serializers.py"}, {"path": "products/conversations/backend/api/tests/test_restore.py"}, {"path": "products/conversations/backend/api/urls.py"}, {"path": "products/conversations/backend/migrations/0015_conversation_restore_token.py"}, {"path": "products/conversations/backend/migrations/max_migration.txt"}, {"path": "products/conversations/backend/models/__init__.py"}, {"path": "products/conversations/backend/models/restore_token.py"}, {"path": "products/conversations/backend/services/__init__.py"}, {"path": "products/conversations/backend/services/restore.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:57:53Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T18:10:12Z"}, {"author": {"login": "veryayskiy"}, "state": "COMMENTED", "submittedAt": "2026-02-18T18:20:49Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T18:48:07Z"}, {"author": {"login": "adboio"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:51:55Z"}, {"author": {"login": "veryayskiy"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:53:59Z"}, {"author": {"login": "veryayskiy"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:55:10Z"}, {"author": {"login": "adboio"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:56:25Z"}, {"author": {"login": "veryayskiy"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:56:42Z"}, {"author": {"login": "adboio"}, "state": "APPROVED", "submittedAt": "2026-02-18T19:56:55Z"}, {"author": {"login": "adboio"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:57:25Z"}, {"author": {"login": "veryayskiy"}, "state": "COMMENTED", "submittedAt": "2026-02-18T19:58:00Z"}, {"author": {"login": "adboio"}, "state": "COMMENTED", "submittedAt": "2026-02-18T20:07:53Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:48:32Z", "additions": 1163, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T15:54:19Z", "additions": 3525, "deletions": 2102}}, {"commit": {"committedDate": "2026-02-18T16:25:52Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T18:02:13Z", "additions": 94, "deletions": 7}}, {"commit": {"committedDate": "2026-02-18T18:20:09Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T18:24:00Z", "additions": 2, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T18:44:18Z", "additions": 4, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T18:56:14Z", "additions": 1, "deletions": 1}}]}}, {"number": 48329, "title": "fix(phai): Replace exception-based control flow with return value in memory parser", "body": "## Problem\r\n\r\nThe memory collection completion logic uses exception-based control flow, so they're propagated in LLMA. This PR refactors it to use a check.\r\n\r\n## Changes\r\n\r\n- Renamed `raise_memory_updated` to `check_memory_collection_completed` to better reflect its new behavior\r\n- Changed `check_memory_collection_completed` to return `None` instead of raising `MemoryCollectionCompleted` when collection is complete\r\n- Updated `MemoryCollectorNode.arun()` to check for `None` return value instead of catching an exception\r\n- Removed the `MemoryCollectionCompleted` exception class entirely\r\n- Updated tests to verify the new return value behavior instead of exception handling\r\n\r\n## How did you test this code?\r\n\r\nUpdated unit tests in `test_parsers.py` to verify:\r\n- `check_memory_collection_completed` returns `None` when memory collection is complete (no tool calls or \"[Done]\" in content)\r\n- `check_memory_collection_completed` returns the message unchanged when collection should continue (has tool calls and no \"[Done]\")\r\n\r\nExisting tests pass with the new implementation.\r\n\r\nhttps://claude.ai/code/session_01T3koQL5DXi29EPV3tL49dz", "author": {"login": "skoob13"}, "createdAt": "2026-02-18T15:44:07Z", "mergedAt": "2026-02-19T10:21:19Z", "additions": 17, "deletions": 28, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/hogai/chat_agent/memory/nodes.py"}, {"path": "ee/hogai/chat_agent/memory/parsers.py"}, {"path": "ee/hogai/chat_agent/memory/test/test_parsers.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-19T09:13:24Z"}, {"author": {"login": "tatoalo"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:20:12Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-19T08:59:50Z", "additions": 17, "deletions": 28}}]}}, {"number": 48328, "title": "feat(e2e): switch chromium to new headless mode", "body": "Opts into the new Chromium headless mode by setting `channel: 'chromium'` on the chromium project. This uses the real Chromium browser instead of the legacy `chrome-headless-shell` \u2014 more authentic rendering, real DevTools protocol, and where Playwright is heading anyway.\n\nAlso cleans up the old commented-out `--headless=new` flags block, which this replaces entirely.\n\nStacked on the Playwright 1.58.2 upgrade. Worth watching CI to see if any visual snapshot diffs emerge from the rendering change.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T15:41:31Z", "mergedAt": "2026-02-19T10:24:33Z", "additions": 16, "deletions": 26, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-e2e-playwright.yml"}, {"path": "playwright/__snapshots__/e2e/scene-tabs.spec.ts-snapshots/tabs-after-close-frozen-chromium-linux.png"}, {"path": "playwright/__snapshots__/e2e/scene-tabs.spec.ts-snapshots/tabs-after-mouse-leave-chromium-linux.png"}, {"path": "playwright/__snapshots__/e2e/scene-tabs.spec.ts-snapshots/tabs-before-close-chromium-linux.png"}, {"path": "playwright/__snapshots__/e2e/workflows.spec.ts-snapshots/new-workflow-chromium-linux.png"}, {"path": "playwright/__snapshots__/e2e/workflows.spec.ts-snapshots/workflows-list-chromium-linux.png"}, {"path": "playwright/e2e/workflows.spec.ts"}, {"path": "playwright/playwright.config.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": []}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T16:15:43Z", "additions": 1, "deletions": 23}}, {"commit": {"committedDate": "2026-02-18T16:40:57Z", "additions": 4, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T20:07:32Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T07:10:47Z", "additions": 7, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T09:48:28Z", "additions": 5, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T10:06:45Z", "additions": 0, "deletions": 0}}]}}, {"number": 48326, "title": "fix(ux): offramp modal fix and nits", "body": "\r\n\r\n## Problem\r\nside panel offramp modal was in your face and people hate that\r\nstill had instances of saying \"scene panel\" or \"side panel\"\r\n\r\n## Changes\r\n![2026-02-18 15 39 14](https://github.com/user-attachments/assets/25f2cd44-b9eb-4a12-8973-b7f53a292304)\r\n\r\n\r\nOfframp modal triggers by user interaction\r\nchange some tooltips to say \"context panel\" instead of \"scene panel\"\r\n\r\n## How did you test this code?\r\nLocally\r\n\r\n## Publish to changelog?\r\nNo\r\n", "author": {"login": "adamleithp"}, "createdAt": "2026-02-18T15:39:36Z", "mergedAt": "2026-02-18T20:00:06Z", "additions": 50, "deletions": 22, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/GlobalShortcuts.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanelNavigation.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanelOfframpModal.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/sidePanelOfframpLogic.ts"}, {"path": "frontend/src/layout/scenes/SceneTabs.tsx"}, {"path": "frontend/src/layout/scenes/components/SceneTitleSection.tsx"}, {"path": "frontend/src/lib/components/HelpMenu/HelpMenu.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:42:25Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T17:55:52Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-18T18:02:43Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:30:05Z", "additions": 31, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T15:34:38Z", "additions": 6, "deletions": 4}}, {"commit": {"committedDate": "2026-02-18T15:38:39Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T17:04:02Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T17:47:42Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T17:50:41Z", "additions": 15, "deletions": 3}}, {"commit": {"committedDate": "2026-02-18T17:58:11Z", "additions": 21337, "deletions": 5774}}, {"commit": {"committedDate": "2026-02-18T18:51:45Z", "additions": 2, "deletions": 2}}]}}, {"number": 48325, "title": "fix(product-analytics): Throw 400 when formula is invalid", "body": "## Problem\r\nQueries would crash with 500 when an invalid formula was passed.\r\n\r\n<img width=\"1469\" height=\"792\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8c1be20a-6349-4d71-9dc6-792f0962f9af\" />\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\nUpdate the exception string to be more meaningful and catch / bubble up the ValueError  \r\n<img width=\"1469\" height=\"792\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d3a6b02f-92f0-4f51-a6da-85968d66e085\" />\r\n<img width=\"1469\" height=\"792\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9944060b-91cc-4fdb-aab6-3cce3bbe13ea\" />\r\n\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "jordanm-posthog"}, "createdAt": "2026-02-18T15:34:15Z", "mergedAt": "2026-02-19T15:55:01Z", "additions": 25, "deletions": 1, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql_queries/insights/trends/test/test_formula.py"}, {"path": "posthog/hogql_queries/utils/formula_ast.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:37:08Z"}, {"author": {"login": "thmsobrmlr"}, "state": "COMMENTED", "submittedAt": "2026-02-18T16:57:45Z"}, {"author": {"login": "jordanm-posthog"}, "state": "COMMENTED", "submittedAt": "2026-02-18T18:29:09Z"}, {"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-19T15:54:52Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:29:40Z", "additions": 54, "deletions": 28}}, {"commit": {"committedDate": "2026-02-18T18:17:53Z", "additions": 30, "deletions": 32}}]}}, {"number": 48324, "title": "feat(llma): increase request latency bucket granularity", "body": "## Problem\r\n\r\nLLMA endpoint latency percentiles were often near bucket boundaries, which reduced tail percentile usefulness.\r\n\r\n## Changes\r\n\r\n- Increased granularity of `llma_request_duration_seconds` buckets for LLMA endpoint latency.\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-18T15:22:06Z", "mergedAt": "2026-02-18T15:42:31Z", "additions": 85, "deletions": 4, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/backend/api/metrics.py"}, {"path": "products/llm_analytics/backend/api/test/test_metrics.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:29:44Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:20:02Z", "additions": 85, "deletions": 4}}]}}, {"number": 48322, "title": "chore(signals): Comment to trigger the workers re-deployment.", "body": "## Problem\r\n- Need to redeploy video export workers\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n- Random comment\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sortafreel"}, "createdAt": "2026-02-18T15:18:33Z", "mergedAt": "2026-02-18T19:34:10Z", "additions": 1, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/ai/session_summary/activities/a2_upload_video_to_gemini.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "oliverb123"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:18:54Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:17:59Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T15:47:20Z", "additions": 9365, "deletions": 3337}}]}}, {"number": 48319, "title": "chore(gateway): bump litellm + provider sdks", "body": "We want to keep these up to date + make sure the integration tests are running against recent libraries", "author": {"login": "joshsny"}, "createdAt": "2026-02-18T14:50:59Z", "mergedAt": "2026-02-18T14:58:09Z", "additions": 16, "deletions": 43, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "services/llm-gateway/pyproject.toml"}, {"path": "services/llm-gateway/uv.lock"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "tatoalo"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:57:36Z"}, {"author": {"login": "skoob13"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:57:39Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:03:27Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:50:14Z", "additions": 16, "deletions": 43}}]}}, {"number": 48318, "title": "fix(experiments): gracefully handle StatisticError instead of propagating to logs", "body": "## Problem\r\n\r\nWhen experiments have very little data, the stats library throws `StatisticError` exceptions during statistical evaluation (e.g. zero variance, near-zero control mean, invalid `sum_squares` constraints). These bypass the existing `validate_variant_result()` checks and get caught by `@experiment_error_handler`, which:\r\n\r\n1. Logs them at `ERROR` level with full stack traces\r\n2. Captures them to Posthog via `capture_exception()`\r\n3. Converts them to a `ValidationError` that kills the entire query response\r\n\r\nThis creates unnecessary log noise for a normal condition (not enough data yet) and prevents returning partial results.\r\n\r\n## Changes\r\n\r\n- Wrap `metric_variant_to_statistic()` and `method.run_test()` calls in both `get_frequentist_experiment_result()` and `get_bayesian_experiment_result()` with `try/except StatisticError`\r\n- On catch, log at `info` level with structured context (variant key, sample count, reason) instead of propagating\r\n- Raw values (`number_of_samples`, `sum`, `sum_squares`) always return; statistical fields (`p_value`, `confidence_interval`, `credible_interval`, `chance_to_win`, `significant`) return as `None`\r\n- No schema or frontend changes needed \u2014 the frontend already handles `None` gracefully (shows \"\u2014\" and \"Not enough data yet\")\r\n\r\n## Testing\r\n\r\nAdded parameterized tests in `test_stats_config.py` covering:\r\n- **Very small sample size** (n=1): raw values returned, statistical fields are `None`\r\n- **Zero baseline sum** (control sum=0): raw values returned, statistical fields are `None`\r\n- **Zero variance** (all identical observations): raw values returned, statistical fields are `None`\r\n- **Sufficient data sanity check** (n=1000): statistical fields are populated\r\n\r\nAll tested for both frequentist and bayesian methods (8 new tests, 21 total pass).\r\n\r\n```\r\npytest posthog/hogql_queries/experiments/test/test_stats_config.py -v\r\n```", "author": {"login": "andehen"}, "createdAt": "2026-02-18T14:34:53Z", "mergedAt": "2026-02-18T16:33:03Z", "additions": 177, "deletions": 30, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/hogql_queries/experiments/test/test_stats_config.py"}, {"path": "posthog/hogql_queries/experiments/utils.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T14:38:36Z"}, {"author": {"login": "rodrigoi"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:28:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:52:01Z", "additions": 177, "deletions": 30}}]}}, {"number": 48317, "title": "fix: align time text for inspect DOM replay", "body": "## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\nInspect DOM text was unaligned\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\nbefore\r\n<img width=\"631\" height=\"168\" alt=\"Screenshot 2026-02-18 at 10 29 30\" src=\"https://github.com/user-attachments/assets/7ff16927-1a18-4633-8c8e-f166c8aad713\" />\r\nafter\r\n<img width=\"568\" height=\"134\" alt=\"Screenshot 2026-02-18 at 14 30 10\" src=\"https://github.com/user-attachments/assets/5d7c3e92-2fbb-47d4-a2fe-c87c82284ae9\" />\r\n\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "fasyy612"}, "createdAt": "2026-02-18T14:31:54Z", "mergedAt": "2026-02-19T20:12:18Z", "additions": 14, "deletions": 11, "changedFiles": 12, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/replay-player-controller--default--dark.png"}, {"path": "frontend/__snapshots__/replay-player-controller--default--light.png"}, {"path": "frontend/__snapshots__/replay-player-controller--narrow--dark.png"}, {"path": "frontend/__snapshots__/replay-player-controller--narrow--light.png"}, {"path": "frontend/__snapshots__/replay-player-controller--notebook-mode--dark.png"}, {"path": "frontend/__snapshots__/replay-player-controller--notebook-mode--light.png"}, {"path": "frontend/__snapshots__/replay-player-controller--wide--dark.png"}, {"path": "frontend/__snapshots__/replay-player-controller--wide--light.png"}, {"path": "frontend/__snapshots__/replay-player-controller--with-play-next--dark.png"}, {"path": "frontend/__snapshots__/replay-player-controller--with-play-next--light.png"}, {"path": "frontend/src/scenes/session-recordings/player/controller/PlayerControllerTime.tsx"}, {"path": "frontend/src/scenes/session-recordings/player/view-explorer/SessionRecordingPlayerExplorer.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "TueHaulund"}, "state": "APPROVED", "submittedAt": "2026-02-19T18:46:53Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T13:42:58Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-18T14:30:25Z", "additions": 14, "deletions": 11}}, {"commit": {"committedDate": "2026-02-18T14:32:26Z", "additions": 1417, "deletions": 95}}, {"commit": {"committedDate": "2026-02-18T15:02:16Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T15:31:04Z", "additions": 1160, "deletions": 1466}}, {"commit": {"committedDate": "2026-02-18T16:52:25Z", "additions": 1550, "deletions": 596}}, {"commit": {"committedDate": "2026-02-19T14:51:49Z", "additions": 21466, "deletions": 11551}}]}}, {"number": 48316, "title": "fix(ux): context panel styling nits", "body": "## Problem\r\n\r\n- Posthog AI in navbar was missing fancy coloring\r\n- context panel was too large at its smallest\r\n- AI in context panel padding was too large\r\n- context panel pane header looked a bit too interactive\r\n- missing some classnames\r\n- context tabs \"Access control\" and \"Discussions\" are a bit too long\r\n\r\n## Changes (behind flag)\r\n* Posthog AI in navbar gets colors\r\n* context panel min-width changed to `330px`\r\n* AI in panel styling to fit smaller viewport\r\n* pane gets reduced border, to make it look less interactive/like a button\r\n* context tabs Access control => access, Discussions => Discuss + allowing labels to be shown a bit on smaller viewports\r\n\r\n<img width=\"387\" height=\"287\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d92cc75f-9c75-485d-9850-d5201c1efeb9\" />\r\n\r\n\r\n<img width=\"680\" height=\"885\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cb9d06b7-d8db-4c20-b710-14fefe47e5e6\" />\r\n\r\n\r\n## How did you test this code?\r\nLocally\r\n\r\n## Publish to changelog?\r\nNo", "author": {"login": "adamleithp"}, "createdAt": "2026-02-18T14:20:54Z", "mergedAt": "2026-02-18T18:49:21Z", "additions": 52, "deletions": 19, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanel.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanelContentContainer.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanelNavigation.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/components/SidePanelPaneHeader.tsx"}, {"path": "frontend/src/layout/panel-layout/PanelLayoutNavBar.tsx"}, {"path": "frontend/src/layout/scenes/SceneLayout.tsx"}, {"path": "frontend/src/scenes/max/Max.tsx"}, {"path": "frontend/src/scenes/max/components/SidebarQuestionInput.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T14:24:08Z"}, {"author": {"login": "ablaszkiewicz"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:52:52Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:08:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:11:51Z", "additions": 50, "deletions": 17}}, {"commit": {"committedDate": "2026-02-18T14:14:02Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T14:27:35Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T14:28:18Z", "additions": 17476, "deletions": 3015}}]}}, {"number": 48315, "title": "fix(cdp): back arrow navigation for internal destination notifications", "body": "## Problem\r\n\r\n- Back arrow on the destination screen doesn't navigate anywhere after creating a CDP destination from activity log or discussion settings pages\r\n\r\n## Changes\r\n\r\n- Pass `returnTo` query param from `ActivityLogNotifications` and `DiscussionMentionNotifications` pointing back to their respective settings sections\r\n- Remove unused `SidePanelActivitySubscriptions` component\r\n\r\n## How did you test this code?\r\n\r\n- Manually", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-18T14:16:48Z", "mergedAt": "2026-02-19T09:27:15Z", "additions": 13, "deletions": 13, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/layout/navigation-3000/sidepanel/panels/activity/SidePanelActivitySubscriptions.tsx"}, {"path": "frontend/src/scenes/hog-functions/HogFunctionScene.tsx"}, {"path": "frontend/src/scenes/settings/environment/ActivityLogSettings.tsx"}, {"path": "frontend/src/scenes/settings/environment/DiscussionSettings.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "ReeceJones"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:24:49Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:16:20Z", "additions": 13, "deletions": 13}}, {"commit": {"committedDate": "2026-02-18T14:19:51Z", "additions": 1401, "deletions": 86}}]}}, {"number": 48314, "title": "chore(err): add hogfetti", "body": "## Changes\r\n\r\nEt voila !", "author": {"login": "hpouillot"}, "createdAt": "2026-02-18T14:10:05Z", "mergedAt": "2026-02-18T14:53:37Z", "additions": 49, "deletions": 29, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/error_tracking/frontend/components/IssueActions/IssueActions.tsx"}, {"path": "products/error_tracking/frontend/components/IssueStatusButton.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:11:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:05:13Z", "additions": 49, "deletions": 29}}]}}, {"number": 48313, "title": "fix(dashboards): re-add experimental dashboard item rendering flag", "body": "## Problem\n\nWe want to disable experimental dashboard item rendering (i.e. removing the chart from the dom when it's outside the viewport) to investigate its effect on performance for customers, but it got removed here https://github.com/PostHog/posthog/pull/42538.\n\nThe thinking here is that removing the elements from the DOM helps reduce memory pressure, but re-rendering the charts is expensive, especially on slower CPUs/GPUs.\n\n## Changes\n\nRe-adds the flag. The flag still exists in PostHog: https://us.posthog.com/project/2/feature_flags/106141\n\n## How did you test this code?\n\nn/a", "author": {"login": "thmsobrmlr"}, "createdAt": "2026-02-18T14:04:07Z", "mergedAt": "2026-02-18T15:34:58Z", "additions": 10, "deletions": 1, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx"}, {"path": "frontend/src/lib/constants.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T14:11:30Z"}, {"author": {"login": "pauldambra"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:14:14Z"}, {"author": {"login": "anirudhpillai"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:25:20Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T14:56:53Z", "additions": 10, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T14:56:53Z", "additions": 2, "deletions": 2}}]}}, {"number": 48312, "title": "feat(approvals): gate approval endpoints behind AvailableFeature.APPROVALS on Cloud", "body": "## Problem\r\n\r\nApproval endpoints (`change_requests`, `approval_policies`) were accessible to all authenticated org members regardless of whether the org has the `APPROVALS` feature entitlement.\r\n\r\n## Changes\r\n\r\n- Add `PaidFeatureException` \u2014 402 with clean \"requires a paid plan\" message (no license/enterprise language)\r\n- Add `premium_feature_on_cloud` path to `PremiumFeaturePermission` \u2014 only enforces on Cloud, self-hosted passes through\r\n- Gate both `ChangeRequestViewSet` and `ApprovalPolicyViewSet` with `premium_feature_on_cloud = AvailableFeature.APPROVALS`\r\n\r\n## How did you test this code?\r\n\r\n- Unit tests in `test_approvals_api.py`", "author": {"login": "yasen-posthog"}, "createdAt": "2026-02-18T13:51:31Z", "mergedAt": "2026-02-19T12:50:43Z", "additions": 97, "deletions": 13, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/api/test/test_subscription.py"}, {"path": "posthog/approvals/api.py"}, {"path": "posthog/approvals/tests/test_approvals_api.py"}, {"path": "posthog/exceptions.py"}, {"path": "posthog/permissions.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:54:41Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:57:55Z"}, {"author": {"login": "ReeceJones"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:29:00Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T13:51:00Z", "additions": 68, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T14:01:59Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-18T14:03:14Z", "additions": 16, "deletions": 12}}, {"commit": {"committedDate": "2026-02-18T14:11:15Z", "additions": 19, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T10:44:49Z", "additions": 3, "deletions": 1}}, {"commit": {"committedDate": "2026-02-19T11:46:11Z", "additions": 22279, "deletions": 5688}}]}}, {"number": 48310, "title": "fix(Insights): Pie chart tooltip should not overflow screen", "body": "## Problem\r\nLoveable have reported that the pie chart tooltips overflows the screen. This only seemed to be when you have some very long text in it. \r\nhttps://posthog.slack.com/archives/C086VJD7708/p1771410371456229?thread_ts=1771404840.880189&cid=C086VJD7708\r\n\r\n## Changes\r\nSet a max-width and allow it to wrap\r\n\r\n<img width=\"439\" height=\"602\" alt=\"Screenshot 2026-02-18 at 13 41 45\" src=\"https://github.com/user-attachments/assets/0ab0a45d-147b-4c88-b099-1e187086cb04\" />\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nHard coded a long value, saw it wrap and not overflow the screen.\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-18T13:42:03Z", "mergedAt": "2026-02-19T09:39:25Z", "additions": 3, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/InsightTooltip/InsightTooltip.scss"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gesh"}, "state": "APPROVED", "submittedAt": "2026-02-19T08:21:24Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T13:39:48Z", "additions": 3, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T14:03:34Z", "additions": 1373, "deletions": 85}}, {"commit": {"committedDate": "2026-02-18T14:39:14Z", "additions": 16, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T14:57:19Z", "additions": 49, "deletions": 29}}, {"commit": {"committedDate": "2026-02-18T16:00:59Z", "additions": 2061, "deletions": 1980}}]}}, {"number": 48309, "title": "feat: Commit to incident.io status page logic", "body": "## Problem\n\nPostHog is migrating from Atlassian's StatusPage to incident.io for status page management. The old StatusPage implementation needs to be removed and all references updated to use the new incident.io integration exclusively.\n\n## Changes\n\n- Removed `sidePanelStatusLogic.tsx` and its associated mock fixture `_status_page_all_ok.json` - the old Atlassian StatusPage implementation\n- Simplified `SidePanelStatus.tsx` to always redirect to the incident.io status page instead of embedding an iframe\n- Updated `healthMenuLogic.tsx` to remove feature flag logic and always use incident.io status\n- Removed the `INCIDENT_IO_STATUS_PAGE` feature flag from constants\n- Updated `SidePanelSupport.tsx` to remove StatusPage-specific logic\n- Updated `sidePanelLogic.tsx` to remove the old status logic connection\n- Updated status page URL in `max_search_tool.py` from `status.posthog.com` to `www.posthogstatus.com`\n- Removed mock handlers for the old StatusPage API\n- Updated CSP headers to allow the new incident.io domain\n\n## How did you test this code?\n\nThe changes are straightforward removals of deprecated code and feature flag conditionals. The incident.io integration was already in place and tested. Existing tests should continue to pass as the new behavior is simpler (always redirect to incident.io).\n\n## Publish to changelog?\n\nNo - this is an internal infrastructure migration that doesn't affect user-facing features.\n\nhttps://claude.ai/code/session_01FSZD3NHhKUqQNgUMgTnGWB", "author": {"login": "benjackwhite"}, "createdAt": "2026-02-18T13:29:43Z", "mergedAt": "2026-02-19T09:36:22Z", "additions": 23, "deletions": 690, "changedFiles": 12, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/support_sidebar_max/max_search_tool.py"}, {"path": "ee/support_sidebar_max/prompt.py"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/SidePanel.stories.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/panels/SidePanelStatus.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/panels/SidePanelSupport.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/panels/sidePanelStatusLogic.tsx"}, {"path": "frontend/src/layout/navigation-3000/sidepanel/sidePanelLogic.tsx"}, {"path": "frontend/src/lib/components/HealthMenu/healthMenuLogic.tsx"}, {"path": "frontend/src/lib/constants.tsx"}, {"path": "frontend/src/mocks/fixtures/_status_page_all_ok.json"}, {"path": "frontend/src/mocks/handlers.ts"}, {"path": "posthog/middleware.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "adamleithp"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:09:59Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T12:30:01Z", "additions": 23, "deletions": 690}}]}}, {"number": 48308, "title": "chore(slack): Make dev region Slack use test account for everyone", "body": "## Problem\r\n\r\nRealized when the Slack folks go to test our new Slack app with the creds I gave them, this won't quite work for them, as they'd need to in fact be signed up to PostHog. I'm not sure they'll do that.\r\n\r\n## Changes\r\n\r\nLet's route ALL questions in the dev region to the `michael+slacktest@posthog.com` test account for now.", "author": {"login": "Twixes"}, "createdAt": "2026-02-18T13:27:28Z", "mergedAt": "2026-02-18T18:20:56Z", "additions": 5, "deletions": 2, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/utils.py"}, {"path": "products/slack_app/backend/api.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:30:02Z"}, {"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-18T13:30:24Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:31:01Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-15T00:27:20Z", "additions": 5, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T13:30:54Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T18:00:18Z", "additions": 83713, "deletions": 33451}}]}}, {"number": 48307, "title": "chore(dev): Use `uv run` for hogli", "body": "## Problem\r\n\r\n`hogli` doesn't quite work for me in GH Desktop, because it runs with Python without Flox, i.e. without the venv activated, somehow. I get the \"click is not available\" error.\r\n\r\n## Changes\r\n\r\nBut there's a simple fix: `hogli` should just run with `uv run`. This 100% ensures the CLI runs with the venv active.", "author": {"login": "Twixes"}, "createdAt": "2026-02-18T13:25:40Z", "mergedAt": "2026-02-19T12:01:31Z", "additions": 1, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "bin/hogli"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-18T13:44:02Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-15T00:27:55Z", "additions": 1, "deletions": 1}}]}}, {"number": 48306, "title": "fix: animation durations 0 is still running the animations code. just immediately finishes. let's not run it at all since it's ~54% of dashboard CPU", "body": "the animation update cycle in chart.js is burning a tonne of CPU in dashboards but doesn't do anything because of the duration = 0\n\nlet's just turn it off", "author": {"login": "pauldambra"}, "createdAt": "2026-02-18T13:16:00Z", "mergedAt": "2026-02-18T13:28:53Z", "additions": 2, "deletions": 4, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/Chart.ts"}, {"path": "frontend/src/scenes/experiments/ExperimentView/Exposures.tsx"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-18T13:17:51Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:18:59Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T13:15:50Z", "additions": 2, "deletions": 4}}]}}, {"number": 48303, "title": "feat(llma): add llma_ prefix to AI cost metrics and track cost outcomes", "body": "## Problem\n\nLLM Analytics cost ingestion metrics (`ai_cost_lookup_total`, `ai_error_normalization_total`, `ai_cost_modality_extraction_total`) don't follow the `llma_` prefix convention used by all other LLM Analytics Prometheus metrics. This makes them harder to discover and filter in Grafana.\n\nAdditionally, there's no way to quickly detect when cost calculations produce negative or zero values, which can indicate pricing data errors or ingestion bugs.\n\n## Changes\n\n- Rename 3 existing metrics to use `llma_` prefix:\n  - `ai_cost_lookup_total` -> `llma_ai_cost_lookup_total`\n  - `ai_error_normalization_total` -> `llma_ai_error_normalization_total`\n  - `ai_cost_modality_extraction_total` -> `llma_ai_cost_modality_extraction_total`\n- Add new `llma_ai_cost_total_outcome` counter with `outcome` label (`positive`, `zero`, `negative`) called in both code paths where `$ai_total_cost_usd` is set (pre-calculated and model lookup)\n\n## How did you test this code?\n\nAll 403 existing AI ingestion tests pass. Manual verification:\n- [ ] Verify new metric names appear in Grafana after deploy\n- [ ] Update existing Grafana dashboards to use new metric names\n\n## Publish to changelog?\n\nNo", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-18T12:38:57Z", "mergedAt": "2026-02-18T15:39:01Z", "additions": 28, "deletions": 6, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/ai/costs/index.ts"}, {"path": "nodejs/src/ingestion/ai/metrics.ts"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T12:42:07Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:11:36Z"}, {"author": {"login": "Radu-Raicea"}, "state": "COMMENTED", "submittedAt": "2026-02-18T14:45:44Z"}, {"author": {"login": "Radu-Raicea"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:46:04Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T12:38:23Z", "additions": 26, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T13:08:23Z", "additions": 3, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T13:08:38Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T15:22:48Z", "additions": 7622, "deletions": 2733}}]}}, {"number": 48302, "title": "feat(data-warehouse): Use the warehouse producer for the new webhooks", "body": "## Problem\r\n- The CDP kafka producer is using the default kafka producer env vars (msk), when we wanna use our own warpstream cluster\r\n\r\n## Changes\r\n- Added a plugin server capability for our deployment\r\n- On this capability, uses a different default kafka producer\r\n- Also updated our topic name\r\n", "author": {"login": "Gilbert09"}, "createdAt": "2026-02-18T12:29:12Z", "mergedAt": "2026-02-19T10:42:44Z", "additions": 16, "deletions": 4, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/cdp/cdp-api.ts"}, {"path": "nodejs/src/config/kafka-topics.ts"}, {"path": "nodejs/src/kafka/config.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T12:32:50Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T12:33:52Z"}, {"author": {"login": "benjackwhite"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:28:41Z"}, {"author": {"login": "meikelmosby"}, "state": "APPROVED", "submittedAt": "2026-02-19T10:10:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T12:27:45Z", "additions": 37, "deletions": 10}}, {"commit": {"committedDate": "2026-02-18T12:39:21Z", "additions": 8, "deletions": 29}}, {"commit": {"committedDate": "2026-02-18T12:42:17Z", "additions": 8, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T14:05:57Z", "additions": 1, "deletions": 1}}]}}, {"number": 48300, "title": "feat(toolbar): add toolbar build script for vite dev server", "body": "## Problem\n\nWhen using Vite for development, the toolbar needs to be rebuilt separately from the main app since it's loaded as an IIFE bundle via `/static/toolbar.js` (proxied to Django) rather than through Vite's dev server with HMR. Currently, toolbar changes require manual rebuilds.\n\n## Changes\n\n- Created `frontend/build-toolbar.mjs`: A new build script that watches and rebuilds the toolbar bundle when toolbar-related files change\n  - Configures esbuild to bundle `src/toolbar/index.tsx` as an IIFE with global name `posthogToolbar`\n  - Includes a custom esbuild plugin (`denylist-imports`) that replaces denied imports with empty modules to keep the toolbar bundle size manageable and avoid CSP issues\n  - Denies imports from modules like monaco, CodeSnippet, session recordings player, billing, data warehouse, and other heavy dependencies\n  - Outputs to `dist/toolbar.js` with appropriate banners/footers for IIFE wrapping\n\n- Updated `frontend/package.json`:\n  - Modified `start-vite` script to run the toolbar build script in parallel with Vite and Tailwind watchers using concurrently\n  - Added new `watch:toolbar` script that runs the build script in dev mode\n\n## How did you test this code?\n\nThe build script follows the established pattern from `@posthog/esbuilder` utilities and integrates with the existing Vite development workflow. The toolbar build configuration mirrors production build requirements while supporting hot rebuilds during development.\n\n## Publish to changelog?\n\nNo\n\nhttps://claude.ai/code/session_01YD6Q6gWKLY6noq1BgGp7Nu", "author": {"login": "fercgomes"}, "createdAt": "2026-02-18T12:25:21Z", "mergedAt": "2026-02-19T17:09:00Z", "additions": 130, "deletions": 92, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/bin/build-toolbar.mjs"}, {"path": "frontend/build.mjs"}, {"path": "frontend/package.json"}, {"path": "frontend/toolbar-config.mjs"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T12:28:05Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "COMMENTED", "submittedAt": "2026-02-19T03:44:57Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T03:45:05Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T01:06:48Z", "additions": 122, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T12:31:43Z", "additions": 100, "deletions": 183}}, {"commit": {"committedDate": "2026-02-19T16:48:34Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-19T16:49:06Z", "additions": 46930, "deletions": 18739}}]}}, {"number": 48298, "title": "fix(dashboards/insights): order tags column", "body": "## Problem\r\nTags column on all insights/dashboards page doesn't sort the tag names\r\n\r\n## Changes\r\n<img width=\"544\" height=\"550\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f113cf5c-6b5f-4283-853f-902c04864c41\" />\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\ud83d\udc41\ufe0f \r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "anirudhpillai"}, "createdAt": "2026-02-18T12:15:41Z", "mergedAt": "2026-02-18T16:17:26Z", "additions": 2, "deletions": 2, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/dashboard/dashboards/DashboardsTable.tsx"}, {"path": "frontend/src/scenes/saved-insights/SavedInsights.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "sampennington"}, "state": "APPROVED", "submittedAt": "2026-02-18T16:17:23Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T12:12:19Z", "additions": 2, "deletions": 2}}]}}, {"number": 48296, "title": "feat(ci): publish playwright report to cloudflare pages on PRs", "body": "Deploys the Playwright HTML report to Cloudflare Pages after each E2E run so reviewers get a direct link without having to download artifacts from GitHub.\n\n**How it works**\n\n- After tests finish, wrangler deploys `playwright/playwright-report/` to the `playwright-report` CF Pages project\n- Each PR gets a stable URL via `--branch=pr-{number}` \u2014 reruns overwrite, no accumulation\n- A single PR comment is upserted (find-or-update) with pass/fail status and the report link\n- Only runs on non-fork PRs (secrets unavailable on forks)\n\n**Prerequisite**: the `playwright-report` CF Pages project must exist with direct upload enabled (already set up).", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T11:59:21Z", "mergedAt": "2026-02-18T15:37:59Z", "additions": 117, "deletions": 0, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-e2e-playwright.yml"}, {"path": "playwright/playwright.config.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:52:25Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:52:57Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T13:53:12Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:07:57Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T11:59:04Z", "additions": 43, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T12:11:32Z", "additions": 12, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T12:12:38Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T12:40:30Z", "additions": 12, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T12:57:55Z", "additions": 30, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T13:24:03Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T13:43:56Z", "additions": 11, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T13:47:51Z", "additions": 16, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T14:10:39Z", "additions": 21, "deletions": 10}}]}}, {"number": 48293, "title": "fix(Insights): CreatedBy Filter not loading users", "body": "## Problem\r\nThe createdBy filter is not loading users\r\n\r\nhttps://posthog.slack.com/archives/C045L1VEG87/p1771412400233059\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nSee tests, and tried filtering by myself locally. It worked.\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-18T11:24:52Z", "mergedAt": "2026-02-18T11:39:28Z", "additions": 134, "deletions": 6, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/saved-insights/SavedInsightsFilters.test.tsx"}, {"path": "frontend/src/scenes/saved-insights/SavedInsightsFilters.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "gesh"}, "state": "APPROVED", "submittedAt": "2026-02-18T11:27:37Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T11:23:00Z", "additions": 134, "deletions": 6}}]}}, {"number": 48292, "title": "chore(docs): add monorepo-specific docs moved from posthog.com", "body": "Moves 14 handbook/engineering docs from posthog.com that pertain directly to this codebase. These cover project structure, local dev setup, coding conventions, database guides, ClickHouse operations, and internal architecture docs.\n\nThey now live under `docs/published/handbook/engineering/` and get pulled into posthog.com via `gatsby-source-git` as described in [docs/README.md](https://github.com/PostHog/posthog/blob/master/docs/README.md).\n\n**Files moved:**\n- project-structure, stack, setup-ssl-locally\n- conventions/backend-coding, conventions/frontend-coding\n- databases/ (schema-changes, async-migrations, materialized-columns, query-performance-optimization, hogql-python, clickhouse-event-table-migrations)\n- clickhouse/replication\n- data-warehouse, person-processing\n\n**Minor fixes:** added frontmatter to person-processing.md (had none), added language specifiers to bare fenced code blocks across several files.\n\n**Companion PR:** PostHog/posthog.com \u2014 removes these same files from the website repo.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T11:23:13Z", "mergedAt": "2026-02-19T11:24:55Z", "additions": 2548, "deletions": 27, "changedFiles": 20, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/scripts/check-docs-links.js"}, {"path": ".github/workflows/ci-security.yaml"}, {"path": ".github/workflows/docs-preview-trigger.yml"}, {"path": "docs/published/handbook/engineering/clickhouse/replication.md"}, {"path": "docs/published/handbook/engineering/conventions/backend-coding.md"}, {"path": "docs/published/handbook/engineering/conventions/frontend-coding.md"}, {"path": "docs/published/handbook/engineering/data-warehouse.md"}, {"path": "docs/published/handbook/engineering/databases/async-migrations.md"}, {"path": "docs/published/handbook/engineering/databases/clickhouse-event-table-migrations.md"}, {"path": "docs/published/handbook/engineering/databases/hogql-python.md"}, {"path": "docs/published/handbook/engineering/databases/materialized-columns.md"}, {"path": "docs/published/handbook/engineering/databases/query-performance-optimization.md"}, {"path": "docs/published/handbook/engineering/databases/schema-changes.md"}, {"path": "docs/published/handbook/engineering/developing-locally.md"}, {"path": "docs/published/handbook/engineering/manual-dev-setup.md"}, {"path": "docs/published/handbook/engineering/person-processing.md"}, {"path": "docs/published/handbook/engineering/project-structure.md"}, {"path": "docs/published/handbook/engineering/setup-ssl-locally.md"}, {"path": "docs/published/handbook/engineering/stack.md"}, {"path": "pnpm-lock.yaml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T11:30:00Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T11:30:24Z"}, {"author": {"login": "sarahxsanders"}, "state": "APPROVED", "submittedAt": "2026-02-18T16:34:01Z"}, {"author": {"login": "MichaelKutsch-ph"}, "state": "APPROVED", "submittedAt": "2026-02-19T11:15:41Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T11:22:21Z", "additions": 2276, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T09:22:23Z", "additions": 19, "deletions": 19}}, {"commit": {"committedDate": "2026-02-19T09:26:58Z", "additions": 21, "deletions": 21}}, {"commit": {"committedDate": "2026-02-19T09:42:59Z", "additions": 201, "deletions": 14}}, {"commit": {"committedDate": "2026-02-19T09:59:57Z", "additions": 1, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T10:00:27Z", "additions": 25062, "deletions": 6465}}, {"commit": {"committedDate": "2026-02-19T10:22:59Z", "additions": 70, "deletions": 24}}, {"commit": {"committedDate": "2026-02-19T10:26:08Z", "additions": 16, "deletions": 5}}]}}, {"number": 48289, "title": "chore(ds): improve pipeline v3 consumer offset strategy and tune redis TTL", "body": "## Problem\r\n\r\nSecond small PR for consumer improvements focused on:\r\n\r\n1. offset strategy (when the consumer dies, we need to resume from latests, not earliest)\r\n2. added a bit more of observability (more of this to come)\r\n3. clean up a bit\r\n\r\n## Changes\r\n\r\n  * Changed `auto.offset.reset` from `earliest` to `latest` in Kafka consumer configuration\r\n  * Added `on_assign` and `on_revoke` partition callbacks with structured logging for better observability\r\n  * Increased Redis idempotency TTL from 48 hours to 72 hours to match topic retention period\r\n  * Replaced bare `assert schema is not None` with explicit `ValueError` in processor.py\r\n  * Removed unused `read_all_batches` function from S3 reader module\r\n  * Added unit tests for consumer configuration and partition callbacks\r\n\r\n## How did you test this code?\r\n  * New unit tests\r\n  * All tests pass\r\n  * Local run with FF\r\n\r\n\r\n## Publish to changelog?\r\nNO\r\n", "author": {"login": "estefaniarabadan"}, "createdAt": "2026-02-18T10:58:43Z", "mergedAt": "2026-02-18T13:23:08Z", "additions": 163, "deletions": 29, "changedFiles": 6, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/kafka/consumer.py"}, {"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/kafka/test_consumer.py"}, {"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/load/idempotency.py"}, {"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/load/processor.py"}, {"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/s3/__init__.py"}, {"path": "posthog/temporal/data_imports/pipelines/pipeline_v3/s3/reader.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T11:01:54Z"}, {"author": {"login": "estefaniarabadan"}, "state": "COMMENTED", "submittedAt": "2026-02-18T11:24:06Z"}, {"author": {"login": "MarconLP"}, "state": "APPROVED", "submittedAt": "2026-02-18T13:23:06Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:54:39Z", "additions": 145, "deletions": 29}}, {"commit": {"committedDate": "2026-02-18T11:28:52Z", "additions": 20, "deletions": 2}}]}}, {"number": 48286, "title": "fix(llma): guard against negative input costs when cache tokens exceed input tokens", "body": "## Problem\r\n\r\nCustomer reported all their LLM events have negative `$ai_input_cost_usd` values, breaking cost calculations. Root cause: #48021 introduced inclusive token accounting for Vercel gateway Anthropic events, but `posthog-ai` SDK reports exclusive (Anthropic-style) token counts even through the Vercel gateway. This causes `uncachedTokens` to go negative (e.g., `247 - 6287 = -6040`), producing negative costs.\r\n\r\n## Changes\r\n\r\nAdds a mathematical guard in the Anthropic cost calculation path: if `inputTokens < cacheReadTokens + cacheWriteTokens`, the tokens are provably not inclusive (inclusive means cache tokens are a subset of input tokens), so we fall back to exclusive accounting. No SDK version detection needed.\r\n\r\n## How did you test this code?\r\n\r\n- Added test case reproducing the exact customer scenario (Vercel gateway, `inputTokens=247`, `cacheReadTokens=6287`) \u2014 verifies cost is positive\r\n- Existing inclusive accounting test still passes (tokens genuinely inclusive)\r\n- All 34 input-costs tests pass\r\n\r\n## Publish to changelog?\r\n\r\nNo", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-18T10:48:21Z", "mergedAt": "2026-02-18T11:13:23Z", "additions": 48, "deletions": 1, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "nodejs/src/ingestion/ai/costs/input-costs.test.ts"}, {"path": "nodejs/src/ingestion/ai/costs/input-costs.ts"}]}, "labels": {"nodes": [{"name": "bug"}, {"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:50:15Z"}, {"author": {"login": "richardsolomou"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:52:30Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:57:31Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:58:19Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:47:31Z", "additions": 29, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T10:57:43Z", "additions": 20, "deletions": 1}}]}}, {"number": 48285, "title": "feat(mcp): improve truncation in MCP", "body": "## Problem\n\nQuery result formatting currently always truncates long cell values (>500 characters) in SQL results. This behavior should be configurable to allow tools like the SQL MCP tool to return full, untruncated results when needed.\n\n## Changes\n\nAdded a `truncate_results` parameter (default `True`) throughout the query execution and formatting pipeline:\n\n1. **Query Executor** (`query_executor.py`):\n   - Added `truncate_results` parameter to `arun_and_format_query()` and `_compress_results()` methods\n   - Passes the parameter to `SQLResultsFormatter` to control cell truncation behavior\n\n2. **SQL Formatter** (`sql.py`):\n   - Modified `SQLResultsFormatter.__init__()` to accept optional `max_cell_length` parameter\n   - When `max_cell_length=None`, cell truncation is disabled\n   - Updated `_format_cell()` to respect the configurable max length\n\n3. **Insight Context** (`context.py`):\n   - Added `truncate_results` parameter to `execute_and_format()` method\n   - Passes parameter through to query execution\n\n4. **MCP Tool** (`mcp_tool.py`):\n   - Updated SQL execution tool to pass `truncate_results=False` to get full, untruncated results\n\n## How did you test this code?\n\nThe changes maintain backward compatibility with the default `truncate_results=True` behavior. Existing code paths are unaffected. The SQL MCP tool now explicitly requests untruncated results for complete data visibility.\n\nhttps://claude.ai/code/session_01JQhweuHEvKc5aRUPgPpz58", "author": {"login": "skoob13"}, "createdAt": "2026-02-18T10:46:15Z", "mergedAt": "2026-02-18T15:36:55Z", "additions": 84, "deletions": 12, "changedFiles": 13, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/hogai/context/insight/context.py"}, {"path": "ee/hogai/context/insight/format/sql.py"}, {"path": "ee/hogai/context/insight/format/test/test_sql.py"}, {"path": "ee/hogai/context/insight/query_executor.py"}, {"path": "ee/hogai/tools/execute_sql/mcp_tool.py"}, {"path": "products/posthog_ai/skills/query-data/SKILL.md"}, {"path": "products/posthog_ai/skills/query-data/references/example-llm-trace.md"}, {"path": "services/mcp/schema/tool-definitions-v2.json"}, {"path": "services/mcp/schema/tool-inputs.json"}, {"path": "services/mcp/src/schema/tool-inputs.ts"}, {"path": "services/mcp/src/tools/posthogAiTools/executeSql.ts"}, {"path": "services/mcp/tests/tools/executeSql.integration.test.ts"}, {"path": "services/mcp/typescript/src/tools/posthogAiTools/executeSql.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:49:13Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T11:24:02Z"}, {"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-18T12:58:28Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:04:49Z", "additions": 30, "deletions": 8}}, {"commit": {"committedDate": "2026-02-18T10:59:52Z", "additions": 48, "deletions": 3}}, {"commit": {"committedDate": "2026-02-18T11:20:01Z", "additions": 0, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T12:22:18Z", "additions": 2, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T13:34:59Z", "additions": 7, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T13:42:19Z", "additions": 3, "deletions": 3}}]}}, {"number": 48284, "title": "chore: use PascalCase for generated Orval enum keys", "body": "Stacked on #47946\n\n**Context**\nOrval generates const objects for OpenAPI enums with keys matching the Python enum values verbatim (snake_case). In TS, PascalCase is the idiomatic convention for enum members.\n\n**Change**\nAdds `namingConvention: { enum: 'PascalCase' }` to the Orval config so generated enums look like:\n\n```ts\n{ IngestFirstEvent: 'ingest_first_event' }\n```\n\ninstead of:\n\n```ts\n{ ingest_first_event: 'ingest_first_event' }\n```\n\nNobody consumes generated enum members yet (confirmed zero `EnumApi.` usages), so this is zero-breakage. Also updates all `SetupTaskId.*` call sites and the `validate-setup-tasks` script to match.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T10:41:26Z", "mergedAt": "2026-02-19T03:26:15Z", "additions": 2531, "deletions": 2530, "changedFiles": 70, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "bin/validate-setup-tasks.mjs"}, {"path": "frontend/bin/generate-openapi-types.mjs"}, {"path": "frontend/src/generated/core/api.schemas.ts"}, {"path": "frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"}, {"path": "frontend/src/lib/components/ProductSetup/productSetupLogic.ts"}, {"path": "frontend/src/lib/components/ProductSetup/productSetupRegistry.ts"}, {"path": "frontend/src/lib/components/ReverseProxyChecker/reverseProxyCheckerLogic.ts"}, {"path": "frontend/src/models/dashboardsModel.tsx"}, {"path": "frontend/src/scenes/cohorts/cohortEditLogic.ts"}, {"path": "frontend/src/scenes/data-warehouse/editor/sqlEditorLogic.tsx"}, {"path": "frontend/src/scenes/data-warehouse/new/sourceWizardLogic.tsx"}, {"path": "frontend/src/scenes/data-warehouse/saved_queries/dataWarehouseViewsLogic.tsx"}, {"path": "frontend/src/scenes/data-warehouse/viewLinkLogic.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentForm/createExperimentLogic.ts"}, {"path": "frontend/src/scenes/experiments/experimentLogic.tsx"}, {"path": "frontend/src/scenes/feature-flags/featureFlagLogic.ts"}, {"path": "frontend/src/scenes/feature-flags/featureFlagsLogic.ts"}, {"path": "frontend/src/scenes/insights/insightLogic.tsx"}, {"path": "frontend/src/scenes/session-recordings/playlist/playlistUtils.ts"}, {"path": "frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts"}, {"path": "frontend/src/scenes/settings/environment/proxyLogic.ts"}, {"path": "frontend/src/scenes/surveys/quick-create/quickSurveyFormLogic.ts"}, {"path": "frontend/src/scenes/surveys/surveyLogic.tsx"}, {"path": "frontend/src/scenes/surveys/surveysLogic.tsx"}, {"path": "frontend/src/scenes/teamLogic.tsx"}, {"path": "frontend/src/scenes/web-analytics/WebAnalyticsDashboard.tsx"}, {"path": "frontend/src/scenes/web-analytics/webAnalyticsLogic.tsx"}, {"path": "products/actions/frontend/generated/api.schemas.ts"}, {"path": "products/actions/frontend/logics/actionEditLogic.tsx"}, {"path": "products/batch_exports/frontend/generated/api.schemas.ts"}, {"path": "products/cohorts/frontend/generated/api.schemas.ts"}, {"path": "products/conversations/frontend/generated/api.schemas.ts"}, {"path": "products/core_events/frontend/generated/api.schemas.ts"}, {"path": "products/customer_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/dashboards/frontend/generated/api.schemas.ts"}, {"path": "products/data_modeling/frontend/generated/api.schemas.ts"}, {"path": "products/data_warehouse/frontend/generated/api.schemas.ts"}, {"path": "products/desktop_recordings/frontend/generated/api.schemas.ts"}, {"path": "products/early_access_features/frontend/earlyAccessFeatureLogic.ts"}, {"path": "products/early_access_features/frontend/generated/api.schemas.ts"}, {"path": "products/endpoints/frontend/endpointLogic.tsx"}, {"path": "products/endpoints/frontend/endpointSceneLogic.tsx"}, {"path": "products/endpoints/frontend/generated/api.schemas.ts"}, {"path": "products/error_tracking/frontend/components/IssueActions/issueActionsLogic.tsx"}, {"path": "products/error_tracking/frontend/generated/api.schemas.ts"}, {"path": "products/error_tracking/frontend/scenes/ErrorTrackingIssueScene/errorTrackingIssueSceneLogic.ts"}, {"path": "products/experiments/frontend/generated/api.schemas.ts"}, {"path": "products/feature_flags/frontend/generated/api.schemas.ts"}, {"path": "products/llm_analytics/frontend/evaluations/llmEvaluationsLogic.ts"}, {"path": "products/llm_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/llm_analytics/frontend/llmAnalyticsPlaygroundLogic.ts"}, {"path": "products/llm_analytics/frontend/llmAnalyticsSharedLogic.ts"}, {"path": "products/llm_analytics/frontend/llmAnalyticsTraceLogic.ts"}, {"path": "products/logs/frontend/components/LogsViewer/data/logsViewerDataLogic.ts"}, {"path": "products/logs/frontend/generated/api.schemas.ts"}, {"path": "products/managed_migrations/frontend/generated/api.schemas.ts"}, {"path": "products/notebooks/frontend/generated/api.schemas.ts"}, {"path": "products/persons/frontend/generated/api.schemas.ts"}, {"path": "products/product_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/product_tours/frontend/generated/api.schemas.ts"}, {"path": "products/replay/frontend/generated/api.schemas.ts"}, {"path": "products/revenue_analytics/frontend/settings/revenueAnalyticsSettingsLogic.ts"}, {"path": "products/signals/frontend/generated/api.schemas.ts"}, {"path": "products/surveys/frontend/generated/api.schemas.ts"}, {"path": "products/tasks/frontend/generated/api.schemas.ts"}, {"path": "products/user_interviews/frontend/generated/api.schemas.ts"}, {"path": "products/web_analytics/frontend/generated/api.schemas.ts"}, {"path": "products/workflows/frontend/Channels/MessageChannels.tsx"}, {"path": "products/workflows/frontend/Workflows/workflowLogic.ts"}, {"path": "products/workflows/frontend/generated/api.schemas.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:47:28Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:47:40Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:35:27Z", "additions": 2293, "deletions": 2688}}, {"commit": {"committedDate": "2026-02-18T10:42:57Z", "additions": 577, "deletions": 181}}]}}, {"number": 48283, "title": "chore: clear cache on read and send from app", "body": "Invalidate cache for tickets when a ticket is read by a user and when we send a message by a team member.", "author": {"login": "veryayskiy"}, "createdAt": "2026-02-18T10:33:56Z", "mergedAt": "2026-02-18T11:14:54Z", "additions": 37, "deletions": 2, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/conversations/backend/api/tests/test_cache.py"}, {"path": "products/conversations/backend/api/tests/test_signals.py"}, {"path": "products/conversations/backend/api/widget.py"}, {"path": "products/conversations/backend/signals.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:38:29Z"}, {"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-18T11:14:52Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:31:18Z", "additions": 6, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T10:32:58Z", "additions": 31, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T10:41:58Z", "additions": 3, "deletions": 3}}]}}, {"number": 48282, "title": "fix: stable dependencies for useChart hook", "body": "we were passing a `deps` array straight through from the `useChart` props to the `useEffect` inside it\n\nthe robot insists this means we will get a new instance on any render and rerender everything in the `useEffect` tearing down and recreating chart.js instances\n\nlet's instead convert that received deps into a stable reference", "author": {"login": "pauldambra"}, "createdAt": "2026-02-18T10:29:06Z", "mergedAt": "2026-02-18T11:22:47Z", "additions": 24, "deletions": 11, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/hooks/useChart.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:34:46Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:34:49Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:36:44Z"}, {"author": {"login": "vdekrijger"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:46:43Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:43:36Z", "additions": 24, "deletions": 11}}]}}, {"number": 48280, "title": "fix(mcp): update OAuth scopes list", "body": "## Problem\r\n\r\nAccidentally merged the original PR #48029 to the wrong branch (\ud83e\udd26), so reopening the PR.\r\n\r\nSome scopes were missing from the tokens for the MCP server, so actions were not available, for example.\r\n\r\n## Changes\r\n\r\nUpdated `OAUTH_SCOPES_SUPPORTED` constant in `services/mcp/src/lib/constants.ts`:\r\n- Added new scopes: `action:read`, `action:write`, `error_tracking:write`, `event_definition:read`, `event_definition:write`, `logs:read`, `property_definition:read`, `warehouse_table:read`, `warehouse_view:read`\r\n- Removed duplicate `error_tracking:read` and `logs:read` entries\r\n- Sorted all scopes alphabetically for improved readability and maintainability\r\n\r\n## How did you test this code?\r\n\r\nNo testing needed - this is a configuration update to the constants file. The scopes list is used for OAuth configuration and will be validated by the OAuth provider during integration.\r\n\r\n## Publish to changelog?\r\n\r\nNo\r\n\r\nhttps://claude.ai/code/session_01TSSicZN4dLbCQhH3jegH5Q", "author": {"login": "skoob13"}, "createdAt": "2026-02-18T10:15:53Z", "mergedAt": "2026-02-18T10:27:05Z", "additions": 44, "deletions": 10, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "services/mcp/src/lib/constants.ts"}, {"path": "services/mcp/tests/unit/tool-filtering.test.ts"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "veryayskiy"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:26:46Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:14:14Z", "additions": 17, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T10:14:14Z", "additions": 27, "deletions": 1}}]}}, {"number": 48279, "title": "fix(logs): default to latest ordering instead of error on invalid order_by", "body": "## Problem\r\n\r\nWe have a few error tracking exceptions due to invalid order_by key, with a value of \"occurrences\". I think this is _yet more_ overspill from error tracking filters somehow\r\n\r\n## Changes\r\n\r\ninvalid order_by should be ignored instead of erroring\r\n\r\n## How did you test this code?\r\n\r\nlocally\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "frankh"}, "createdAt": "2026-02-18T09:57:36Z", "mergedAt": "2026-02-18T10:27:29Z", "additions": 6, "deletions": 3, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/logs/backend/api.py"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:00:04Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:01:47Z"}, {"author": {"login": "frankh"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:17:48Z"}, {"author": {"login": "skoob13"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:26:44Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T10:00:55Z", "additions": 6, "deletions": 3}}]}}, {"number": 48276, "title": "feat(llma): (1/3) add Dockerfile, CI workflow, and sentiment deps for LLM analytics worker", "body": "## Problem\n\nLLM Analytics sentiment classification needs a dedicated Temporal worker with ML dependencies (transformers, ONNX runtime) that are too heavy for the main PostHog image.\n\nPart 1/3 of the sentiment stack. Closes #47244.\n\n## Changes\n\n- `Dockerfile.llm-analytics`: dedicated worker image that installs the `sentiment` dependency group and bakes the ONNX sentiment model at build time with SHA-256 supply chain verification\n- `.github/workflows/cd-llm-analytics-image.yml`: CD workflow to build and push to AWS ECR on master push or PRs with the `build-llm-analytics-image` label\n- `pyproject.toml`: adds `sentiment` dependency group (transformers, optimum[onnxruntime], torch)\n\n## How did you test this code?\n\n- Image builds successfully via the CI workflow (tested on the original PR branch with the `build-llm-analytics-image` label)\n- ECR repo already exists (posthog-cloud-infra #6743, merged)\n\n## Publish to changelog?\n\nNo", "author": {"login": "andrewm4894"}, "createdAt": "2026-02-18T09:56:38Z", "mergedAt": "2026-02-20T12:08:03Z", "additions": 691, "deletions": 25, "changedFiles": 5, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/cd-llm-analytics-image.yml"}, {"path": ".github/workflows/container-images-cd.yml"}, {"path": "Dockerfile.llm-analytics"}, {"path": "pyproject.toml"}, {"path": "uv.lock"}]}, "labels": {"nodes": [{"name": "team/llm-analytics"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:14:47Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:18:16Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:20:29Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:20:35Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:20:37Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:20:38Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:22:50Z"}, {"author": {"login": "andrewm4894"}, "state": "COMMENTED", "submittedAt": "2026-02-18T15:22:52Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-20T10:47:20Z"}, {"author": {"login": "langesven"}, "state": "APPROVED", "submittedAt": "2026-02-20T10:56:22Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T11:42:09Z", "additions": 650, "deletions": 5}}, {"commit": {"committedDate": "2026-02-20T11:42:09Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T11:42:09Z", "additions": 4, "deletions": 1}}, {"commit": {"committedDate": "2026-02-20T11:42:09Z", "additions": 4, "deletions": 4}}, {"commit": {"committedDate": "2026-02-20T11:42:09Z", "additions": 47, "deletions": 29}}]}}, {"number": 48275, "title": "feat(analytics-platform): Remove person default name properties", "body": "## Problem\r\n\r\nWe supported too many different properties for the user's name in the actors query.\r\n\r\nThis meant that queries that loaded this page were very slow, as they had to load the unmaterialized properties.\r\n\r\nThese extra properties were never fully implemented, e.g. they were never hooked up to the Person scene search bar.\r\n\r\nLet's just remove them. If a user needs to send data in the wrong format, we can get them set up with a CDP transform.\r\n\r\n## Changes\r\n\r\nRemove unecessary properties and add a comment explain why they shouldn't be added back\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "robbie-c"}, "createdAt": "2026-02-18T09:29:23Z", "mergedAt": "2026-02-18T10:51:02Z", "additions": 14, "deletions": 27, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/lib/constants.tsx"}, {"path": "nodejs/src/cdp/utils.ts"}, {"path": "posthog/api/person.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:22:50Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T10:23:24Z"}, {"author": {"login": "vdekrijger"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:30:58Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:28:40Z", "additions": 14, "deletions": 27}}, {"commit": {"committedDate": "2026-02-18T10:23:30Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T10:23:41Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T10:23:50Z", "additions": 1, "deletions": 1}}]}}, {"number": 48274, "title": "fix(Insights): Truncate breakdown queries", "body": "## Problem\r\nUser is seeing a huge response form the dashboards API. They were breaking down by error message, and the error message was an entire 500 error page from cloudflare.\r\n\r\nThis is causing the dashboard to lock up for 20+ seconds. Fixed that in: https://github.com/PostHog/posthog/pull/48266 but I don't think we should ever return such a response \r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n  - Truncate breakdown string values to 400 chars at the SQL level, to avoid breakdowns of potentially huge error messages containing html pages\r\n \r\nThis does potentially mean error messages over 400 chars would be grouped. But I think that is ok, e.g. a 5xx error from cloudflare, might differ slightly but it's really the same thing for the user\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nSee tests :)\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-18T09:20:29Z", "mergedAt": "2026-02-18T15:06:07Z", "additions": 106, "deletions": 76, "changedFiles": 10, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/clickhouse/views/test/__snapshots__/test_clickhouse_trends.ambr"}, {"path": "posthog/api/test/__snapshots__/test_insight.ambr"}, {"path": "posthog/hogql/constants.py"}, {"path": "posthog/hogql/database/schema/test/__snapshots__/test_persons_revenue_analytics.ambr"}, {"path": "posthog/hogql_queries/experiments/test/__snapshots__/test_experiment_trends_query_runner.ambr"}, {"path": "posthog/hogql_queries/insights/trends/breakdown.py"}, {"path": "posthog/hogql_queries/insights/trends/test/__snapshots__/test_formula.ambr"}, {"path": "posthog/hogql_queries/insights/trends/test/__snapshots__/test_trends.ambr"}, {"path": "posthog/hogql_queries/insights/trends/test/__snapshots__/test_trends_data_warehouse_query.ambr"}, {"path": "posthog/hogql_queries/insights/trends/test/test_breakdown_limits.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-18T14:38:55Z"}, {"author": {"login": "robbie-c"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:05:50Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:13:50Z", "additions": 90, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T09:26:15Z", "additions": 41, "deletions": 9}}, {"commit": {"committedDate": "2026-02-18T09:43:53Z", "additions": 74, "deletions": 74}}, {"commit": {"committedDate": "2026-02-18T10:21:35Z", "additions": 9, "deletions": 95}}, {"commit": {"committedDate": "2026-02-18T10:21:43Z", "additions": 74, "deletions": 74}}]}}, {"number": 48273, "title": "fix(billing): add POST fallback for /v2/spend and /v2/usage", "body": "Move teams_map serialization from the API layer into BillingManager's transport logic. When the GET request exceeds URL/header limits (414 or 431), automatically retry as POST with a JSON body.\r\n\r\nHandle UUIDs explicitly in both _to_query_params and _to_post_body for consistent serialization across both request paths. Consolidate the duplicated usage/spend fallback test classes into a single parameterized test class with GET params assertions.\r\n\r\nRequires: https://github.com/PostHog/billing/pull/1790 to be merged first\r\n\r\n## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\nA customer hit the payload size limit for GET requests because they have 274 Projects.\r\nFull thread for context here: [posthog.slack.com/archives/C08ERRQT41E/p1771323872175749](https://posthog.slack.com/archives/C08ERRQT41E/p1771323872175749)\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n1. Verified GET path works \u2014 loaded the billing Usage page at                              \r\n  localhost:8010/organization/billing/usage and confirmed usage data rendered correctly                       \r\n2. Forced POST fallback \u2014 temporarily changed the condition in _request_with_post_fallback                                                                           \r\n3. Automated tests \u2014 all 61 billing manager tests and 12 billing API usage/spend tests\r\n  pass, covering both the GET and POST paths, JSON string parsing, UUID handling, and error\r\n  propagation.\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\nno\r\n", "author": {"login": "abhischekt"}, "createdAt": "2026-02-18T09:17:50Z", "mergedAt": "2026-02-19T08:31:16Z", "additions": 248, "deletions": 39, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/api/billing.py"}, {"path": "ee/api/test/test_billing.py"}, {"path": "ee/billing/billing_manager.py"}, {"path": "ee/billing/test/test_billing_manager.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "pawel-cebula"}, "state": "APPROVED", "submittedAt": "2026-02-19T08:03:33Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:15:53Z", "additions": 188, "deletions": 22}}, {"commit": {"committedDate": "2026-02-18T10:21:11Z", "additions": 62, "deletions": 19}}, {"commit": {"committedDate": "2026-02-18T10:34:36Z", "additions": 1, "deletions": 1}}]}}, {"number": 48272, "title": "chore(ci): drop redundant thread for priority-review slack notifications", "body": "Cleans up the priority-review Slack notification workflow.\n\n**Security**: switch trigger from `pull_request_target` to `pull_request` \u2014 no need for target since only same-repo contributors can add labels, and `pull_request` gives secrets for same-repo PRs.\n\n**Improvements**:\n- Use full GitHub display names instead of login handles\n- Strikethrough the Slack message when a PR is closed\n- Skip notification for draft PRs, fire when undrafted if label is present\n- Drop redundant thread reply on approval (inline message update already shows who approved)\n\n**Note**: the checkmark reaction on approval still needs `reactions:write` added to the Slack app's bot token scopes \u2014 currently fails silently with `missing_scope`.", "author": {"login": "webjunkie"}, "createdAt": "2026-02-18T09:13:21Z", "mergedAt": "2026-02-18T10:57:12Z", "additions": 122, "deletions": 69, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/pr-priority-review.yml"}]}, "labels": {"nodes": [{"name": "priority-review"}]}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T09:30:37Z"}, {"author": {"login": "chatgpt-codex-connector"}, "state": "COMMENTED", "submittedAt": "2026-02-18T09:31:27Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T09:32:03Z"}, {"author": {"login": "georgemunyoro"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:29:46Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:13:00Z", "additions": 51, "deletions": 39}}, {"commit": {"committedDate": "2026-02-18T09:17:12Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T09:26:41Z", "additions": 85, "deletions": 47}}, {"commit": {"committedDate": "2026-02-18T10:46:31Z", "additions": 66, "deletions": 63}}, {"commit": {"committedDate": "2026-02-18T10:51:58Z", "additions": 5, "deletions": 5}}]}}, {"number": 48271, "title": "feat: Add empty state to managed sources.", "body": "## Problem\r\n- I always go into sources, type something in search, can't find it, get confused, and \"aaah, new source button\".\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n<img width=\"1662\" height=\"257\" alt=\"CleanShot 2026-02-18 at 10 05 26\" src=\"https://github.com/user-attachments/assets/a1f88deb-9c9a-4194-b083-2f3b47024032\" />\r\n<img width=\"1663\" height=\"259\" alt=\"CleanShot 2026-02-18 at 10 05 34\" src=\"https://github.com/user-attachments/assets/a981d1af-bebf-49c5-b613-a08d7e5ff3be\" />\r\n\r\n\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sortafreel"}, "createdAt": "2026-02-18T09:08:04Z", "mergedAt": "2026-02-18T10:57:58Z", "additions": 15, "deletions": 0, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/data-warehouse/settings/DataWarehouseManagedSourcesTable.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "MarconLP"}, "state": "APPROVED", "submittedAt": "2026-02-18T09:12:53Z"}, {"author": {"login": "Gilbert09"}, "state": "APPROVED", "submittedAt": "2026-02-18T09:20:24Z"}, {"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:29:45Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:06:34Z", "additions": 15, "deletions": 0}}]}}, {"number": 48270, "title": "fix(experiments): search all feature flags in experiment creation dropdown", "body": "## Problem\r\n\r\nThe feature flag selector in experiment creation only loaded the 100 most recent eligible flags and filtered client-side with Fuse.js. If the desired flag wasn't in that initial set, it was impossible to find.\r\n\r\n## Changes\r\n\r\nWire up `onInputChange` on the `LemonInputSelect` to trigger server-side search via the existing `setFilters` action (which debounces at 300ms). The backend `eligible_feature_flags` endpoint already supports a `search` query parameter. Client-side fuzzy filtering still runs instantly for immediate feedback while the API call is in flight.\r\n\r\nA loading indicator is also there to not surprise the user when the list changes after the API responds\r\n\r\nhttps://github.com/user-attachments/assets/f87b7d47-5466-4c9b-8c4e-5a3b7a93bd9d\r\n\r\n## Testing\r\n\r\n- Existing tests pass (127 VariantsPanel tests)\r\n- Manually verified: typing in the dropdown now triggers network requests to `eligible_feature_flags/?search=...`, returning matches across all flags", "author": {"login": "andehen"}, "createdAt": "2026-02-18T09:04:06Z", "mergedAt": "2026-02-18T09:21:25Z", "additions": 2, "deletions": 1, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentForm/VariantsPanel.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "mp-hog"}, "state": "APPROVED", "submittedAt": "2026-02-18T09:16:56Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T08:58:50Z", "additions": 2, "deletions": 1}}]}}, {"number": 48269, "title": "fix(ci): Fix codeowners with the github team rename", "body": "## Changes\r\nForgot to update our team name in codeowners when i renamed us\r\n", "author": {"login": "Gilbert09"}, "createdAt": "2026-02-18T09:00:51Z", "mergedAt": "2026-02-18T09:08:54Z", "additions": 2, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/CODEOWNERS-soft"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "MarconLP"}, "state": "APPROVED", "submittedAt": "2026-02-18T09:01:17Z"}, {"author": {"login": "copilot-pull-request-reviewer"}, "state": "COMMENTED", "submittedAt": "2026-02-18T09:03:18Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T09:00:11Z", "additions": 2, "deletions": 2}}]}}, {"number": 48266, "title": "fix(dashboard): Stop dashboard freeze from oversized results", "body": "## Problem\r\nA user has reported that their browser gets stuck when scrolling a dashboard. It seems the whole thread is just locked for like 20seconds even on my new high spec macbook pro\r\n\r\nhttps://posthoghelp.zendesk.com/agent/tickets/48684\r\n\r\nThe issue is, we're sending a huge set of data from `/dashboard` api. We're then passing this to chart.js which just blows up \ud83d\udca5 \r\n\r\nTwo main bits that break:\r\n- Trying to render entire cloudflare 500 error pages as labels on their graphs \r\n- Trying to parse >10MB of JSON with over 1000 data sets\r\n\r\nThis goes pretty wrong\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n- Clip labels to 200 chars \r\n- Limit to 50 data sets, I don't think more makes sense on a single graph (or probably a bit less, but don't want to change working existing users dashboard too much... and this solves the issue fine)\r\n\r\n\r\nThis is more of a safety net, I am going to address some bits in the API too\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nI copied the network responses for the problematic dashboard and hardcoded them into my API. \r\nSaw the dashboard freeze\r\nAdded these safeguards, and saw it did not freeze.\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nno\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "sampennington"}, "createdAt": "2026-02-18T08:43:42Z", "mergedAt": "2026-02-18T15:40:26Z", "additions": 27, "deletions": 5, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/insights/utils.test.ts"}, {"path": "frontend/src/scenes/insights/utils.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T08:46:40Z"}, {"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-18T15:30:53Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T08:42:26Z", "additions": 31, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T14:42:48Z", "additions": 0, "deletions": 4}}]}}, {"number": 48265, "title": "feat(phai): update chat agent model to claude-sonnet-4-6", "body": "## Problem\r\n\r\nUpdates the chat agent to use Claude Sonnet 4.6.", "author": {"login": "skoob13"}, "createdAt": "2026-02-18T08:05:34Z", "mergedAt": "2026-02-19T09:34:27Z", "additions": 20, "deletions": 15, "changedFiles": 7, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "ee/hogai/artifacts/manager.py"}, {"path": "ee/hogai/chat_agent/prompts/base.py"}, {"path": "ee/hogai/core/agent_modes/executables.py"}, {"path": "ee/hogai/tools/create_insight.py"}, {"path": "ee/hogai/tools/test/test_create_insight.py"}, {"path": "pyproject.toml"}, {"path": "uv.lock"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "joshsny"}, "state": "APPROVED", "submittedAt": "2026-02-19T09:33:16Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T07:51:25Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T08:41:05Z", "additions": 8, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T09:35:13Z", "additions": 0, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T10:14:01Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T10:19:32Z", "additions": 7, "deletions": 7}}, {"commit": {"committedDate": "2026-02-18T10:59:52Z", "additions": 6, "deletions": 4}}, {"commit": {"committedDate": "2026-02-18T13:51:16Z", "additions": 5, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T15:40:21Z", "additions": 6, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T15:40:21Z", "additions": 2, "deletions": 5}}, {"commit": {"committedDate": "2026-02-18T15:40:44Z", "additions": 17367, "deletions": 4329}}, {"commit": {"committedDate": "2026-02-19T08:52:56Z", "additions": 14277, "deletions": 2442}}]}}, {"number": 48264, "title": "fix(skills): resolve agent-skills-latest tag conflicts and target correct commit", "body": "## Problem\r\n\r\nThe agent skills overwrite the tag in CI, causing conflicts, so someone from the admins might have deleted the tag. We need the static link to distribute skills across multiple consumers.\r\n\r\n## Changes\r\n\r\nKeep the tag static to one commit and overwrite the contents of the release. Not a perfect solution, but it's not important to keep the tag history.", "author": {"login": "skoob13"}, "createdAt": "2026-02-18T07:51:42Z", "mergedAt": "2026-02-18T09:28:10Z", "additions": 21, "deletions": 9, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-agent-skills.yml"}, {"path": ".vscode/settings.example.json"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T07:55:58Z"}, {"author": {"login": "tatoalo"}, "state": "APPROVED", "submittedAt": "2026-02-18T09:24:50Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T07:08:58Z", "additions": 5, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T07:29:07Z", "additions": 18, "deletions": 9}}]}}, {"number": 48262, "title": "fix: error tracking config to use add method", "body": "## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\ninAppIncludes is final, so reassignment is not allowed, use the .add method instead.\r\n\r\nOfficial Docs: [Manually capture exceptions](https://posthog.com/docs/error-tracking/installation/flutter#manually-capture-exceptions)\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\nI originally opened the [PR](https://github.com/PostHog/posthog.com/pull/14629) here but it was soon outdated.\r\n\r\nSimilar [PR](https://github.com/PostHog/posthog-flutter/pull/273#event-22399818200) approved at the flutter posthog repo\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\nI didn't, it was a string change.\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\nno\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "Classy-Bear"}, "createdAt": "2026-02-18T04:46:06Z", "mergedAt": "2026-02-18T06:08:39Z", "additions": 2, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "docs/onboarding/error-tracking/flutter.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "ioannisj"}, "state": "APPROVED", "submittedAt": "2026-02-18T05:57:11Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T04:33:57Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-18T05:57:04Z", "additions": 164, "deletions": 103}}]}}, {"number": 48260, "title": "fix(experiments): create metric from insight's run experiment button.", "body": "## Problem\r\n\r\nOn the insights page, funnels let you create an experiment directly from the insight page.\r\n\r\n| funnel's _run experiment_ button |\r\n| - |\r\n| <img width=\"1389\" height=\"323\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fe0dc3c7-b536-48e0-ba23-d5a7322f0a6c\" /> |\r\n\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nAt the scene level, we are preserving the search parameters, and at the logic level, we are taking the metric and the name and adding a new metric to the draft experiment.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n![cat-type](https://github.com/user-attachments/assets/25764e40-caaf-4496-84e7-bac8e98dbbfe)\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "rodrigoi"}, "createdAt": "2026-02-18T03:56:15Z", "mergedAt": "2026-02-20T18:49:57Z", "additions": 29, "deletions": 4, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentForm/createExperimentLogic.ts"}, {"path": "frontend/src/scenes/experiments/experimentSceneLogic.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T04:11:51Z"}, {"author": {"login": "rodrigoi"}, "state": "COMMENTED", "submittedAt": "2026-02-18T04:34:25Z"}, {"author": {"login": "mp-hog"}, "state": "CHANGES_REQUESTED", "submittedAt": "2026-02-18T07:59:33Z"}, {"author": {"login": "mp-hog"}, "state": "APPROVED", "submittedAt": "2026-02-20T16:00:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-20T17:07:34Z", "additions": 4, "deletions": 4}}, {"commit": {"committedDate": "2026-02-20T17:07:36Z", "additions": 32, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T17:07:37Z", "additions": 20, "deletions": 29}}, {"commit": {"committedDate": "2026-02-20T17:07:37Z", "additions": 2, "deletions": 2}}, {"commit": {"committedDate": "2026-02-20T17:07:37Z", "additions": 6, "deletions": 2}}]}}, {"number": 48258, "title": "fix(exports): use presigned s3 url", "body": "## Problem\r\n\r\nWhen users download large exported assets, the current `get_content_response` function reads the entire file from S3 into Django's memory via `object_storage.read_bytes()`, then serves it as an HttpResponse. This crashes the browser. \r\n\r\nYou can reproduce this error by trying to download `export-2026-02-17-052452-2026-02-17.csv` it in team 2: https://us.posthog.com/project/2/exports. It's 6.8 GB: https://us-east-1.console.aws.amazon.com/s3/buckets/posthog-cloud-prod-us-east-1-app-assets?region=us-east-1&prefix=exports/csv/team-2/task-3557816/&showversions=false\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nWhen the asset is stored in S3 (content_location is set), redirect to a presigned S3 URL instead of proxying the bytes through Django.\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n- unit test \r\n- locally verified that creating an export results in file stream from S3 instead of Django\r\n\r\nURL from network after the export is created:\r\n```\r\nhttp://localhost:19000/posthog/exports/csv/team-5/task-119/019c6eb2-f9d0-0000-38b2-2501e206579c?response-content-type=text%2Fcsv&response-content-disposition=attachment%3B%20filename%3D%22export-2026-02-17-100225-2026-02-18.csv%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=object_storage_root_user%2F20260218%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20260218T030230Z&X-Amz-SignedHeaders=host&X-Amz-Expires=3600&X-Amz-Signature=433bb9cf10eb0ec44e43e4bb2a7e4e1951bb5f25bfebc6f4ad789366d0dc6db9\r\n```\r\n<img width=\"732\" height=\"117\" alt=\"Screenshot 2026-02-17 at 10 08 29\u202fPM\" src=\"https://github.com/user-attachments/assets/24aba7e9-dc64-42cb-bfbd-7bdf5e44f8ee\" />\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\nNope just a bug fix\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "andyzzhao"}, "createdAt": "2026-02-18T03:03:11Z", "mergedAt": "2026-02-18T13:54:52Z", "additions": 79, "deletions": 38, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/test/test_exports.py"}, {"path": "posthog/api/test/test_sharing.py"}, {"path": "posthog/models/exported_asset.py"}, {"path": "posthog/storage/object_storage.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "vdekrijger"}, "state": "APPROVED", "submittedAt": "2026-02-18T08:28:31Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T02:56:49Z", "additions": 79, "deletions": 38}}, {"commit": {"committedDate": "2026-02-18T03:12:41Z", "additions": 563, "deletions": 164}}]}}, {"number": 48256, "title": "feat(experiments): basic experiment template modal.", "body": "## Problem\r\n\r\nUsing a template to create an experiment requires defining key events on the user journey. To do that, we'll present the user with a modal dialog that should help answer the necessary questions to build a successful experiment.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nHere, we add the basic scaffolding for a modal dialog that lets the user select key events to construct the experiment metrics.\r\n\r\n| experiment template modal dialog |\r\n| - |\r\n| <img width=\"1604\" height=\"1233\" alt=\"image\" src=\"https://github.com/user-attachments/assets/56bf8715-6b0a-44b0-b5a7-82bd4806dc99\" /> |\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n![cat-type](https://github.com/user-attachments/assets/2d36135c-c068-47cd-a0f4-6f863e67008e)\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "rodrigoi"}, "createdAt": "2026-02-18T02:17:06Z", "mergedAt": "2026-02-18T21:33:19Z", "additions": 98, "deletions": 1, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/ExperimentForm/ExperimentTemplates/ExperimentTemplateModal.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentForm/ExperimentTemplates/ExperimentTemplates.tsx"}, {"path": "frontend/src/scenes/experiments/ExperimentForm/ExperimentTemplates/experimentTemplateModalLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T02:44:59Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T02:45:50Z"}, {"author": {"login": "rodrigoi"}, "state": "COMMENTED", "submittedAt": "2026-02-18T04:20:53Z"}, {"author": {"login": "rodrigoi"}, "state": "COMMENTED", "submittedAt": "2026-02-18T04:21:20Z"}, {"author": {"login": "rodrigoi"}, "state": "COMMENTED", "submittedAt": "2026-02-18T04:25:14Z"}, {"author": {"login": "mp-hog"}, "state": "APPROVED", "submittedAt": "2026-02-18T07:34:41Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T21:16:47Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T21:13:03Z", "additions": 100, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T21:13:04Z", "additions": 2, "deletions": 4}}]}}, {"number": 48254, "title": "chore(ci): auto-commit OpenAPI generated types on PRs", "body": "Feels like there's no good reason not just do this automatically for people instead of making them rerun this locally\r\n\r\n## Summary\r\n\r\n- Instead of failing CI when OpenAPI types are out of date, automatically commit the regenerated types to the PR branch\r\n- Uses the existing GitHub App token (same as snapshot commits) so the push triggers a new CI run\r\n- Falls back to the existing error message on non-PR builds and fork PRs\r\n\r\n## Test plan\r\n\r\n- [ ] Open a PR that changes a Django serializer without updating generated types \u2014 CI should auto-commit them\r\n- [ ] Verify fork PRs still get the error message (no access to app token secrets)\r\n- [ ] Verify master push still gets the error message\r\n\r\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "timgl"}, "createdAt": "2026-02-18T00:52:33Z", "mergedAt": "2026-02-18T10:52:55Z", "additions": 61, "deletions": 2, "changedFiles": 1, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".github/workflows/ci-backend.yml"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:55:05Z"}, {"author": {"login": "timgl"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:59:06Z"}, {"author": {"login": "webjunkie"}, "state": "APPROVED", "submittedAt": "2026-02-18T10:37:45Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T00:51:30Z", "additions": 45, "deletions": 15}}, {"commit": {"committedDate": "2026-02-18T00:58:19Z", "additions": 22, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T10:35:57Z", "additions": 17, "deletions": 9}}]}}, {"number": 48252, "title": "chore: rust enforcement mode", "body": "", "author": {"login": "aspicer"}, "createdAt": "2026-02-17T23:54:10Z", "mergedAt": "2026-02-18T01:12:43Z", "additions": 29, "deletions": 1, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "rust/property-defs-rs/.sqlx/query-686359eda93faf30c1d105a92ee5afb5b950b8b967509013715ec1b486a18636.json"}, {"path": "rust/property-defs-rs/tests/batch_ingestion.rs"}, {"path": "rust/property-defs-rs/tests/test_migrations/20240830124836_setup_propdefs_tables.sql"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "eli-r-ph"}, "state": "APPROVED", "submittedAt": "2026-02-18T01:06:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T23:05:28Z", "additions": 15, "deletions": 3}}, {"commit": {"committedDate": "2026-02-17T23:27:06Z", "additions": 17, "deletions": 1}}, {"commit": {"committedDate": "2026-02-17T23:49:02Z", "additions": 2, "deletions": 6}}, {"commit": {"committedDate": "2026-02-18T00:21:23Z", "additions": 20, "deletions": 0}}]}}, {"number": 48251, "title": "chore(feature-flags): polish V2 UI with templates page and UX improvements", "body": "## Summary\r\n\r\nPolishes the feature flags V2 UI (gated behind `feature-flags-v2` flag) with several improvements:\r\n\r\n### Templates Page\r\n- New dedicated templates page at `/feature_flags/templates` for selecting flag types\r\n- Clearer copy: \"Create a feature flag\" / \"Choose a template or start from scratch\"\r\n- Updated template names and descriptions for clarity\r\n\r\n### Form Improvements\r\n- Moved tags & evaluation contexts into a collapsed \"Advanced options\" section\r\n- Fixed Enabled toggle tooltip positioning (now on info icon only)\r\n- Fixed tags input to return to \"Add tags\" button when blurred without tags\r\n- Added \"Learn more\" link to evaluation contexts tooltip\r\n- Added padding to Advanced options header\r\n- Restored dropdown menu on New feature flag button\r\n\r\n### Release Conditions\r\n- Added \"OR\" dividers between condition sets for better visual separation\r\n- Added background colors to condition set panels\r\n- Updated copy: \"Target users or groups for this flag. Conditions are evaluated top to bottom \u2013 the first match wins.\"\r\n\r\n### Bug Fixes\r\n- Fixed double border in LemonTextArea component (was applying border both on wrapper and textarea)\r\n- Removed unused TemplateFieldHighlight component (template highlighting no longer needed with separate templates flow)", "author": {"login": "dmarticus"}, "createdAt": "2026-02-17T23:51:49Z", "mergedAt": "2026-02-19T20:58:44Z", "additions": 681, "deletions": 461, "changedFiles": 59, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/__snapshots__/lemon-ui-lemon-field--pure-fields--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-field--pure-fields--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--basic--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--basic--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--disabled--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--disabled--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-arbitrary-action--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-arbitrary-action--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-max-length--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-max-length--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-max-length-exceeded--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area--with-max-length-exceeded--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--empty-lemon-text-markdown--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--empty-lemon-text-markdown--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--lemon-text-markdown-with-max-length--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--lemon-text-markdown-with-max-length--light.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--lemon-text-markdown-with-text--dark.png"}, {"path": "frontend/__snapshots__/lemon-ui-lemon-text-area-markdown--lemon-text-markdown-with-text--light.png"}, {"path": "frontend/__snapshots__/replay-sharing--linear-link--dark.png"}, {"path": "frontend/__snapshots__/replay-sharing--linear-link--light.png"}, {"path": "frontend/__snapshots__/replay-sharing--linear-link-with-more-options-expanded--dark.png"}, {"path": "frontend/__snapshots__/replay-sharing--linear-link-with-more-options-expanded--light.png"}, {"path": "frontend/__snapshots__/scenes-app-experiments--draft-experiment--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-experiments--draft-experiment--light.png"}, {"path": "frontend/__snapshots__/scenes-app-feature-flags--new-feature-flag--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-feature-flags--new-feature-flag--light.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-max--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-settings-environment--settings-environment-max--light.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-status-critical--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-status-critical--light.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-status-warning--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-status-warning--light.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-support-with-email--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-sidepanels--side-panel-support-with-email--light.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-multi-question-survey-section--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-multi-question-survey-section--light.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-survey--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-survey--light.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-survey-with-text-question-description-that-does-not-render-html--dark.png"}, {"path": "frontend/__snapshots__/scenes-app-surveys--new-survey-with-text-question-description-that-does-not-render-html--light.png"}, {"path": "frontend/src/lib/lemon-ui/LemonLabel/LemonLabel.tsx"}, {"path": "frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.scss"}, {"path": "frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx"}, {"path": "frontend/src/products.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlag.scss"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlag.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlagEvaluationTags.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlagForm.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlagReleaseConditionsCollapsible.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlagTemplates.tsx"}, {"path": "frontend/src/scenes/feature-flags/FeatureFlags.tsx"}, {"path": "frontend/src/scenes/feature-flags/featureFlagLogic.ts"}, {"path": "frontend/src/scenes/scenes.ts"}, {"path": "pnpm-lock.yaml"}, {"path": "products/feature_flags/frontend/FeatureFlagTemplatesScene.tsx"}, {"path": "products/feature_flags/frontend/featureFlagTemplateConstants.ts"}, {"path": "products/feature_flags/frontend/featureFlagTemplatesSceneLogic.ts"}, {"path": "products/feature_flags/manifest.tsx"}, {"path": "products/feature_flags/package.json"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T23:55:48Z"}, {"author": {"login": "gustavohstrassburger"}, "state": "APPROVED", "submittedAt": "2026-02-19T14:08:30Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-18T15:40:16Z", "additions": 651, "deletions": 399}}, {"commit": {"committedDate": "2026-02-18T16:12:33Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-18T22:46:21Z", "additions": 35193, "deletions": 13427}}, {"commit": {"committedDate": "2026-02-18T22:54:39Z", "additions": 5, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T23:19:10Z", "additions": 240, "deletions": 258}}, {"commit": {"committedDate": "2026-02-18T23:30:54Z", "additions": 0, "deletions": 18}}, {"commit": {"committedDate": "2026-02-19T00:00:20Z", "additions": 0, "deletions": 0}}, {"commit": {"committedDate": "2026-02-19T19:16:38Z", "additions": 29969, "deletions": 18177}}, {"commit": {"committedDate": "2026-02-19T20:35:31Z", "additions": 37, "deletions": 37}}, {"commit": {"committedDate": "2026-02-19T20:36:13Z", "additions": 1, "deletions": 1}}]}}, {"number": 48249, "title": "fix(annotations): increase max_length of content field to 1200 charac\u2026", "body": "\u2026ters\r\n\r\nPreviously the annotation content field was limited to 400 characters, which was too restrictive for users wanting to add longer annotations with links (e.g., links to app builds for QA/testing).\r\n\r\nThis increases the limit to 1200 characters to accommodate these use cases.\r\n\r\nIncreasing the length in postgres is [a safe operation](https://oneuptime.com/blog/post/2026-02-02-postgresql-database-migrations/view#:~:text=Changing%20column%20types%20often%20requires,TYPE%20VARCHAR(100);%20COMMIT;)\r\n\r\nSlack: https://posthog.slack.com/archives/C0368RPHLQH/p1771369411431129?thread_ts=1771365657.666649&cid=C0368RPHLQH\r\n\r\nhttps://claude.ai/code/session_01XshSkWg3KogAzybz3LKYGx\r\n\r\n## Problem\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "timgl"}, "createdAt": "2026-02-17T23:09:20Z", "mergedAt": "2026-02-18T22:41:03Z", "additions": 21, "deletions": 4, "changedFiles": 4, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/generated/core/api.schemas.ts"}, {"path": "posthog/migrations/1014_increase_annotation_content_max_length.py"}, {"path": "posthog/migrations/max_migration.txt"}, {"path": "posthog/models/annotation.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T23:13:09Z"}, {"author": {"login": "aspicer"}, "state": "APPROVED", "submittedAt": "2026-02-17T23:15:07Z"}, {"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:35:12Z"}, {"author": {"login": "thmsobrmlr"}, "state": "APPROVED", "submittedAt": "2026-02-18T22:35:50Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T23:08:08Z", "additions": 18, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T00:01:15Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-18T00:06:36Z", "additions": 132, "deletions": 84}}, {"commit": {"committedDate": "2026-02-18T00:31:58Z", "additions": 4, "deletions": 4}}]}}, {"number": 48248, "title": "fix(oauth): allow self-introspection of expired tokens per RFC 7662", "body": "## Problem\n\nUsers of the PostHog MCP server get **500 errors instead of 401** when their OAuth access tokens expire ([Slack thread](https://posthog.slack.com/archives/C0AEPTEPTFC/p1771134233679559)).\n\n**Root cause:** The introspection endpoint's `verify_request` method checks `token.is_valid()` for self-introspection. When a token is expired, this returns `False`, so the request is rejected with 403 instead of returning `{\"active\": false}`. This means the MCP server's `StateManager._fetchApiKey()` never reaches the `INACTIVE_OAUTH_TOKEN` code path \u2014 instead it gets an API error that propagates as an unhandled exception from `init()`, resulting in a 500.\n\nThe full cascade:\n1. Expired OAuth token \u2192 MCP server `init()` \u2192 `getToolsFromContext()` \u2192 `stateManager.getApiKey()`\n2. `_fetchApiKey()` tries `apiKeys().current()` \u2192 401 (not a personal API key)\n3. Falls back to `oauth().introspect()` \u2192 **403** (expired token can't self-introspect)\n4. Throws `\"Failed to get API key: INVALID_API_KEY\"` \u2192 propagates through `init()` \u2192 **500**\n\n## Changes\n\n- **`posthog/api/oauth/views.py`**: Remove the `is_valid()` gate from `verify_request` in the introspection endpoint. Self-introspection now only requires the token to *exist* in the database. The `get_token_response` method already correctly returns `{\"active\": false}` for expired tokens, which is the correct behavior per [RFC 7662 Section 2.2](https://www.rfc-editor.org/rfc/rfc7662#section-2.2).\n\n- **`posthog/api/oauth/test_views.py`**: Update the test to expect 200 with `active: false` instead of 403.\n\n## How did you test this code\n\n- Ran the updated test `test_self_introspection_with_expired_token_returns_inactive` \u2014 passes\n- Ran all 20 introspection-related tests \u2014 all pass\n- Verified existing behavior for valid self-introspection, client credential introspection, and different-token introspection is unchanged\n\n## Changelog\n\nNo, this is a bug fix for an edge case in the OAuth introspection endpoint.\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.com/claude-code)", "author": {"login": "MattBro"}, "createdAt": "2026-02-17T23:06:37Z", "mergedAt": "2026-02-19T14:31:49Z", "additions": 24, "deletions": 10, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/api/oauth/test_views.py"}, {"path": "posthog/api/oauth/views.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T23:11:35Z"}, {"author": {"login": "rafaeelaudibert"}, "state": "APPROVED", "submittedAt": "2026-02-19T03:37:37Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T23:06:07Z", "additions": 11, "deletions": 11}}, {"commit": {"committedDate": "2026-02-18T16:58:51Z", "additions": 14, "deletions": 0}}]}}, {"number": 48246, "title": "fix(propdefs): add default \"allow\" value to enforcement_mode col on posthog_eventdefinition", "body": "## Problem\r\nAnother solution to [the schema change introduced here](https://github.com/PostHog/posthog/pull/46104) breaking the propdefs service in production at the moment.\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Migration to re-apply the `allow` default value to the new column at the DB level\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-17T22:42:31Z", "mergedAt": "2026-02-17T23:22:42Z", "additions": 17, "deletions": 1, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/migrations/1013_eventdefinition_enforcement_mode_db_default.py"}, {"path": "posthog/migrations/max_migration.txt"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "nickbest-ph"}, "state": "APPROVED", "submittedAt": "2026-02-17T22:44:06Z"}, {"author": {"login": "aspicer"}, "state": "APPROVED", "submittedAt": "2026-02-17T22:50:13Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T22:40:29Z", "additions": 17, "deletions": 1}}]}}, {"number": 48244, "title": "feat(ingestion):  person distinct ID disassociation tool", "body": "## Problem\r\nPart two of a fix where disassociating a particular distinct ID from a known person ID is required for data consistency to resolve a support ticket.\r\n\r\nIn this case, the \"unexpected\" distinct ID association was for a `$posthog_cookieless` value which should never have made it through the ingestion pipeline in that form. There is a separate PR to fix that bug, after which it will be safe to run this job for the affected team.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n* Add a Dagster job to safely disassociate a distinct ID from an existing person ID\r\n* Related unit tests and documentation\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nLocally and in CI; smoke test (dry run mode) to be performed after this lands in Dagster Cloud env\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nN/A\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "eli-r-ph"}, "createdAt": "2026-02-17T22:21:17Z", "mergedAt": "2026-02-18T18:53:51Z", "additions": 550, "deletions": 0, "changedFiles": 3, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "posthog/dags/detach_distinct_id.py"}, {"path": "posthog/dags/locations/ingestion.py"}, {"path": "posthog/dags/tests/test_detach_distinct_id.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:23:25Z"}, {"author": {"login": "nickbest-ph"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:27:54Z"}, {"author": {"login": "nickbest-ph"}, "state": "APPROVED", "submittedAt": "2026-02-18T00:42:55Z"}, {"author": {"login": "eli-r-ph"}, "state": "COMMENTED", "submittedAt": "2026-02-18T00:51:49Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T22:20:13Z", "additions": 529, "deletions": 0}}, {"commit": {"committedDate": "2026-02-17T23:55:12Z", "additions": 33, "deletions": 12}}, {"commit": {"committedDate": "2026-02-18T00:53:13Z", "additions": 2, "deletions": 2}}]}}, {"number": 48243, "title": "chore(livestream): Bump Go version from 1.24 to 1.25.5", "body": "## Problem\r\nBump to the latest version of Go available in Flox\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\nBump Go version\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\nRan livestream service and saw events coming in\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\nNo\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "jordanm-posthog"}, "createdAt": "2026-02-17T22:18:30Z", "mergedAt": "2026-02-17T23:50:52Z", "additions": 13, "deletions": 15, "changedFiles": 11, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": ".flox/env/manifest.toml"}, {"path": ".github/workflows/build-hobby-installer.yml"}, {"path": ".github/workflows/build-livestream-tui.yml"}, {"path": ".github/workflows/ci-hobby-installer.yml"}, {"path": ".github/workflows/ci-livestream-tui.yml"}, {"path": ".github/workflows/ci-livestream.yml"}, {"path": "bin/hobby-installer/README.md"}, {"path": "bin/hobby-installer/go.mod"}, {"path": "devenv/intent-map.yaml"}, {"path": "livestream/Dockerfile"}, {"path": "livestream/go.mod"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "orian"}, "state": "APPROVED", "submittedAt": "2026-02-17T23:14:10Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T22:11:30Z", "additions": 13, "deletions": 15}}, {"commit": {"committedDate": "2026-02-17T22:24:59Z", "additions": 3, "deletions": 3}}, {"commit": {"committedDate": "2026-02-17T22:29:12Z", "additions": 891, "deletions": 0}}, {"commit": {"committedDate": "2026-02-17T22:36:54Z", "additions": 12, "deletions": 12}}]}}, {"number": 48239, "title": "feat(dwh): coming soon sources", "body": "## Changes\r\n\r\n- Add sources that competitors offer as coming soon sources - so we can get a better feel of what sources our customers are interested in\r\n\r\n<img width=\"2514\" height=\"1744\" alt=\"2026-02-17 at 22 39 14@2x\" src=\"https://github.com/user-attachments/assets/3454f058-c5b7-4dca-851c-1dc8d8ca673a\" />\r\n\r\n## How did you test this code?\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "MarconLP"}, "createdAt": "2026-02-17T21:00:21Z", "mergedAt": "2026-02-18T08:59:42Z", "additions": 4657, "deletions": 9, "changedFiles": 205, "files": {"pageInfo": {"hasNextPage": true}, "nodes": [{"path": "frontend/public/services/adjust.png"}, {"path": "frontend/public/services/aircall.png"}, {"path": "frontend/public/services/amazon_ads.png"}, {"path": "frontend/public/services/amplitude.png"}, {"path": "frontend/public/services/apple_search_ads.png"}, {"path": "frontend/public/services/appsflyer.png"}, {"path": "frontend/public/services/asana.png"}, {"path": "frontend/public/services/auth0.png"}, {"path": "frontend/public/services/azure_blob.png"}, {"path": "frontend/public/services/bamboohr.png"}, {"path": "frontend/public/services/bigcommerce.png"}, {"path": "frontend/public/services/box.png"}, {"path": "frontend/public/services/braintree.png"}, {"path": "frontend/public/services/calendly.png"}, {"path": "frontend/public/services/campaign_monitor.png"}, {"path": "frontend/public/services/chartmogul.png"}, {"path": "frontend/public/services/circleci.png"}, {"path": "frontend/public/services/clickup.png"}, {"path": "frontend/public/services/close.png"}, {"path": "frontend/public/services/cockroachdb.png"}, {"path": "frontend/public/services/confluence.png"}, {"path": "frontend/public/services/convertkit.png"}, {"path": "frontend/public/services/copper.png"}, {"path": "frontend/public/services/datadog.png"}, {"path": "frontend/public/services/drip.png"}, {"path": "frontend/public/services/dynamodb.png"}, {"path": "frontend/public/services/elasticsearch.png"}, {"path": "frontend/public/services/eventbrite.png"}, {"path": "frontend/public/services/facebook_pages.png"}, {"path": "frontend/public/services/freshdesk.png"}, {"path": "frontend/public/services/freshsales.png"}, {"path": "frontend/public/services/front.png"}, {"path": "frontend/public/services/fullstory.png"}, {"path": "frontend/public/services/gong.png"}, {"path": "frontend/public/services/google_analytics.png"}, {"path": "frontend/public/services/google_drive.png"}, {"path": "frontend/public/services/gorgias.png"}, {"path": "frontend/public/services/granola.png"}, {"path": "frontend/public/services/greenhouse.png"}, {"path": "frontend/public/services/helpscout.png"}, {"path": "frontend/public/services/instagram.png"}, {"path": "frontend/public/services/iterable.png"}, {"path": "frontend/public/services/jira.png"}, {"path": "frontend/public/services/kafka.png"}, {"path": "frontend/public/services/launchdarkly.png"}, {"path": "frontend/public/services/lever.png"}, {"path": "frontend/public/services/mailerlite.png"}, {"path": "frontend/public/services/marketo.png"}, {"path": "frontend/public/services/microsoft_teams.png"}, {"path": "frontend/public/services/mixpanel.png"}, {"path": "frontend/public/services/monday.png"}, {"path": "frontend/public/services/netsuite.png"}, {"path": "frontend/public/services/notion.png"}, {"path": "frontend/public/services/okta.png"}, {"path": "frontend/public/services/omnisend.png"}, {"path": "frontend/public/services/onedrive.png"}, {"path": "frontend/public/services/oracle.png"}, {"path": "frontend/public/services/outreach.png"}, {"path": "frontend/public/services/paddle.png"}, {"path": "frontend/public/services/pagerduty.png"}, {"path": "frontend/public/services/pardot.png"}, {"path": "frontend/public/services/paypal.png"}, {"path": "frontend/public/services/pendo.png"}, {"path": "frontend/public/services/pinterest_ads.png"}, {"path": "frontend/public/services/pipedrive.png"}, {"path": "frontend/public/services/plaid.png"}, {"path": "frontend/public/services/postmark.png"}, {"path": "frontend/public/services/productboard.png"}, {"path": "frontend/public/services/quickbooks.png"}, {"path": "frontend/public/services/recharge.png"}, {"path": "frontend/public/services/recurly.png"}, {"path": "frontend/public/services/ringcentral.png"}, {"path": "frontend/public/services/salesloft.png"}, {"path": "frontend/public/services/sentry.png"}, {"path": "frontend/public/services/servicenow.png"}, {"path": "frontend/public/services/sftp.png"}, {"path": "frontend/public/services/sharepoint.png"}, {"path": "frontend/public/services/shortcut.png"}, {"path": "frontend/public/services/smartsheet.png"}, {"path": "frontend/public/services/square.png"}, {"path": "frontend/public/services/surveymonkey.png"}, {"path": "frontend/public/services/trello.png"}, {"path": "frontend/public/services/twitter_ads.png"}, {"path": "frontend/public/services/typeform.png"}, {"path": "frontend/public/services/webflow.png"}, {"path": "frontend/public/services/woocommerce.png"}, {"path": "frontend/public/services/workday.png"}, {"path": "frontend/public/services/wrike.png"}, {"path": "frontend/public/services/xero.png"}, {"path": "frontend/public/services/youtube_analytics.png"}, {"path": "frontend/public/services/zoho_crm.png"}, {"path": "frontend/public/services/zoom.png"}, {"path": "frontend/public/services/zuora.png"}, {"path": "frontend/src/queries/schema.json"}, {"path": "frontend/src/queries/schema/schema-general.ts"}, {"path": "posthog/schema.py"}, {"path": "posthog/temporal/data_imports/sources/__init__.py"}, {"path": "posthog/temporal/data_imports/sources/active_campaign/source.py"}, {"path": "posthog/temporal/data_imports/sources/adjust/source.py"}, {"path": "posthog/temporal/data_imports/sources/aircall/source.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "sortafreel"}, "state": "APPROVED", "submittedAt": "2026-02-18T08:30:36Z"}, {"author": {"login": "Gilbert09"}, "state": "APPROVED", "submittedAt": "2026-02-18T08:58:30Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T21:50:53Z", "additions": 4657, "deletions": 9}}]}}, {"number": 48238, "title": "feat(llma): add latency tracking for all LLMA endpoints", "body": "## Problem\r\n\r\nWe are missing latency tracking for a lot of LLMA endpoints.\r\n\r\n## Changes\r\n\r\nThis adds it.\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests.\r\n\r\n## Publish to changelog?\r\n\r\nNo.\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-17T20:42:24Z", "mergedAt": "2026-02-17T21:22:00Z", "additions": 42, "deletions": 1, "changedFiles": 8, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/backend/api/clustering_config.py"}, {"path": "products/llm_analytics/backend/api/datasets.py"}, {"path": "products/llm_analytics/backend/api/evaluation_config.py"}, {"path": "products/llm_analytics/backend/api/evaluations.py"}, {"path": "products/llm_analytics/backend/api/metrics.py"}, {"path": "products/llm_analytics/backend/api/models.py"}, {"path": "products/llm_analytics/backend/api/provider_keys.py"}, {"path": "products/llm_analytics/backend/api/proxy.py"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T20:46:03Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-17T20:46:34Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T20:41:17Z", "additions": 41, "deletions": 0}}, {"commit": {"committedDate": "2026-02-17T21:01:14Z", "additions": 1, "deletions": 1}}]}}, {"number": 48237, "title": "fix(experiments): remove redundant validation errors checks.", "body": "## Problem\r\n\r\nIn some cases, when exposures are low, but there are no validation failures (`hasMinimumExposureForResults === false` and `hasResultWithValidationFailures === false`), we take the error route, but `ChartEmptyState` bails because there's no error.\r\n\r\nThe double negative is confusing, and this has been broken for a while.\r\n\r\n<!-- Who are we building for, what are their needs, why is this important? -->\r\n\r\n<!-- Does this fix an issue? Uncomment the line below with the issue ID to automatically close it when merged -->\r\n<!-- Closes #ISSUE_ID -->\r\n\r\n## Changes\r\n\r\nThis check is unnecessary because the `DeltaChart` component already handles validation errors with a _Not enough data yet_ message. We can improve this in the future.\r\n\r\n| before | after |\r\n| - | - |\r\n| <img width=\"1349\" height=\"978\" alt=\"Screenshot 2026-02-17 at 17 29 23\" src=\"https://github.com/user-attachments/assets/46a1cad6-c415-4914-902b-1b164dd6076b\" /> | <img width=\"1351\" height=\"973\" alt=\"Screenshot 2026-02-17 at 17 29 47\" src=\"https://github.com/user-attachments/assets/e1d3cf72-a36e-4970-bd29-e532db355b04\" /> |\r\n\r\n\r\n<!-- If there are frontend changes, please include screenshots. -->\r\n<!-- If a reference design was involved, include a link to the relevant Figma frame! -->\r\n\r\n## How did you test this code?\r\n\r\n![cat-type](https://github.com/user-attachments/assets/c60b9c4a-340a-42fc-a106-801173dd1e09)\r\n\r\n\r\n<!-- Briefly describe the steps you took. -->\r\n<!-- Include automated tests if possible, otherwise describe the manual testing routine. -->\r\n\r\n<!-- Docs reminder: If this change requires updated docs, please do that! Engineers are the primary people responsible for their documentation. \ud83d\ude4c -->\r\n\r\n\ud83d\udc49 _Stay up-to-date with [PostHog coding conventions](https://posthog.com/docs/contribute/coding-conventions) for a smoother review._\r\n\r\n## Publish to changelog?\r\n\r\ndo not publish to changelog\r\n\r\n<!-- For features only -->\r\n\r\n<!-- If publishing, you must provide changelog details in the #changelog Slack channel. You will receive a follow-up PR comment or notification. -->\r\n\r\n<!-- If not, write \"no\" or \"do not publish to changelog\" to explicitly opt-out of posting to #changelog. Removing this entire section will not prevent posting. -->\r\n", "author": {"login": "rodrigoi"}, "createdAt": "2026-02-17T20:27:11Z", "mergedAt": "2026-02-17T21:28:48Z", "additions": 2, "deletions": 10, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "frontend/src/scenes/experiments/MetricsView/new/MetricRowGroup.tsx"}, {"path": "frontend/src/scenes/experiments/MetricsView/new/MetricsTable.tsx"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T21:17:26Z"}, {"author": {"login": "mp-hog"}, "state": "APPROVED", "submittedAt": "2026-02-17T21:28:46Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T20:48:52Z", "additions": 2, "deletions": 10}}]}}, {"number": 48236, "title": "feat(llma): track single trace load age and query timing", "body": "## Problem\r\n\r\nWe want to know how old are traces that our users request in the single trace page, so find a way to optimize querying for them.\r\n\r\n## Changes\r\n\r\n- Added `llma single trace loaded` capture in `llmAnalyticsTraceDataLogic`.\r\n- Added UTC timing payload fields:\r\n  - `trace_timestamp_utc` from the earliest valid trace event timestamp (fallback to valid `trace.createdAt`).\r\n  - `now_timestamp_utc` from current UTC at capture time.\r\n  - `trace_oldness_minutes` as diff between now and trace timestamp.\r\n  - `trace_query_runner_load_duration_ms` from `dataNodeLogic.elapsedTime`.\r\n\r\n## How did you test this code?\r\n\r\nAutomated tests\r\n\r\n## Publish to changelog?\r\n\r\nno\r\n", "author": {"login": "Radu-Raicea"}, "createdAt": "2026-02-17T20:23:11Z", "mergedAt": "2026-02-18T13:59:06Z", "additions": 249, "deletions": 5, "changedFiles": 2, "files": {"pageInfo": {"hasNextPage": false}, "nodes": [{"path": "products/llm_analytics/frontend/llmAnalyticsTraceDataLogic.test.ts"}, {"path": "products/llm_analytics/frontend/llmAnalyticsTraceDataLogic.ts"}]}, "labels": {"nodes": []}, "reviews": {"nodes": [{"author": {"login": "graphite-app"}, "state": "COMMENTED", "submittedAt": "2026-02-17T20:28:18Z"}, {"author": {"login": "greptile-apps"}, "state": "COMMENTED", "submittedAt": "2026-02-17T20:32:53Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-17T21:02:45Z"}, {"author": {"login": "Radu-Raicea"}, "state": "COMMENTED", "submittedAt": "2026-02-17T21:04:04Z"}, {"author": {"login": "andrewm4894"}, "state": "APPROVED", "submittedAt": "2026-02-18T00:02:29Z"}]}, "timelineItems": {"nodes": [{"commit": {"committedDate": "2026-02-17T19:28:48Z", "additions": 224, "deletions": 5}}, {"commit": {"committedDate": "2026-02-17T20:47:39Z", "additions": 1, "deletions": 1}}, {"commit": {"committedDate": "2026-02-17T21:15:47Z", "additions": 52, "deletions": 27}}]}}]